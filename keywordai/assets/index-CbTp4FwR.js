(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function l(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(r){if(r.ep)return;r.ep=!0;const c=l(r);fetch(r.href,c)}})();function $h(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var su={exports:{}},xo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm;function j0(){if(Sm)return xo;Sm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function l(o,r,c){var m=null;if(c!==void 0&&(m=""+c),r.key!==void 0&&(m=""+r.key),"key"in r){c={};for(var h in r)h!=="key"&&(c[h]=r[h])}else c=r;return r=c.ref,{$$typeof:n,type:o,key:m,ref:r!==void 0?r:null,props:c}}return xo.Fragment=e,xo.jsx=l,xo.jsxs=l,xo}var Em;function ey(){return Em||(Em=1,su.exports=j0()),su.exports}var A=ey(),uu={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am;function ty(){if(Am)return Ce;Am=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),m=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),T=Symbol.iterator;function C(w){return w===null||typeof w!="object"?null:(w=T&&w[T]||w["@@iterator"],typeof w=="function"?w:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,D={};function L(w,$,ne){this.props=w,this.context=$,this.refs=D,this.updater=ne||S}L.prototype.isReactComponent={},L.prototype.setState=function(w,$){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,$,"setState")},L.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function U(){}U.prototype=L.prototype;function J(w,$,ne){this.props=w,this.context=$,this.refs=D,this.updater=ne||S}var O=J.prototype=new U;O.constructor=J,b(O,L.prototype),O.isPureReactComponent=!0;var P=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function W(w,$,ne,oe,le,F){return ne=F.ref,{$$typeof:n,type:w,key:$,ref:ne!==void 0?ne:null,props:F}}function N(w,$){return W(w.type,$,void 0,void 0,void 0,w.props)}function R(w){return typeof w=="object"&&w!==null&&w.$$typeof===n}function V(w){var $={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(ne){return $[ne]})}var G=/\/+/g;function q(w,$){return typeof w=="object"&&w!==null&&w.key!=null?V(""+w.key):$.toString(36)}function X(){}function z(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(X,X):(w.status="pending",w.then(function($){w.status==="pending"&&(w.status="fulfilled",w.value=$)},function($){w.status==="pending"&&(w.status="rejected",w.reason=$)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function K(w,$,ne,oe,le){var F=typeof w;(F==="undefined"||F==="boolean")&&(w=null);var ae=!1;if(w===null)ae=!0;else switch(F){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(w.$$typeof){case n:case e:ae=!0;break;case g:return ae=w._init,K(ae(w._payload),$,ne,oe,le)}}if(ae)return le=le(w),ae=oe===""?"."+q(w,0):oe,P(le)?(ne="",ae!=null&&(ne=ae.replace(G,"$&/")+"/"),K(le,$,ne,"",function(de){return de})):le!=null&&(R(le)&&(le=N(le,ne+(le.key==null||w&&w.key===le.key?"":(""+le.key).replace(G,"$&/")+"/")+ae)),$.push(le)),1;ae=0;var ce=oe===""?".":oe+":";if(P(w))for(var fe=0;fe<w.length;fe++)oe=w[fe],F=ce+q(oe,fe),ae+=K(oe,$,ne,F,le);else if(fe=C(w),typeof fe=="function")for(w=fe.call(w),fe=0;!(oe=w.next()).done;)oe=oe.value,F=ce+q(oe,fe++),ae+=K(oe,$,ne,F,le);else if(F==="object"){if(typeof w.then=="function")return K(z(w),$,ne,oe,le);throw $=String(w),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ae}function E(w,$,ne){if(w==null)return w;var oe=[],le=0;return K(w,oe,"","",function(F){return $.call(ne,F,le++)}),oe}function _(w){if(w._status===-1){var $=w._result;$=$(),$.then(function(ne){(w._status===0||w._status===-1)&&(w._status=1,w._result=ne)},function(ne){(w._status===0||w._status===-1)&&(w._status=2,w._result=ne)}),w._status===-1&&(w._status=0,w._result=$)}if(w._status===1)return w._result.default;throw w._result}var ee=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function Q(){}return Ce.Children={map:E,forEach:function(w,$,ne){E(w,function(){$.apply(this,arguments)},ne)},count:function(w){var $=0;return E(w,function(){$++}),$},toArray:function(w){return E(w,function($){return $})||[]},only:function(w){if(!R(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},Ce.Component=L,Ce.Fragment=l,Ce.Profiler=r,Ce.PureComponent=J,Ce.StrictMode=o,Ce.Suspense=v,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(w){return H.H.useMemoCache(w)}},Ce.cache=function(w){return function(){return w.apply(null,arguments)}},Ce.cloneElement=function(w,$,ne){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var oe=b({},w.props),le=w.key,F=void 0;if($!=null)for(ae in $.ref!==void 0&&(F=void 0),$.key!==void 0&&(le=""+$.key),$)!k.call($,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&$.ref===void 0||(oe[ae]=$[ae]);var ae=arguments.length-2;if(ae===1)oe.children=ne;else if(1<ae){for(var ce=Array(ae),fe=0;fe<ae;fe++)ce[fe]=arguments[fe+2];oe.children=ce}return W(w.type,le,void 0,void 0,F,oe)},Ce.createContext=function(w){return w={$$typeof:m,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:c,_context:w},w},Ce.createElement=function(w,$,ne){var oe,le={},F=null;if($!=null)for(oe in $.key!==void 0&&(F=""+$.key),$)k.call($,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(le[oe]=$[oe]);var ae=arguments.length-2;if(ae===1)le.children=ne;else if(1<ae){for(var ce=Array(ae),fe=0;fe<ae;fe++)ce[fe]=arguments[fe+2];le.children=ce}if(w&&w.defaultProps)for(oe in ae=w.defaultProps,ae)le[oe]===void 0&&(le[oe]=ae[oe]);return W(w,F,void 0,void 0,null,le)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(w){return{$$typeof:h,render:w}},Ce.isValidElement=R,Ce.lazy=function(w){return{$$typeof:g,_payload:{_status:-1,_result:w},_init:_}},Ce.memo=function(w,$){return{$$typeof:p,type:w,compare:$===void 0?null:$}},Ce.startTransition=function(w){var $=H.T,ne={};H.T=ne;try{var oe=w(),le=H.S;le!==null&&le(ne,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Q,ee)}catch(F){ee(F)}finally{H.T=$}},Ce.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Ce.use=function(w){return H.H.use(w)},Ce.useActionState=function(w,$,ne){return H.H.useActionState(w,$,ne)},Ce.useCallback=function(w,$){return H.H.useCallback(w,$)},Ce.useContext=function(w){return H.H.useContext(w)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(w,$){return H.H.useDeferredValue(w,$)},Ce.useEffect=function(w,$,ne){var oe=H.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(w,$)},Ce.useId=function(){return H.H.useId()},Ce.useImperativeHandle=function(w,$,ne){return H.H.useImperativeHandle(w,$,ne)},Ce.useInsertionEffect=function(w,$){return H.H.useInsertionEffect(w,$)},Ce.useLayoutEffect=function(w,$){return H.H.useLayoutEffect(w,$)},Ce.useMemo=function(w,$){return H.H.useMemo(w,$)},Ce.useOptimistic=function(w,$){return H.H.useOptimistic(w,$)},Ce.useReducer=function(w,$,ne){return H.H.useReducer(w,$,ne)},Ce.useRef=function(w){return H.H.useRef(w)},Ce.useState=function(w){return H.H.useState(w)},Ce.useSyncExternalStore=function(w,$,ne){return H.H.useSyncExternalStore(w,$,ne)},Ce.useTransition=function(){return H.H.useTransition()},Ce.version="19.1.0",Ce}var _m;function wu(){return _m||(_m=1,uu.exports=ty()),uu.exports}var Ne=wu();const ny=$h(Ne);var fu={exports:{}},So={},cu={exports:{}},du={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function iy(){return Mm||(Mm=1,function(n){function e(E,_){var ee=E.length;E.push(_);e:for(;0<ee;){var Q=ee-1>>>1,w=E[Q];if(0<r(w,_))E[Q]=_,E[ee]=w,ee=Q;else break e}}function l(E){return E.length===0?null:E[0]}function o(E){if(E.length===0)return null;var _=E[0],ee=E.pop();if(ee!==_){E[0]=ee;e:for(var Q=0,w=E.length,$=w>>>1;Q<$;){var ne=2*(Q+1)-1,oe=E[ne],le=ne+1,F=E[le];if(0>r(oe,ee))le<w&&0>r(F,oe)?(E[Q]=F,E[le]=ee,Q=le):(E[Q]=oe,E[ne]=ee,Q=ne);else if(le<w&&0>r(F,ee))E[Q]=F,E[le]=ee,Q=le;else break e}}return _}function r(E,_){var ee=E.sortIndex-_.sortIndex;return ee!==0?ee:E.id-_.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var m=Date,h=m.now();n.unstable_now=function(){return m.now()-h}}var v=[],p=[],g=1,T=null,C=3,S=!1,b=!1,D=!1,L=!1,U=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function P(E){for(var _=l(p);_!==null;){if(_.callback===null)o(p);else if(_.startTime<=E)o(p),_.sortIndex=_.expirationTime,e(v,_);else break;_=l(p)}}function H(E){if(D=!1,P(E),!b)if(l(v)!==null)b=!0,k||(k=!0,q());else{var _=l(p);_!==null&&K(H,_.startTime-E)}}var k=!1,W=-1,N=5,R=-1;function V(){return L?!0:!(n.unstable_now()-R<N)}function G(){if(L=!1,k){var E=n.unstable_now();R=E;var _=!0;try{e:{b=!1,D&&(D=!1,J(W),W=-1),S=!0;var ee=C;try{t:{for(P(E),T=l(v);T!==null&&!(T.expirationTime>E&&V());){var Q=T.callback;if(typeof Q=="function"){T.callback=null,C=T.priorityLevel;var w=Q(T.expirationTime<=E);if(E=n.unstable_now(),typeof w=="function"){T.callback=w,P(E),_=!0;break t}T===l(v)&&o(v),P(E)}else o(v);T=l(v)}if(T!==null)_=!0;else{var $=l(p);$!==null&&K(H,$.startTime-E),_=!1}}break e}finally{T=null,C=ee,S=!1}_=void 0}}finally{_?q():k=!1}}}var q;if(typeof O=="function")q=function(){O(G)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,z=X.port2;X.port1.onmessage=G,q=function(){z.postMessage(null)}}else q=function(){U(G,0)};function K(E,_){W=U(function(){E(n.unstable_now())},_)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(E){E.callback=null},n.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<E?Math.floor(1e3/E):5},n.unstable_getCurrentPriorityLevel=function(){return C},n.unstable_next=function(E){switch(C){case 1:case 2:case 3:var _=3;break;default:_=C}var ee=C;C=_;try{return E()}finally{C=ee}},n.unstable_requestPaint=function(){L=!0},n.unstable_runWithPriority=function(E,_){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var ee=C;C=E;try{return _()}finally{C=ee}},n.unstable_scheduleCallback=function(E,_,ee){var Q=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Q+ee:Q):ee=Q,E){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=ee+w,E={id:g++,callback:_,priorityLevel:E,startTime:ee,expirationTime:w,sortIndex:-1},ee>Q?(E.sortIndex=ee,e(p,E),l(v)===null&&E===l(p)&&(D?(J(W),W=-1):D=!0,K(H,ee-Q))):(E.sortIndex=w,e(v,E),b||S||(b=!0,k||(k=!0,q()))),E},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(E){var _=C;return function(){var ee=C;C=_;try{return E.apply(this,arguments)}finally{C=ee}}}}(du)),du}var bm;function ly(){return bm||(bm=1,cu.exports=iy()),cu.exports}var mu={exports:{}},xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm;function oy(){if(wm)return xt;wm=1;var n=wu();function e(v){var p="https://react.dev/errors/"+v;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+v+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var o={d:{f:l,r:function(){throw Error(e(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function c(v,p,g){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:v,containerInfo:p,implementation:g}}var m=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(v,p){if(v==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,xt.createPortal=function(v,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(v,p,null,g)},xt.flushSync=function(v){var p=m.T,g=o.p;try{if(m.T=null,o.p=2,v)return v()}finally{m.T=p,o.p=g,o.d.f()}},xt.preconnect=function(v,p){typeof v=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(v,p))},xt.prefetchDNS=function(v){typeof v=="string"&&o.d.D(v)},xt.preinit=function(v,p){if(typeof v=="string"&&p&&typeof p.as=="string"){var g=p.as,T=h(g,p.crossOrigin),C=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?o.d.S(v,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:C,fetchPriority:S}):g==="script"&&o.d.X(v,{crossOrigin:T,integrity:C,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},xt.preinitModule=function(v,p){if(typeof v=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=h(p.as,p.crossOrigin);o.d.M(v,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(v)},xt.preload=function(v,p){if(typeof v=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,T=h(g,p.crossOrigin);o.d.L(v,g,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},xt.preloadModule=function(v,p){if(typeof v=="string")if(p){var g=h(p.as,p.crossOrigin);o.d.m(v,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(v)},xt.requestFormReset=function(v){o.d.r(v)},xt.unstable_batchedUpdates=function(v,p){return v(p)},xt.useFormState=function(v,p,g){return m.H.useFormState(v,p,g)},xt.useFormStatus=function(){return m.H.useHostTransitionStatus()},xt.version="19.1.0",xt}var Rm;function ay(){if(Rm)return mu.exports;Rm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),mu.exports=oy(),mu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function ry(){if(Nm)return So;Nm=1;var n=ly(),e=wu(),l=ay();function o(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function m(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function h(t){if(c(t)!==t)throw Error(o(188))}function v(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(o(188));return i!==t?null:t}for(var a=t,f=i;;){var d=a.return;if(d===null)break;var y=d.alternate;if(y===null){if(f=d.return,f!==null){a=f;continue}break}if(d.child===y.child){for(y=d.child;y;){if(y===a)return h(d),t;if(y===f)return h(d),i;y=y.sibling}throw Error(o(188))}if(a.return!==f.return)a=d,f=y;else{for(var x=!1,M=d.child;M;){if(M===a){x=!0,a=d,f=y;break}if(M===f){x=!0,f=d,a=y;break}M=M.sibling}if(!x){for(M=y.child;M;){if(M===a){x=!0,a=y,f=d;break}if(M===f){x=!0,f=y,a=d;break}M=M.sibling}if(!x)throw Error(o(189))}}if(a.alternate!==f)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var g=Object.assign,T=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),O=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function q(t){return t===null||typeof t!="object"?null:(t=G&&t[G]||t["@@iterator"],typeof t=="function"?t:null)}var X=Symbol.for("react.client.reference");function z(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===X?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case b:return"Fragment";case L:return"Profiler";case D:return"StrictMode";case H:return"Suspense";case k:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case S:return"Portal";case O:return(t.displayName||"Context")+".Provider";case J:return(t._context.displayName||"Context")+".Consumer";case P:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case W:return i=t.displayName||null,i!==null?i:z(t.type)||"Memo";case N:i=t._payload,t=t._init;try{return z(t(i))}catch{}}return null}var K=Array.isArray,E=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Q=[],w=-1;function $(t){return{current:t}}function ne(t){0>w||(t.current=Q[w],Q[w]=null,w--)}function oe(t,i){w++,Q[w]=t.current,t.current=i}var le=$(null),F=$(null),ae=$(null),ce=$(null);function fe(t,i){switch(oe(ae,i),oe(F,t),oe(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Zd(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Zd(i),t=$d(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ne(le),oe(le,t)}function de(){ne(le),ne(F),ne(ae)}function ve(t){t.memoizedState!==null&&oe(ce,t);var i=le.current,a=$d(i,t.type);i!==a&&(oe(F,t),oe(le,a))}function Ae(t){F.current===t&&(ne(le),ne(F)),ce.current===t&&(ne(ce),go._currentValue=ee)}var xe=Object.prototype.hasOwnProperty,nt=n.unstable_scheduleCallback,we=n.unstable_cancelCallback,ke=n.unstable_shouldYield,Oe=n.unstable_requestPaint,_e=n.unstable_now,Pe=n.unstable_getCurrentPriorityLevel,it=n.unstable_ImmediatePriority,st=n.unstable_UserBlockingPriority,Ye=n.unstable_NormalPriority,Et=n.unstable_LowPriority,Xe=n.unstable_IdlePriority,He=n.log,At=n.unstable_setDisableYieldValue,wt=null,ut=null;function Je(t){if(typeof He=="function"&&At(t),ut&&typeof ut.setStrictMode=="function")try{ut.setStrictMode(wt,t)}catch{}}var je=Math.clz32?Math.clz32:Rt,pt=Math.log,qt=Math.LN2;function Rt(t){return t>>>=0,t===0?32:31-(pt(t)/qt|0)|0}var Nt=256,_t=4194304;function Mt(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Vn(t,i,a){var f=t.pendingLanes;if(f===0)return 0;var d=0,y=t.suspendedLanes,x=t.pingedLanes;t=t.warmLanes;var M=f&134217727;return M!==0?(f=M&~y,f!==0?d=Mt(f):(x&=M,x!==0?d=Mt(x):a||(a=M&~t,a!==0&&(d=Mt(a))))):(M=f&~y,M!==0?d=Mt(M):x!==0?d=Mt(x):a||(a=f&~t,a!==0&&(d=Mt(a)))),d===0?0:i!==0&&i!==d&&(i&y)===0&&(y=d&-d,a=i&-i,y>=a||y===32&&(a&4194048)!==0)?i:d}function si(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function El(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Al(){var t=Nt;return Nt<<=1,(Nt&4194048)===0&&(Nt=256),t}function Gn(){var t=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),t}function _l(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Dt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function un(t,i,a,f,d,y){var x=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var M=t.entanglements,I=t.expirationTimes,j=t.hiddenUpdates;for(a=x&~a;0<a;){var re=31-je(a),ue=1<<re;M[re]=0,I[re]=-1;var te=j[re];if(te!==null)for(j[re]=null,re=0;re<te.length;re++){var ie=te[re];ie!==null&&(ie.lane&=-536870913)}a&=~ue}f!==0&&vn(t,f,0),y!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=y&~(x&~i))}function vn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var f=31-je(i);t.entangledLanes|=i,t.entanglements[f]=t.entanglements[f]|1073741824|a&4194090}function qn(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var f=31-je(a),d=1<<f;d&i|t[f]&i&&(t[f]|=i),a&=~d}}function Ri(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ln(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fn(){var t=_.p;return t!==0?t:(t=window.event,t===void 0?32:gm(t.type))}function zp(t,i){var a=_.p;try{return _.p=t,i()}finally{_.p=a}}var Bn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Bn,Ut="__reactProps$"+Bn,Ni="__reactContainer$"+Bn,er="__reactEvents$"+Bn,Fp="__reactListeners$"+Bn,Op="__reactHandles$"+Bn,Gu="__reactResources$"+Bn,Ml="__reactMarker$"+Bn;function tr(t){delete t[Tt],delete t[Ut],delete t[er],delete t[Fp],delete t[Op]}function Di(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ni]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=tm(t);t!==null;){if(a=t[Tt])return a;t=tm(t)}return i}t=a,a=t.parentNode}return null}function Ui(t){if(t=t[Tt]||t[Ni]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function bl(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(o(33))}function ki(t){var i=t[Gu];return i||(i=t[Gu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ft(t){t[Ml]=!0}var qu=new Set,Bu={};function ui(t,i){Ii(t,i),Ii(t+"Capture",i)}function Ii(t,i){for(Bu[t]=i,t=0;t<i.length;t++)qu.add(i[t])}var Yp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pu={},Hu={};function Jp(t){return xe.call(Hu,t)?!0:xe.call(Pu,t)?!1:Yp.test(t)?Hu[t]=!0:(Pu[t]=!0,!1)}function Mo(t,i,a){if(Jp(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var f=i.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function bo(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Tn(t,i,a,f){if(f===null)t.removeAttribute(a);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+f)}}var nr,zu;function Li(t){if(nr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);nr=i&&i[1]||"",zu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nr+t+zu}var ir=!1;function lr(t,i){if(!t||ir)return"";ir=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(i){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ie){var te=ie}Reflect.construct(t,[],ue)}else{try{ue.call()}catch(ie){te=ie}t.call(ue.prototype)}}else{try{throw Error()}catch(ie){te=ie}(ue=t())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ie){if(ie&&te&&typeof ie.stack=="string")return[ie.stack,te.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=f.DetermineComponentFrameRoot(),x=y[0],M=y[1];if(x&&M){var I=x.split(`
`),j=M.split(`
`);for(d=f=0;f<I.length&&!I[f].includes("DetermineComponentFrameRoot");)f++;for(;d<j.length&&!j[d].includes("DetermineComponentFrameRoot");)d++;if(f===I.length||d===j.length)for(f=I.length-1,d=j.length-1;1<=f&&0<=d&&I[f]!==j[d];)d--;for(;1<=f&&0<=d;f--,d--)if(I[f]!==j[d]){if(f!==1||d!==1)do if(f--,d--,0>d||I[f]!==j[d]){var re=`
`+I[f].replace(" at new "," at ");return t.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",t.displayName)),re}while(1<=f&&0<=d);break}}}finally{ir=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Li(a):""}function Kp(t){switch(t.tag){case 26:case 27:case 5:return Li(t.type);case 16:return Li("Lazy");case 13:return Li("Suspense");case 19:return Li("SuspenseList");case 0:case 15:return lr(t.type,!1);case 11:return lr(t.type.render,!1);case 1:return lr(t.type,!0);case 31:return Li("Activity");default:return""}}function Fu(t){try{var i="";do i+=Kp(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ou(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Qp(t){var i=Ou(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),f=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,y=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(x){f=""+x,y.call(this,x)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return f},setValue:function(x){f=""+x},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function wo(t){t._valueTracker||(t._valueTracker=Qp(t))}function Yu(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),f="";return t&&(f=Ou(t)?t.checked?"true":"false":t.value),t=f,t!==a?(i.setValue(t),!0):!1}function Ro(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Xp=/[\n"\\]/g;function Kt(t){return t.replace(Xp,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function or(t,i,a,f,d,y,x,M){t.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.type=x:t.removeAttribute("type"),i!=null?x==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Jt(i)):t.value!==""+Jt(i)&&(t.value=""+Jt(i)):x!=="submit"&&x!=="reset"||t.removeAttribute("value"),i!=null?ar(t,x,Jt(i)):a!=null?ar(t,x,Jt(a)):f!=null&&t.removeAttribute("value"),d==null&&y!=null&&(t.defaultChecked=!!y),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.name=""+Jt(M):t.removeAttribute("name")}function Ju(t,i,a,f,d,y,x,M){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.type=y),i!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||i!=null))return;a=a!=null?""+Jt(a):"",i=i!=null?""+Jt(i):a,M||i===t.value||(t.value=i),t.defaultValue=i}f=f??d,f=typeof f!="function"&&typeof f!="symbol"&&!!f,t.checked=M?t.checked:!!f,t.defaultChecked=!!f,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.name=x)}function ar(t,i,a){i==="number"&&Ro(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Vi(t,i,a,f){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&f&&(t[a].defaultSelected=!0)}else{for(a=""+Jt(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,f&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function Ku(t,i,a){if(i!=null&&(i=""+Jt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Jt(a):""}function Qu(t,i,a,f){if(i==null){if(f!=null){if(a!=null)throw Error(o(92));if(K(f)){if(1<f.length)throw Error(o(93));f=f[0]}a=f}a==null&&(a=""),i=a}a=Jt(i),t.defaultValue=a,f=t.textContent,f===a&&f!==""&&f!==null&&(t.value=f)}function Gi(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Zp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xu(t,i,a){var f=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?f?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":f?t.setProperty(i,a):typeof a!="number"||a===0||Zp.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Zu(t,i,a){if(i!=null&&typeof i!="object")throw Error(o(62));if(t=t.style,a!=null){for(var f in a)!a.hasOwnProperty(f)||i!=null&&i.hasOwnProperty(f)||(f.indexOf("--")===0?t.setProperty(f,""):f==="float"?t.cssFloat="":t[f]="");for(var d in i)f=i[d],i.hasOwnProperty(d)&&a[d]!==f&&Xu(t,d,f)}else for(var y in i)i.hasOwnProperty(y)&&Xu(t,y,i[y])}function rr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $p=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function No(t){return Wp.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var sr=null;function ur(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qi=null,Bi=null;function $u(t){var i=Ui(t);if(i&&(t=i.stateNode)){var a=t[Ut]||null;e:switch(t=i.stateNode,i.type){case"input":if(or(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Kt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var f=a[i];if(f!==t&&f.form===t.form){var d=f[Ut]||null;if(!d)throw Error(o(90));or(f,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)f=a[i],f.form===t.form&&Yu(f)}break e;case"textarea":Ku(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Vi(t,!!a.multiple,i,!1)}}}var fr=!1;function Wu(t,i,a){if(fr)return t(i,a);fr=!0;try{var f=t(i);return f}finally{if(fr=!1,(qi!==null||Bi!==null)&&(pa(),qi&&(i=qi,t=Bi,Bi=qi=null,$u(i),t)))for(i=0;i<t.length;i++)$u(t[i])}}function wl(t,i){var a=t.stateNode;if(a===null)return null;var f=a[Ut]||null;if(f===null)return null;a=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(t=t.type,f=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!f;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(o(231,i,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cr=!1;if(Cn)try{var Rl={};Object.defineProperty(Rl,"passive",{get:function(){cr=!0}}),window.addEventListener("test",Rl,Rl),window.removeEventListener("test",Rl,Rl)}catch{cr=!1}var Pn=null,dr=null,Do=null;function ju(){if(Do)return Do;var t,i=dr,a=i.length,f,d="value"in Pn?Pn.value:Pn.textContent,y=d.length;for(t=0;t<a&&i[t]===d[t];t++);var x=a-t;for(f=1;f<=x&&i[a-f]===d[y-f];f++);return Do=d.slice(t,1<f?1-f:void 0)}function Uo(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ko(){return!0}function ef(){return!1}function kt(t){function i(a,f,d,y,x){this._reactName=a,this._targetInst=d,this.type=f,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var M in t)t.hasOwnProperty(M)&&(a=t[M],this[M]=a?a(y):y[M]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ko:ef,this.isPropagationStopped=ef,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ko)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ko)},persist:function(){},isPersistent:ko}),i}var fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Io=kt(fi),Nl=g({},fi,{view:0,detail:0}),jp=kt(Nl),mr,hr,Dl,Lo=g({},Nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dl&&(Dl&&t.type==="mousemove"?(mr=t.screenX-Dl.screenX,hr=t.screenY-Dl.screenY):hr=mr=0,Dl=t),mr)},movementY:function(t){return"movementY"in t?t.movementY:hr}}),tf=kt(Lo),eg=g({},Lo,{dataTransfer:0}),tg=kt(eg),ng=g({},Nl,{relatedTarget:0}),pr=kt(ng),ig=g({},fi,{animationName:0,elapsedTime:0,pseudoElement:0}),lg=kt(ig),og=g({},fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ag=kt(og),rg=g({},fi,{data:0}),nf=kt(rg),sg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ug={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cg(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=fg[t])?!!i[t]:!1}function gr(){return cg}var dg=g({},Nl,{key:function(t){if(t.key){var i=sg[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Uo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ug[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(t){return t.type==="keypress"?Uo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Uo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mg=kt(dg),hg=g({},Lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lf=kt(hg),pg=g({},Nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),gg=kt(pg),yg=g({},fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),vg=kt(yg),Tg=g({},Lo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Cg=kt(Tg),xg=g({},fi,{newState:0,oldState:0}),Sg=kt(xg),Eg=[9,13,27,32],yr=Cn&&"CompositionEvent"in window,Ul=null;Cn&&"documentMode"in document&&(Ul=document.documentMode);var Ag=Cn&&"TextEvent"in window&&!Ul,of=Cn&&(!yr||Ul&&8<Ul&&11>=Ul),af=" ",rf=!1;function sf(t,i){switch(t){case"keyup":return Eg.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pi=!1;function _g(t,i){switch(t){case"compositionend":return uf(i);case"keypress":return i.which!==32?null:(rf=!0,af);case"textInput":return t=i.data,t===af&&rf?null:t;default:return null}}function Mg(t,i){if(Pi)return t==="compositionend"||!yr&&sf(t,i)?(t=ju(),Do=dr=Pn=null,Pi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return of&&i.locale!=="ko"?null:i.data;default:return null}}var bg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ff(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!bg[t.type]:i==="textarea"}function cf(t,i,a,f){qi?Bi?Bi.push(f):Bi=[f]:qi=f,i=xa(i,"onChange"),0<i.length&&(a=new Io("onChange","change",null,a,f),t.push({event:a,listeners:i}))}var kl=null,Il=null;function wg(t){Yd(t,0)}function Vo(t){var i=bl(t);if(Yu(i))return t}function df(t,i){if(t==="change")return i}var mf=!1;if(Cn){var vr;if(Cn){var Tr="oninput"in document;if(!Tr){var hf=document.createElement("div");hf.setAttribute("oninput","return;"),Tr=typeof hf.oninput=="function"}vr=Tr}else vr=!1;mf=vr&&(!document.documentMode||9<document.documentMode)}function pf(){kl&&(kl.detachEvent("onpropertychange",gf),Il=kl=null)}function gf(t){if(t.propertyName==="value"&&Vo(Il)){var i=[];cf(i,Il,t,ur(t)),Wu(wg,i)}}function Rg(t,i,a){t==="focusin"?(pf(),kl=i,Il=a,kl.attachEvent("onpropertychange",gf)):t==="focusout"&&pf()}function Ng(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vo(Il)}function Dg(t,i){if(t==="click")return Vo(i)}function Ug(t,i){if(t==="input"||t==="change")return Vo(i)}function kg(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Bt=typeof Object.is=="function"?Object.is:kg;function Ll(t,i){if(Bt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),f=Object.keys(i);if(a.length!==f.length)return!1;for(f=0;f<a.length;f++){var d=a[f];if(!xe.call(i,d)||!Bt(t[d],i[d]))return!1}return!0}function yf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vf(t,i){var a=yf(t);t=0;for(var f;a;){if(a.nodeType===3){if(f=t+a.textContent.length,t<=i&&f>=i)return{node:a,offset:i-t};t=f}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=yf(a)}}function Tf(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Tf(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Cf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ro(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ro(t.document)}return i}function Cr(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Ig=Cn&&"documentMode"in document&&11>=document.documentMode,Hi=null,xr=null,Vl=null,Sr=!1;function xf(t,i,a){var f=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sr||Hi==null||Hi!==Ro(f)||(f=Hi,"selectionStart"in f&&Cr(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Vl&&Ll(Vl,f)||(Vl=f,f=xa(xr,"onSelect"),0<f.length&&(i=new Io("onSelect","select",null,i,a),t.push({event:i,listeners:f}),i.target=Hi)))}function ci(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var zi={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionrun:ci("Transition","TransitionRun"),transitionstart:ci("Transition","TransitionStart"),transitioncancel:ci("Transition","TransitionCancel"),transitionend:ci("Transition","TransitionEnd")},Er={},Sf={};Cn&&(Sf=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function di(t){if(Er[t])return Er[t];if(!zi[t])return t;var i=zi[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Sf)return Er[t]=i[a];return t}var Ef=di("animationend"),Af=di("animationiteration"),_f=di("animationstart"),Lg=di("transitionrun"),Vg=di("transitionstart"),Gg=di("transitioncancel"),Mf=di("transitionend"),bf=new Map,Ar="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ar.push("scrollEnd");function on(t,i){bf.set(t,i),ui(i,[t])}var wf=new WeakMap;function Qt(t,i){if(typeof t=="object"&&t!==null){var a=wf.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Fu(i)},wf.set(t,i),i)}return{value:t,source:i,stack:Fu(i)}}var Xt=[],Fi=0,_r=0;function Go(){for(var t=Fi,i=_r=Fi=0;i<t;){var a=Xt[i];Xt[i++]=null;var f=Xt[i];Xt[i++]=null;var d=Xt[i];Xt[i++]=null;var y=Xt[i];if(Xt[i++]=null,f!==null&&d!==null){var x=f.pending;x===null?d.next=d:(d.next=x.next,x.next=d),f.pending=d}y!==0&&Rf(a,d,y)}}function qo(t,i,a,f){Xt[Fi++]=t,Xt[Fi++]=i,Xt[Fi++]=a,Xt[Fi++]=f,_r|=f,t.lanes|=f,t=t.alternate,t!==null&&(t.lanes|=f)}function Mr(t,i,a,f){return qo(t,i,a,f),Bo(t)}function Oi(t,i){return qo(t,null,null,i),Bo(t)}function Rf(t,i,a){t.lanes|=a;var f=t.alternate;f!==null&&(f.lanes|=a);for(var d=!1,y=t.return;y!==null;)y.childLanes|=a,f=y.alternate,f!==null&&(f.childLanes|=a),y.tag===22&&(t=y.stateNode,t===null||t._visibility&1||(d=!0)),t=y,y=y.return;return t.tag===3?(y=t.stateNode,d&&i!==null&&(d=31-je(a),t=y.hiddenUpdates,f=t[d],f===null?t[d]=[i]:f.push(i),i.lane=a|536870912),y):null}function Bo(t){if(50<ro)throw ro=0,Us=null,Error(o(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Yi={};function qg(t,i,a,f){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(t,i,a,f){return new qg(t,i,a,f)}function br(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xn(t,i){var a=t.alternate;return a===null?(a=Pt(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Nf(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Po(t,i,a,f,d,y){var x=0;if(f=t,typeof t=="function")br(t)&&(x=1);else if(typeof t=="string")x=P0(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Pt(31,a,i,d),t.elementType=R,t.lanes=y,t;case b:return mi(a.children,d,y,i);case D:x=8,d|=24;break;case L:return t=Pt(12,a,i,d|2),t.elementType=L,t.lanes=y,t;case H:return t=Pt(13,a,i,d),t.elementType=H,t.lanes=y,t;case k:return t=Pt(19,a,i,d),t.elementType=k,t.lanes=y,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U:case O:x=10;break e;case J:x=9;break e;case P:x=11;break e;case W:x=14;break e;case N:x=16,f=null;break e}x=29,a=Error(o(130,t===null?"null":typeof t,"")),f=null}return i=Pt(x,a,i,d),i.elementType=t,i.type=f,i.lanes=y,i}function mi(t,i,a,f){return t=Pt(7,t,f,i),t.lanes=a,t}function wr(t,i,a){return t=Pt(6,t,null,i),t.lanes=a,t}function Rr(t,i,a){return i=Pt(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ji=[],Ki=0,Ho=null,zo=0,Zt=[],$t=0,hi=null,Sn=1,En="";function pi(t,i){Ji[Ki++]=zo,Ji[Ki++]=Ho,Ho=t,zo=i}function Df(t,i,a){Zt[$t++]=Sn,Zt[$t++]=En,Zt[$t++]=hi,hi=t;var f=Sn;t=En;var d=32-je(f)-1;f&=~(1<<d),a+=1;var y=32-je(i)+d;if(30<y){var x=d-d%5;y=(f&(1<<x)-1).toString(32),f>>=x,d-=x,Sn=1<<32-je(i)+d|a<<d|f,En=y+t}else Sn=1<<y|a<<d|f,En=t}function Nr(t){t.return!==null&&(pi(t,1),Df(t,1,0))}function Dr(t){for(;t===Ho;)Ho=Ji[--Ki],Ji[Ki]=null,zo=Ji[--Ki],Ji[Ki]=null;for(;t===hi;)hi=Zt[--$t],Zt[$t]=null,En=Zt[--$t],Zt[$t]=null,Sn=Zt[--$t],Zt[$t]=null}var bt=null,$e=null,Ue=!1,gi=null,cn=!1,Ur=Error(o(519));function yi(t){var i=Error(o(418,""));throw Bl(Qt(i,t)),Ur}function Uf(t){var i=t.stateNode,a=t.type,f=t.memoizedProps;switch(i[Tt]=t,i[Ut]=f,a){case"dialog":be("cancel",i),be("close",i);break;case"iframe":case"object":case"embed":be("load",i);break;case"video":case"audio":for(a=0;a<uo.length;a++)be(uo[a],i);break;case"source":be("error",i);break;case"img":case"image":case"link":be("error",i),be("load",i);break;case"details":be("toggle",i);break;case"input":be("invalid",i),Ju(i,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),wo(i);break;case"select":be("invalid",i);break;case"textarea":be("invalid",i),Qu(i,f.value,f.defaultValue,f.children),wo(i)}a=f.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||f.suppressHydrationWarning===!0||Xd(i.textContent,a)?(f.popover!=null&&(be("beforetoggle",i),be("toggle",i)),f.onScroll!=null&&be("scroll",i),f.onScrollEnd!=null&&be("scrollend",i),f.onClick!=null&&(i.onclick=Sa),i=!0):i=!1,i||yi(t)}function kf(t){for(bt=t.return;bt;)switch(bt.tag){case 5:case 13:cn=!1;return;case 27:case 3:cn=!0;return;default:bt=bt.return}}function Gl(t){if(t!==bt)return!1;if(!Ue)return kf(t),Ue=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Qs(t.type,t.memoizedProps)),a=!a),a&&$e&&yi(t),kf(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){$e=rn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}$e=null}}else i===27?(i=$e,ni(t.type)?(t=Ws,Ws=null,$e=t):$e=i):$e=bt?rn(t.stateNode.nextSibling):null;return!0}function ql(){$e=bt=null,Ue=!1}function If(){var t=gi;return t!==null&&(Vt===null?Vt=t:Vt.push.apply(Vt,t),gi=null),t}function Bl(t){gi===null?gi=[t]:gi.push(t)}var kr=$(null),vi=null,An=null;function Hn(t,i,a){oe(kr,i._currentValue),i._currentValue=a}function _n(t){t._currentValue=kr.current,ne(kr)}function Ir(t,i,a){for(;t!==null;){var f=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),t===a)break;t=t.return}}function Lr(t,i,a,f){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var y=d.dependencies;if(y!==null){var x=d.child;y=y.firstContext;e:for(;y!==null;){var M=y;y=d;for(var I=0;I<i.length;I++)if(M.context===i[I]){y.lanes|=a,M=y.alternate,M!==null&&(M.lanes|=a),Ir(y.return,a,t),f||(x=null);break e}y=M.next}}else if(d.tag===18){if(x=d.return,x===null)throw Error(o(341));x.lanes|=a,y=x.alternate,y!==null&&(y.lanes|=a),Ir(x,a,t),x=null}else x=d.child;if(x!==null)x.return=d;else for(x=d;x!==null;){if(x===t){x=null;break}if(d=x.sibling,d!==null){d.return=x.return,x=d;break}x=x.return}d=x}}function Pl(t,i,a,f){t=null;for(var d=i,y=!1;d!==null;){if(!y){if((d.flags&524288)!==0)y=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var x=d.alternate;if(x===null)throw Error(o(387));if(x=x.memoizedProps,x!==null){var M=d.type;Bt(d.pendingProps.value,x.value)||(t!==null?t.push(M):t=[M])}}else if(d===ce.current){if(x=d.alternate,x===null)throw Error(o(387));x.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(go):t=[go])}d=d.return}t!==null&&Lr(i,t,a,f),i.flags|=262144}function Fo(t){for(t=t.firstContext;t!==null;){if(!Bt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ti(t){vi=t,An=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ct(t){return Lf(vi,t)}function Oo(t,i){return vi===null&&Ti(t),Lf(t,i)}function Lf(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},An===null){if(t===null)throw Error(o(308));An=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else An=An.next=i;return a}var Bg=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,f){t.push(f)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Pg=n.unstable_scheduleCallback,Hg=n.unstable_NormalPriority,at={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vr(){return{controller:new Bg,data:new Map,refCount:0}}function Hl(t){t.refCount--,t.refCount===0&&Pg(Hg,function(){t.controller.abort()})}var zl=null,Gr=0,Qi=0,Xi=null;function zg(t,i){if(zl===null){var a=zl=[];Gr=0,Qi=Bs(),Xi={status:"pending",value:void 0,then:function(f){a.push(f)}}}return Gr++,i.then(Vf,Vf),i}function Vf(){if(--Gr===0&&zl!==null){Xi!==null&&(Xi.status="fulfilled");var t=zl;zl=null,Qi=0,Xi=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Fg(t,i){var a=[],f={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){f.status="fulfilled",f.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(f.status="rejected",f.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),f}var Gf=E.S;E.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&zg(t,i),Gf!==null&&Gf(t,i)};var Ci=$(null);function qr(){var t=Ci.current;return t!==null?t:Fe.pooledCache}function Yo(t,i){i===null?oe(Ci,Ci.current):oe(Ci,i.pool)}function qf(){var t=qr();return t===null?null:{parent:at._currentValue,pool:t}}var Fl=Error(o(460)),Bf=Error(o(474)),Jo=Error(o(542)),Br={then:function(){}};function Pf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ko(){}function Hf(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Ko,Ko),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ff(t),t;default:if(typeof i.status=="string")i.then(Ko,Ko);else{if(t=Fe,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=i,t.status="pending",t.then(function(f){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=f}},function(f){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=f}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ff(t),t}throw Ol=i,Fl}}var Ol=null;function zf(){if(Ol===null)throw Error(o(459));var t=Ol;return Ol=null,t}function Ff(t){if(t===Fl||t===Jo)throw Error(o(483))}var zn=!1;function Pr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hr(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function On(t,i,a){var f=t.updateQueue;if(f===null)return null;if(f=f.shared,(Ie&2)!==0){var d=f.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),f.pending=i,i=Bo(t),Rf(t,null,a),i}return qo(t,f,i,a),Bo(t)}function Yl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var f=i.lanes;f&=t.pendingLanes,a|=f,i.lanes=a,qn(t,a)}}function zr(t,i){var a=t.updateQueue,f=t.alternate;if(f!==null&&(f=f.updateQueue,a===f)){var d=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?d=y=x:y=y.next=x,a=a.next}while(a!==null);y===null?d=y=i:y=y.next=i}else d=y=i;a={baseState:f.baseState,firstBaseUpdate:d,lastBaseUpdate:y,shared:f.shared,callbacks:f.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Fr=!1;function Jl(){if(Fr){var t=Xi;if(t!==null)throw t}}function Kl(t,i,a,f){Fr=!1;var d=t.updateQueue;zn=!1;var y=d.firstBaseUpdate,x=d.lastBaseUpdate,M=d.shared.pending;if(M!==null){d.shared.pending=null;var I=M,j=I.next;I.next=null,x===null?y=j:x.next=j,x=I;var re=t.alternate;re!==null&&(re=re.updateQueue,M=re.lastBaseUpdate,M!==x&&(M===null?re.firstBaseUpdate=j:M.next=j,re.lastBaseUpdate=I))}if(y!==null){var ue=d.baseState;x=0,re=j=I=null,M=y;do{var te=M.lane&-536870913,ie=te!==M.lane;if(ie?(Re&te)===te:(f&te)===te){te!==0&&te===Qi&&(Fr=!0),re!==null&&(re=re.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Te=t,ge=M;te=i;var Be=a;switch(ge.tag){case 1:if(Te=ge.payload,typeof Te=="function"){ue=Te.call(Be,ue,te);break e}ue=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ge.payload,te=typeof Te=="function"?Te.call(Be,ue,te):Te,te==null)break e;ue=g({},ue,te);break e;case 2:zn=!0}}te=M.callback,te!==null&&(t.flags|=64,ie&&(t.flags|=8192),ie=d.callbacks,ie===null?d.callbacks=[te]:ie.push(te))}else ie={lane:te,tag:M.tag,payload:M.payload,callback:M.callback,next:null},re===null?(j=re=ie,I=ue):re=re.next=ie,x|=te;if(M=M.next,M===null){if(M=d.shared.pending,M===null)break;ie=M,M=ie.next,ie.next=null,d.lastBaseUpdate=ie,d.shared.pending=null}}while(!0);re===null&&(I=ue),d.baseState=I,d.firstBaseUpdate=j,d.lastBaseUpdate=re,y===null&&(d.shared.lanes=0),Wn|=x,t.lanes=x,t.memoizedState=ue}}function Of(t,i){if(typeof t!="function")throw Error(o(191,t));t.call(i)}function Yf(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Of(a[t],i)}var Zi=$(null),Qo=$(0);function Jf(t,i){t=Un,oe(Qo,t),oe(Zi,i),Un=t|i.baseLanes}function Or(){oe(Qo,Un),oe(Zi,Zi.current)}function Yr(){Un=Qo.current,ne(Zi),ne(Qo)}var Yn=0,Se=null,Ge=null,lt=null,Xo=!1,$i=!1,xi=!1,Zo=0,Ql=0,Wi=null,Og=0;function et(){throw Error(o(321))}function Jr(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Bt(t[a],i[a]))return!1;return!0}function Kr(t,i,a,f,d,y){return Yn=y,Se=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,E.H=t===null||t.memoizedState===null?Rc:Nc,xi=!1,y=a(f,d),xi=!1,$i&&(y=Qf(i,a,f,d)),Kf(t),y}function Kf(t){E.H=na;var i=Ge!==null&&Ge.next!==null;if(Yn=0,lt=Ge=Se=null,Xo=!1,Ql=0,Wi=null,i)throw Error(o(300));t===null||ct||(t=t.dependencies,t!==null&&Fo(t)&&(ct=!0))}function Qf(t,i,a,f){Se=t;var d=0;do{if($i&&(Wi=null),Ql=0,$i=!1,25<=d)throw Error(o(301));if(d+=1,lt=Ge=null,t.updateQueue!=null){var y=t.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}E.H=$g,y=i(a,f)}while($i);return y}function Yg(){var t=E.H,i=t.useState()[0];return i=typeof i.then=="function"?Xl(i):i,t=t.useState()[0],(Ge!==null?Ge.memoizedState:null)!==t&&(Se.flags|=1024),i}function Qr(){var t=Zo!==0;return Zo=0,t}function Xr(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Zr(t){if(Xo){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Xo=!1}Yn=0,lt=Ge=Se=null,$i=!1,Ql=Zo=0,Wi=null}function It(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Se.memoizedState=lt=t:lt=lt.next=t,lt}function ot(){if(Ge===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var i=lt===null?Se.memoizedState:lt.next;if(i!==null)lt=i,Ge=t;else{if(t===null)throw Se.alternate===null?Error(o(467)):Error(o(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},lt===null?Se.memoizedState=lt=t:lt=lt.next=t}return lt}function $r(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xl(t){var i=Ql;return Ql+=1,Wi===null&&(Wi=[]),t=Hf(Wi,t,i),i=Se,(lt===null?i.memoizedState:lt.next)===null&&(i=i.alternate,E.H=i===null||i.memoizedState===null?Rc:Nc),t}function $o(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Xl(t);if(t.$$typeof===O)return Ct(t)}throw Error(o(438,String(t)))}function Wr(t){var i=null,a=Se.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var f=Se.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(i={data:f.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=$r(),Se.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),f=0;f<t;f++)a[f]=V;return i.index++,a}function Mn(t,i){return typeof i=="function"?i(t):i}function Wo(t){var i=ot();return jr(i,Ge,t)}function jr(t,i,a){var f=t.queue;if(f===null)throw Error(o(311));f.lastRenderedReducer=a;var d=t.baseQueue,y=f.pending;if(y!==null){if(d!==null){var x=d.next;d.next=y.next,y.next=x}i.baseQueue=d=y,f.pending=null}if(y=t.baseState,d===null)t.memoizedState=y;else{i=d.next;var M=x=null,I=null,j=i,re=!1;do{var ue=j.lane&-536870913;if(ue!==j.lane?(Re&ue)===ue:(Yn&ue)===ue){var te=j.revertLane;if(te===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),ue===Qi&&(re=!0);else if((Yn&te)===te){j=j.next,te===Qi&&(re=!0);continue}else ue={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(M=I=ue,x=y):I=I.next=ue,Se.lanes|=te,Wn|=te;ue=j.action,xi&&a(y,ue),y=j.hasEagerState?j.eagerState:a(y,ue)}else te={lane:ue,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(M=I=te,x=y):I=I.next=te,Se.lanes|=ue,Wn|=ue;j=j.next}while(j!==null&&j!==i);if(I===null?x=y:I.next=M,!Bt(y,t.memoizedState)&&(ct=!0,re&&(a=Xi,a!==null)))throw a;t.memoizedState=y,t.baseState=x,t.baseQueue=I,f.lastRenderedState=y}return d===null&&(f.lanes=0),[t.memoizedState,f.dispatch]}function es(t){var i=ot(),a=i.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=t;var f=a.dispatch,d=a.pending,y=i.memoizedState;if(d!==null){a.pending=null;var x=d=d.next;do y=t(y,x.action),x=x.next;while(x!==d);Bt(y,i.memoizedState)||(ct=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),a.lastRenderedState=y}return[y,f]}function Xf(t,i,a){var f=Se,d=ot(),y=Ue;if(y){if(a===void 0)throw Error(o(407));a=a()}else a=i();var x=!Bt((Ge||d).memoizedState,a);x&&(d.memoizedState=a,ct=!0),d=d.queue;var M=Wf.bind(null,f,d,t);if(Zl(2048,8,M,[t]),d.getSnapshot!==i||x||lt!==null&&lt.memoizedState.tag&1){if(f.flags|=2048,ji(9,jo(),$f.bind(null,f,d,a,i),null),Fe===null)throw Error(o(349));y||(Yn&124)!==0||Zf(f,i,a)}return a}function Zf(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Se.updateQueue,i===null?(i=$r(),Se.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function $f(t,i,a,f){i.value=a,i.getSnapshot=f,jf(i)&&ec(t)}function Wf(t,i,a){return a(function(){jf(i)&&ec(t)})}function jf(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Bt(t,a)}catch{return!0}}function ec(t){var i=Oi(t,2);i!==null&&Yt(i,t,2)}function ts(t){var i=It();if(typeof t=="function"){var a=t;if(t=a(),xi){Je(!0);try{a()}finally{Je(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:t},i}function tc(t,i,a,f){return t.baseState=a,jr(t,Ge,typeof f=="function"?f:Mn)}function Jg(t,i,a,f,d){if(ta(t))throw Error(o(485));if(t=i.action,t!==null){var y={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){y.listeners.push(x)}};E.T!==null?a(!0):y.isTransition=!1,f(y),a=i.pending,a===null?(y.next=i.pending=y,nc(i,y)):(y.next=a.next,i.pending=a.next=y)}}function nc(t,i){var a=i.action,f=i.payload,d=t.state;if(i.isTransition){var y=E.T,x={};E.T=x;try{var M=a(d,f),I=E.S;I!==null&&I(x,M),ic(t,i,M)}catch(j){ns(t,i,j)}finally{E.T=y}}else try{y=a(d,f),ic(t,i,y)}catch(j){ns(t,i,j)}}function ic(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(f){lc(t,i,f)},function(f){return ns(t,i,f)}):lc(t,i,a)}function lc(t,i,a){i.status="fulfilled",i.value=a,oc(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,nc(t,a)))}function ns(t,i,a){var f=t.pending;if(t.pending=null,f!==null){f=f.next;do i.status="rejected",i.reason=a,oc(i),i=i.next;while(i!==f)}t.action=null}function oc(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ac(t,i){return i}function rc(t,i){if(Ue){var a=Fe.formState;if(a!==null){e:{var f=Se;if(Ue){if($e){t:{for(var d=$e,y=cn;d.nodeType!==8;){if(!y){d=null;break t}if(d=rn(d.nextSibling),d===null){d=null;break t}}y=d.data,d=y==="F!"||y==="F"?d:null}if(d){$e=rn(d.nextSibling),f=d.data==="F!";break e}}yi(f)}f=!1}f&&(i=a[0])}}return a=It(),a.memoizedState=a.baseState=i,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ac,lastRenderedState:i},a.queue=f,a=Mc.bind(null,Se,f),f.dispatch=a,f=ts(!1),y=rs.bind(null,Se,!1,f.queue),f=It(),d={state:i,dispatch:null,action:t,pending:null},f.queue=d,a=Jg.bind(null,Se,d,y,a),d.dispatch=a,f.memoizedState=t,[i,a,!1]}function sc(t){var i=ot();return uc(i,Ge,t)}function uc(t,i,a){if(i=jr(t,i,ac)[0],t=Wo(Mn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var f=Xl(i)}catch(x){throw x===Fl?Jo:x}else f=i;i=ot();var d=i.queue,y=d.dispatch;return a!==i.memoizedState&&(Se.flags|=2048,ji(9,jo(),Kg.bind(null,d,a),null)),[f,y,t]}function Kg(t,i){t.action=i}function fc(t){var i=ot(),a=Ge;if(a!==null)return uc(i,a,t);ot(),i=i.memoizedState,a=ot();var f=a.queue.dispatch;return a.memoizedState=t,[i,f,!1]}function ji(t,i,a,f){return t={tag:t,create:a,deps:f,inst:i,next:null},i=Se.updateQueue,i===null&&(i=$r(),Se.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(f=a.next,a.next=t,t.next=f,i.lastEffect=t),t}function jo(){return{destroy:void 0,resource:void 0}}function cc(){return ot().memoizedState}function ea(t,i,a,f){var d=It();f=f===void 0?null:f,Se.flags|=t,d.memoizedState=ji(1|i,jo(),a,f)}function Zl(t,i,a,f){var d=ot();f=f===void 0?null:f;var y=d.memoizedState.inst;Ge!==null&&f!==null&&Jr(f,Ge.memoizedState.deps)?d.memoizedState=ji(i,y,a,f):(Se.flags|=t,d.memoizedState=ji(1|i,y,a,f))}function dc(t,i){ea(8390656,8,t,i)}function mc(t,i){Zl(2048,8,t,i)}function hc(t,i){return Zl(4,2,t,i)}function pc(t,i){return Zl(4,4,t,i)}function gc(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function yc(t,i,a){a=a!=null?a.concat([t]):null,Zl(4,4,gc.bind(null,i,t),a)}function is(){}function vc(t,i){var a=ot();i=i===void 0?null:i;var f=a.memoizedState;return i!==null&&Jr(i,f[1])?f[0]:(a.memoizedState=[t,i],t)}function Tc(t,i){var a=ot();i=i===void 0?null:i;var f=a.memoizedState;if(i!==null&&Jr(i,f[1]))return f[0];if(f=t(),xi){Je(!0);try{t()}finally{Je(!1)}}return a.memoizedState=[f,i],f}function ls(t,i,a){return a===void 0||(Yn&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Sd(),Se.lanes|=t,Wn|=t,a)}function Cc(t,i,a,f){return Bt(a,i)?a:Zi.current!==null?(t=ls(t,a,f),Bt(t,i)||(ct=!0),t):(Yn&42)===0?(ct=!0,t.memoizedState=a):(t=Sd(),Se.lanes|=t,Wn|=t,i)}function xc(t,i,a,f,d){var y=_.p;_.p=y!==0&&8>y?y:8;var x=E.T,M={};E.T=M,rs(t,!1,i,a);try{var I=d(),j=E.S;if(j!==null&&j(M,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var re=Fg(I,f);$l(t,i,re,Ot(t))}else $l(t,i,f,Ot(t))}catch(ue){$l(t,i,{then:function(){},status:"rejected",reason:ue},Ot())}finally{_.p=y,E.T=x}}function Qg(){}function os(t,i,a,f){if(t.tag!==5)throw Error(o(476));var d=Sc(t).queue;xc(t,d,i,ee,a===null?Qg:function(){return Ec(t),a(f)})}function Sc(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:ee},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ec(t){var i=Sc(t).next.queue;$l(t,i,{},Ot())}function as(){return Ct(go)}function Ac(){return ot().memoizedState}function _c(){return ot().memoizedState}function Xg(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Ot();t=Fn(a);var f=On(i,t,a);f!==null&&(Yt(f,i,a),Yl(f,i,a)),i={cache:Vr()},t.payload=i;return}i=i.return}}function Zg(t,i,a){var f=Ot();a={lane:f,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ta(t)?bc(i,a):(a=Mr(t,i,a,f),a!==null&&(Yt(a,t,f),wc(a,i,f)))}function Mc(t,i,a){var f=Ot();$l(t,i,a,f)}function $l(t,i,a,f){var d={lane:f,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ta(t))bc(i,d);else{var y=t.alternate;if(t.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var x=i.lastRenderedState,M=y(x,a);if(d.hasEagerState=!0,d.eagerState=M,Bt(M,x))return qo(t,i,d,0),Fe===null&&Go(),!1}catch{}finally{}if(a=Mr(t,i,d,f),a!==null)return Yt(a,t,f),wc(a,i,f),!0}return!1}function rs(t,i,a,f){if(f={lane:2,revertLane:Bs(),action:f,hasEagerState:!1,eagerState:null,next:null},ta(t)){if(i)throw Error(o(479))}else i=Mr(t,a,f,2),i!==null&&Yt(i,t,2)}function ta(t){var i=t.alternate;return t===Se||i!==null&&i===Se}function bc(t,i){$i=Xo=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function wc(t,i,a){if((a&4194048)!==0){var f=i.lanes;f&=t.pendingLanes,a|=f,i.lanes=a,qn(t,a)}}var na={readContext:Ct,use:$o,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et},Rc={readContext:Ct,use:$o,useCallback:function(t,i){return It().memoizedState=[t,i===void 0?null:i],t},useContext:Ct,useEffect:dc,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ea(4194308,4,gc.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ea(4194308,4,t,i)},useInsertionEffect:function(t,i){ea(4,2,t,i)},useMemo:function(t,i){var a=It();i=i===void 0?null:i;var f=t();if(xi){Je(!0);try{t()}finally{Je(!1)}}return a.memoizedState=[f,i],f},useReducer:function(t,i,a){var f=It();if(a!==void 0){var d=a(i);if(xi){Je(!0);try{a(i)}finally{Je(!1)}}}else d=i;return f.memoizedState=f.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},f.queue=t,t=t.dispatch=Zg.bind(null,Se,t),[f.memoizedState,t]},useRef:function(t){var i=It();return t={current:t},i.memoizedState=t},useState:function(t){t=ts(t);var i=t.queue,a=Mc.bind(null,Se,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:is,useDeferredValue:function(t,i){var a=It();return ls(a,t,i)},useTransition:function(){var t=ts(!1);return t=xc.bind(null,Se,t.queue,!0,!1),It().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var f=Se,d=It();if(Ue){if(a===void 0)throw Error(o(407));a=a()}else{if(a=i(),Fe===null)throw Error(o(349));(Re&124)!==0||Zf(f,i,a)}d.memoizedState=a;var y={value:a,getSnapshot:i};return d.queue=y,dc(Wf.bind(null,f,y,t),[t]),f.flags|=2048,ji(9,jo(),$f.bind(null,f,y,a,i),null),a},useId:function(){var t=It(),i=Fe.identifierPrefix;if(Ue){var a=En,f=Sn;a=(f&~(1<<32-je(f)-1)).toString(32)+a,i=""+i+"R"+a,a=Zo++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=Og++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:as,useFormState:rc,useActionState:rc,useOptimistic:function(t){var i=It();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=rs.bind(null,Se,!0,a),a.dispatch=i,[t,i]},useMemoCache:Wr,useCacheRefresh:function(){return It().memoizedState=Xg.bind(null,Se)}},Nc={readContext:Ct,use:$o,useCallback:vc,useContext:Ct,useEffect:mc,useImperativeHandle:yc,useInsertionEffect:hc,useLayoutEffect:pc,useMemo:Tc,useReducer:Wo,useRef:cc,useState:function(){return Wo(Mn)},useDebugValue:is,useDeferredValue:function(t,i){var a=ot();return Cc(a,Ge.memoizedState,t,i)},useTransition:function(){var t=Wo(Mn)[0],i=ot().memoizedState;return[typeof t=="boolean"?t:Xl(t),i]},useSyncExternalStore:Xf,useId:Ac,useHostTransitionStatus:as,useFormState:sc,useActionState:sc,useOptimistic:function(t,i){var a=ot();return tc(a,Ge,t,i)},useMemoCache:Wr,useCacheRefresh:_c},$g={readContext:Ct,use:$o,useCallback:vc,useContext:Ct,useEffect:mc,useImperativeHandle:yc,useInsertionEffect:hc,useLayoutEffect:pc,useMemo:Tc,useReducer:es,useRef:cc,useState:function(){return es(Mn)},useDebugValue:is,useDeferredValue:function(t,i){var a=ot();return Ge===null?ls(a,t,i):Cc(a,Ge.memoizedState,t,i)},useTransition:function(){var t=es(Mn)[0],i=ot().memoizedState;return[typeof t=="boolean"?t:Xl(t),i]},useSyncExternalStore:Xf,useId:Ac,useHostTransitionStatus:as,useFormState:fc,useActionState:fc,useOptimistic:function(t,i){var a=ot();return Ge!==null?tc(a,Ge,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Wr,useCacheRefresh:_c},el=null,Wl=0;function ia(t){var i=Wl;return Wl+=1,el===null&&(el=[]),Hf(el,t,i)}function jl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function la(t,i){throw i.$$typeof===T?Error(o(525)):(t=Object.prototype.toString.call(i),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Dc(t){var i=t._init;return i(t._payload)}function Uc(t){function i(Y,B){if(t){var Z=Y.deletions;Z===null?(Y.deletions=[B],Y.flags|=16):Z.push(B)}}function a(Y,B){if(!t)return null;for(;B!==null;)i(Y,B),B=B.sibling;return null}function f(Y){for(var B=new Map;Y!==null;)Y.key!==null?B.set(Y.key,Y):B.set(Y.index,Y),Y=Y.sibling;return B}function d(Y,B){return Y=xn(Y,B),Y.index=0,Y.sibling=null,Y}function y(Y,B,Z){return Y.index=Z,t?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<B?(Y.flags|=67108866,B):Z):(Y.flags|=67108866,B)):(Y.flags|=1048576,B)}function x(Y){return t&&Y.alternate===null&&(Y.flags|=67108866),Y}function M(Y,B,Z,se){return B===null||B.tag!==6?(B=wr(Z,Y.mode,se),B.return=Y,B):(B=d(B,Z),B.return=Y,B)}function I(Y,B,Z,se){var me=Z.type;return me===b?re(Y,B,Z.props.children,se,Z.key):B!==null&&(B.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===N&&Dc(me)===B.type)?(B=d(B,Z.props),jl(B,Z),B.return=Y,B):(B=Po(Z.type,Z.key,Z.props,null,Y.mode,se),jl(B,Z),B.return=Y,B)}function j(Y,B,Z,se){return B===null||B.tag!==4||B.stateNode.containerInfo!==Z.containerInfo||B.stateNode.implementation!==Z.implementation?(B=Rr(Z,Y.mode,se),B.return=Y,B):(B=d(B,Z.children||[]),B.return=Y,B)}function re(Y,B,Z,se,me){return B===null||B.tag!==7?(B=mi(Z,Y.mode,se,me),B.return=Y,B):(B=d(B,Z),B.return=Y,B)}function ue(Y,B,Z){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=wr(""+B,Y.mode,Z),B.return=Y,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case C:return Z=Po(B.type,B.key,B.props,null,Y.mode,Z),jl(Z,B),Z.return=Y,Z;case S:return B=Rr(B,Y.mode,Z),B.return=Y,B;case N:var se=B._init;return B=se(B._payload),ue(Y,B,Z)}if(K(B)||q(B))return B=mi(B,Y.mode,Z,null),B.return=Y,B;if(typeof B.then=="function")return ue(Y,ia(B),Z);if(B.$$typeof===O)return ue(Y,Oo(Y,B),Z);la(Y,B)}return null}function te(Y,B,Z,se){var me=B!==null?B.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return me!==null?null:M(Y,B,""+Z,se);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case C:return Z.key===me?I(Y,B,Z,se):null;case S:return Z.key===me?j(Y,B,Z,se):null;case N:return me=Z._init,Z=me(Z._payload),te(Y,B,Z,se)}if(K(Z)||q(Z))return me!==null?null:re(Y,B,Z,se,null);if(typeof Z.then=="function")return te(Y,B,ia(Z),se);if(Z.$$typeof===O)return te(Y,B,Oo(Y,Z),se);la(Y,Z)}return null}function ie(Y,B,Z,se,me){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Y=Y.get(Z)||null,M(B,Y,""+se,me);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case C:return Y=Y.get(se.key===null?Z:se.key)||null,I(B,Y,se,me);case S:return Y=Y.get(se.key===null?Z:se.key)||null,j(B,Y,se,me);case N:var Ee=se._init;return se=Ee(se._payload),ie(Y,B,Z,se,me)}if(K(se)||q(se))return Y=Y.get(Z)||null,re(B,Y,se,me,null);if(typeof se.then=="function")return ie(Y,B,Z,ia(se),me);if(se.$$typeof===O)return ie(Y,B,Z,Oo(B,se),me);la(B,se)}return null}function Te(Y,B,Z,se){for(var me=null,Ee=null,pe=B,ye=B=0,mt=null;pe!==null&&ye<Z.length;ye++){pe.index>ye?(mt=pe,pe=null):mt=pe.sibling;var De=te(Y,pe,Z[ye],se);if(De===null){pe===null&&(pe=mt);break}t&&pe&&De.alternate===null&&i(Y,pe),B=y(De,B,ye),Ee===null?me=De:Ee.sibling=De,Ee=De,pe=mt}if(ye===Z.length)return a(Y,pe),Ue&&pi(Y,ye),me;if(pe===null){for(;ye<Z.length;ye++)pe=ue(Y,Z[ye],se),pe!==null&&(B=y(pe,B,ye),Ee===null?me=pe:Ee.sibling=pe,Ee=pe);return Ue&&pi(Y,ye),me}for(pe=f(pe);ye<Z.length;ye++)mt=ie(pe,Y,ye,Z[ye],se),mt!==null&&(t&&mt.alternate!==null&&pe.delete(mt.key===null?ye:mt.key),B=y(mt,B,ye),Ee===null?me=mt:Ee.sibling=mt,Ee=mt);return t&&pe.forEach(function(ri){return i(Y,ri)}),Ue&&pi(Y,ye),me}function ge(Y,B,Z,se){if(Z==null)throw Error(o(151));for(var me=null,Ee=null,pe=B,ye=B=0,mt=null,De=Z.next();pe!==null&&!De.done;ye++,De=Z.next()){pe.index>ye?(mt=pe,pe=null):mt=pe.sibling;var ri=te(Y,pe,De.value,se);if(ri===null){pe===null&&(pe=mt);break}t&&pe&&ri.alternate===null&&i(Y,pe),B=y(ri,B,ye),Ee===null?me=ri:Ee.sibling=ri,Ee=ri,pe=mt}if(De.done)return a(Y,pe),Ue&&pi(Y,ye),me;if(pe===null){for(;!De.done;ye++,De=Z.next())De=ue(Y,De.value,se),De!==null&&(B=y(De,B,ye),Ee===null?me=De:Ee.sibling=De,Ee=De);return Ue&&pi(Y,ye),me}for(pe=f(pe);!De.done;ye++,De=Z.next())De=ie(pe,Y,ye,De.value,se),De!==null&&(t&&De.alternate!==null&&pe.delete(De.key===null?ye:De.key),B=y(De,B,ye),Ee===null?me=De:Ee.sibling=De,Ee=De);return t&&pe.forEach(function(W0){return i(Y,W0)}),Ue&&pi(Y,ye),me}function Be(Y,B,Z,se){if(typeof Z=="object"&&Z!==null&&Z.type===b&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case C:e:{for(var me=Z.key;B!==null;){if(B.key===me){if(me=Z.type,me===b){if(B.tag===7){a(Y,B.sibling),se=d(B,Z.props.children),se.return=Y,Y=se;break e}}else if(B.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===N&&Dc(me)===B.type){a(Y,B.sibling),se=d(B,Z.props),jl(se,Z),se.return=Y,Y=se;break e}a(Y,B);break}else i(Y,B);B=B.sibling}Z.type===b?(se=mi(Z.props.children,Y.mode,se,Z.key),se.return=Y,Y=se):(se=Po(Z.type,Z.key,Z.props,null,Y.mode,se),jl(se,Z),se.return=Y,Y=se)}return x(Y);case S:e:{for(me=Z.key;B!==null;){if(B.key===me)if(B.tag===4&&B.stateNode.containerInfo===Z.containerInfo&&B.stateNode.implementation===Z.implementation){a(Y,B.sibling),se=d(B,Z.children||[]),se.return=Y,Y=se;break e}else{a(Y,B);break}else i(Y,B);B=B.sibling}se=Rr(Z,Y.mode,se),se.return=Y,Y=se}return x(Y);case N:return me=Z._init,Z=me(Z._payload),Be(Y,B,Z,se)}if(K(Z))return Te(Y,B,Z,se);if(q(Z)){if(me=q(Z),typeof me!="function")throw Error(o(150));return Z=me.call(Z),ge(Y,B,Z,se)}if(typeof Z.then=="function")return Be(Y,B,ia(Z),se);if(Z.$$typeof===O)return Be(Y,B,Oo(Y,Z),se);la(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,B!==null&&B.tag===6?(a(Y,B.sibling),se=d(B,Z),se.return=Y,Y=se):(a(Y,B),se=wr(Z,Y.mode,se),se.return=Y,Y=se),x(Y)):a(Y,B)}return function(Y,B,Z,se){try{Wl=0;var me=Be(Y,B,Z,se);return el=null,me}catch(pe){if(pe===Fl||pe===Jo)throw pe;var Ee=Pt(29,pe,null,Y.mode);return Ee.lanes=se,Ee.return=Y,Ee}finally{}}}var tl=Uc(!0),kc=Uc(!1),Wt=$(null),dn=null;function Jn(t){var i=t.alternate;oe(rt,rt.current&1),oe(Wt,t),dn===null&&(i===null||Zi.current!==null||i.memoizedState!==null)&&(dn=t)}function Ic(t){if(t.tag===22){if(oe(rt,rt.current),oe(Wt,t),dn===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(dn=t)}}else Kn()}function Kn(){oe(rt,rt.current),oe(Wt,Wt.current)}function bn(t){ne(Wt),dn===t&&(dn=null),ne(rt)}var rt=$(0);function oa(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||$s(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function ss(t,i,a,f){i=t.memoizedState,a=a(f,i),a=a==null?i:g({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var us={enqueueSetState:function(t,i,a){t=t._reactInternals;var f=Ot(),d=Fn(f);d.payload=i,a!=null&&(d.callback=a),i=On(t,d,f),i!==null&&(Yt(i,t,f),Yl(i,t,f))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var f=Ot(),d=Fn(f);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=On(t,d,f),i!==null&&(Yt(i,t,f),Yl(i,t,f))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Ot(),f=Fn(a);f.tag=2,i!=null&&(f.callback=i),i=On(t,f,a),i!==null&&(Yt(i,t,a),Yl(i,t,a))}};function Lc(t,i,a,f,d,y,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(f,y,x):i.prototype&&i.prototype.isPureReactComponent?!Ll(a,f)||!Ll(d,y):!0}function Vc(t,i,a,f){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,f),i.state!==t&&us.enqueueReplaceState(i,i.state,null)}function Si(t,i){var a=i;if("ref"in i){a={};for(var f in i)f!=="ref"&&(a[f]=i[f])}if(t=t.defaultProps){a===i&&(a=g({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}var aa=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Gc(t){aa(t)}function qc(t){console.error(t)}function Bc(t){aa(t)}function ra(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(f){setTimeout(function(){throw f})}}function Pc(t,i,a){try{var f=t.onCaughtError;f(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function fs(t,i,a){return a=Fn(a),a.tag=3,a.payload={element:null},a.callback=function(){ra(t,i)},a}function Hc(t){return t=Fn(t),t.tag=3,t}function zc(t,i,a,f){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var y=f.value;t.payload=function(){return d(y)},t.callback=function(){Pc(i,a,f)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(t.callback=function(){Pc(i,a,f),typeof d!="function"&&(jn===null?jn=new Set([this]):jn.add(this));var M=f.stack;this.componentDidCatch(f.value,{componentStack:M!==null?M:""})})}function Wg(t,i,a,f,d){if(a.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(i=a.alternate,i!==null&&Pl(i,a,d,!0),a=Wt.current,a!==null){switch(a.tag){case 13:return dn===null?Is():a.alternate===null&&We===0&&(We=3),a.flags&=-257,a.flags|=65536,a.lanes=d,f===Br?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([f]):i.add(f),Vs(t,f,d)),!1;case 22:return a.flags|=65536,f===Br?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([f])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([f]):a.add(f)),Vs(t,f,d)),!1}throw Error(o(435,a.tag))}return Vs(t,f,d),Is(),!1}if(Ue)return i=Wt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,f!==Ur&&(t=Error(o(422),{cause:f}),Bl(Qt(t,a)))):(f!==Ur&&(i=Error(o(423),{cause:f}),Bl(Qt(i,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,f=Qt(f,a),d=fs(t.stateNode,f,d),zr(t,d),We!==4&&(We=2)),!1;var y=Error(o(520),{cause:f});if(y=Qt(y,a),ao===null?ao=[y]:ao.push(y),We!==4&&(We=2),i===null)return!0;f=Qt(f,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=fs(a.stateNode,f,t),zr(a,t),!1;case 1:if(i=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(jn===null||!jn.has(y))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Hc(d),zc(d,t,a,f),zr(a,d),!1}a=a.return}while(a!==null);return!1}var Fc=Error(o(461)),ct=!1;function gt(t,i,a,f){i.child=t===null?kc(i,null,a,f):tl(i,t.child,a,f)}function Oc(t,i,a,f,d){a=a.render;var y=i.ref;if("ref"in f){var x={};for(var M in f)M!=="ref"&&(x[M]=f[M])}else x=f;return Ti(i),f=Kr(t,i,a,x,y,d),M=Qr(),t!==null&&!ct?(Xr(t,i,d),wn(t,i,d)):(Ue&&M&&Nr(i),i.flags|=1,gt(t,i,f,d),i.child)}function Yc(t,i,a,f,d){if(t===null){var y=a.type;return typeof y=="function"&&!br(y)&&y.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=y,Jc(t,i,y,f,d)):(t=Po(a.type,null,f,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(y=t.child,!vs(t,d)){var x=y.memoizedProps;if(a=a.compare,a=a!==null?a:Ll,a(x,f)&&t.ref===i.ref)return wn(t,i,d)}return i.flags|=1,t=xn(y,f),t.ref=i.ref,t.return=i,i.child=t}function Jc(t,i,a,f,d){if(t!==null){var y=t.memoizedProps;if(Ll(y,f)&&t.ref===i.ref)if(ct=!1,i.pendingProps=f=y,vs(t,d))(t.flags&131072)!==0&&(ct=!0);else return i.lanes=t.lanes,wn(t,i,d)}return cs(t,i,a,f,d)}function Kc(t,i,a){var f=i.pendingProps,d=f.children,y=t!==null?t.memoizedState:null;if(f.mode==="hidden"){if((i.flags&128)!==0){if(f=y!==null?y.baseLanes|a:a,t!==null){for(d=i.child=t.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;i.childLanes=y&~f}else i.childLanes=0,i.child=null;return Qc(t,i,f,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yo(i,y!==null?y.cachePool:null),y!==null?Jf(i,y):Or(),Ic(i);else return i.lanes=i.childLanes=536870912,Qc(t,i,y!==null?y.baseLanes|a:a,a)}else y!==null?(Yo(i,y.cachePool),Jf(i,y),Kn(),i.memoizedState=null):(t!==null&&Yo(i,null),Or(),Kn());return gt(t,i,d,a),i.child}function Qc(t,i,a,f){var d=qr();return d=d===null?null:{parent:at._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Yo(i,null),Or(),Ic(i),t!==null&&Pl(t,i,f,!0),null}function sa(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function cs(t,i,a,f,d){return Ti(i),a=Kr(t,i,a,f,void 0,d),f=Qr(),t!==null&&!ct?(Xr(t,i,d),wn(t,i,d)):(Ue&&f&&Nr(i),i.flags|=1,gt(t,i,a,d),i.child)}function Xc(t,i,a,f,d,y){return Ti(i),i.updateQueue=null,a=Qf(i,f,a,d),Kf(t),f=Qr(),t!==null&&!ct?(Xr(t,i,y),wn(t,i,y)):(Ue&&f&&Nr(i),i.flags|=1,gt(t,i,a,y),i.child)}function Zc(t,i,a,f,d){if(Ti(i),i.stateNode===null){var y=Yi,x=a.contextType;typeof x=="object"&&x!==null&&(y=Ct(x)),y=new a(f,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=us,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=f,y.state=i.memoizedState,y.refs={},Pr(i),x=a.contextType,y.context=typeof x=="object"&&x!==null?Ct(x):Yi,y.state=i.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(ss(i,a,x,f),y.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(x=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),x!==y.state&&us.enqueueReplaceState(y,y.state,null),Kl(i,f,y,d),Jl(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),f=!0}else if(t===null){y=i.stateNode;var M=i.memoizedProps,I=Si(a,M);y.props=I;var j=y.context,re=a.contextType;x=Yi,typeof re=="object"&&re!==null&&(x=Ct(re));var ue=a.getDerivedStateFromProps;re=typeof ue=="function"||typeof y.getSnapshotBeforeUpdate=="function",M=i.pendingProps!==M,re||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(M||j!==x)&&Vc(i,y,f,x),zn=!1;var te=i.memoizedState;y.state=te,Kl(i,f,y,d),Jl(),j=i.memoizedState,M||te!==j||zn?(typeof ue=="function"&&(ss(i,a,ue,f),j=i.memoizedState),(I=zn||Lc(i,a,I,f,te,j,x))?(re||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=j),y.props=f,y.state=j,y.context=x,f=I):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{y=i.stateNode,Hr(t,i),x=i.memoizedProps,re=Si(a,x),y.props=re,ue=i.pendingProps,te=y.context,j=a.contextType,I=Yi,typeof j=="object"&&j!==null&&(I=Ct(j)),M=a.getDerivedStateFromProps,(j=typeof M=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==ue||te!==I)&&Vc(i,y,f,I),zn=!1,te=i.memoizedState,y.state=te,Kl(i,f,y,d),Jl();var ie=i.memoizedState;x!==ue||te!==ie||zn||t!==null&&t.dependencies!==null&&Fo(t.dependencies)?(typeof M=="function"&&(ss(i,a,M,f),ie=i.memoizedState),(re=zn||Lc(i,a,re,f,te,ie,I)||t!==null&&t.dependencies!==null&&Fo(t.dependencies))?(j||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(f,ie,I),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(f,ie,I)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===t.memoizedProps&&te===t.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&te===t.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=ie),y.props=f,y.state=ie,y.context=I,f=re):(typeof y.componentDidUpdate!="function"||x===t.memoizedProps&&te===t.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&te===t.memoizedState||(i.flags|=1024),f=!1)}return y=f,sa(t,i),f=(i.flags&128)!==0,y||f?(y=i.stateNode,a=f&&typeof a.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,t!==null&&f?(i.child=tl(i,t.child,null,d),i.child=tl(i,null,a,d)):gt(t,i,a,d),i.memoizedState=y.state,t=i.child):t=wn(t,i,d),t}function $c(t,i,a,f){return ql(),i.flags|=256,gt(t,i,a,f),i.child}var ds={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ms(t){return{baseLanes:t,cachePool:qf()}}function hs(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=jt),t}function Wc(t,i,a){var f=i.pendingProps,d=!1,y=(i.flags&128)!==0,x;if((x=y)||(x=t!==null&&t.memoizedState===null?!1:(rt.current&2)!==0),x&&(d=!0,i.flags&=-129),x=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ue){if(d?Jn(i):Kn(),Ue){var M=$e,I;if(I=M){e:{for(I=M,M=cn;I.nodeType!==8;){if(!M){M=null;break e}if(I=rn(I.nextSibling),I===null){M=null;break e}}M=I}M!==null?(i.memoizedState={dehydrated:M,treeContext:hi!==null?{id:Sn,overflow:En}:null,retryLane:536870912,hydrationErrors:null},I=Pt(18,null,null,0),I.stateNode=M,I.return=i,i.child=I,bt=i,$e=null,I=!0):I=!1}I||yi(i)}if(M=i.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return $s(M)?i.lanes=32:i.lanes=536870912,null;bn(i)}return M=f.children,f=f.fallback,d?(Kn(),d=i.mode,M=ua({mode:"hidden",children:M},d),f=mi(f,d,a,null),M.return=i,f.return=i,M.sibling=f,i.child=M,d=i.child,d.memoizedState=ms(a),d.childLanes=hs(t,x,a),i.memoizedState=ds,f):(Jn(i),ps(i,M))}if(I=t.memoizedState,I!==null&&(M=I.dehydrated,M!==null)){if(y)i.flags&256?(Jn(i),i.flags&=-257,i=gs(t,i,a)):i.memoizedState!==null?(Kn(),i.child=t.child,i.flags|=128,i=null):(Kn(),d=f.fallback,M=i.mode,f=ua({mode:"visible",children:f.children},M),d=mi(d,M,a,null),d.flags|=2,f.return=i,d.return=i,f.sibling=d,i.child=f,tl(i,t.child,null,a),f=i.child,f.memoizedState=ms(a),f.childLanes=hs(t,x,a),i.memoizedState=ds,i=d);else if(Jn(i),$s(M)){if(x=M.nextSibling&&M.nextSibling.dataset,x)var j=x.dgst;x=j,f=Error(o(419)),f.stack="",f.digest=x,Bl({value:f,source:null,stack:null}),i=gs(t,i,a)}else if(ct||Pl(t,i,a,!1),x=(a&t.childLanes)!==0,ct||x){if(x=Fe,x!==null&&(f=a&-a,f=(f&42)!==0?1:Ri(f),f=(f&(x.suspendedLanes|a))!==0?0:f,f!==0&&f!==I.retryLane))throw I.retryLane=f,Oi(t,f),Yt(x,t,f),Fc;M.data==="$?"||Is(),i=gs(t,i,a)}else M.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,$e=rn(M.nextSibling),bt=i,Ue=!0,gi=null,cn=!1,t!==null&&(Zt[$t++]=Sn,Zt[$t++]=En,Zt[$t++]=hi,Sn=t.id,En=t.overflow,hi=i),i=ps(i,f.children),i.flags|=4096);return i}return d?(Kn(),d=f.fallback,M=i.mode,I=t.child,j=I.sibling,f=xn(I,{mode:"hidden",children:f.children}),f.subtreeFlags=I.subtreeFlags&65011712,j!==null?d=xn(j,d):(d=mi(d,M,a,null),d.flags|=2),d.return=i,f.return=i,f.sibling=d,i.child=f,f=d,d=i.child,M=t.child.memoizedState,M===null?M=ms(a):(I=M.cachePool,I!==null?(j=at._currentValue,I=I.parent!==j?{parent:j,pool:j}:I):I=qf(),M={baseLanes:M.baseLanes|a,cachePool:I}),d.memoizedState=M,d.childLanes=hs(t,x,a),i.memoizedState=ds,f):(Jn(i),a=t.child,t=a.sibling,a=xn(a,{mode:"visible",children:f.children}),a.return=i,a.sibling=null,t!==null&&(x=i.deletions,x===null?(i.deletions=[t],i.flags|=16):x.push(t)),i.child=a,i.memoizedState=null,a)}function ps(t,i){return i=ua({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function ua(t,i){return t=Pt(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function gs(t,i,a){return tl(i,t.child,null,a),t=ps(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function jc(t,i,a){t.lanes|=i;var f=t.alternate;f!==null&&(f.lanes|=i),Ir(t.return,i,a)}function ys(t,i,a,f,d){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:a,tailMode:d}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=a,y.tailMode=d)}function ed(t,i,a){var f=i.pendingProps,d=f.revealOrder,y=f.tail;if(gt(t,i,f.children,a),f=rt.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jc(t,a,i);else if(t.tag===19)jc(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}f&=1}switch(oe(rt,f),d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&oa(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),ys(i,!1,d,a,y);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&oa(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}ys(i,!0,a,null,y);break;case"together":ys(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function wn(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Wn|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Pl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(o(153));if(i.child!==null){for(t=i.child,a=xn(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=xn(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function vs(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Fo(t)))}function jg(t,i,a){switch(i.tag){case 3:fe(i,i.stateNode.containerInfo),Hn(i,at,t.memoizedState.cache),ql();break;case 27:case 5:ve(i);break;case 4:fe(i,i.stateNode.containerInfo);break;case 10:Hn(i,i.type,i.memoizedProps.value);break;case 13:var f=i.memoizedState;if(f!==null)return f.dehydrated!==null?(Jn(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Wc(t,i,a):(Jn(i),t=wn(t,i,a),t!==null?t.sibling:null);Jn(i);break;case 19:var d=(t.flags&128)!==0;if(f=(a&i.childLanes)!==0,f||(Pl(t,i,a,!1),f=(a&i.childLanes)!==0),d){if(f)return ed(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),oe(rt,rt.current),f)break;return null;case 22:case 23:return i.lanes=0,Kc(t,i,a);case 24:Hn(i,at,t.memoizedState.cache)}return wn(t,i,a)}function td(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)ct=!0;else{if(!vs(t,a)&&(i.flags&128)===0)return ct=!1,jg(t,i,a);ct=(t.flags&131072)!==0}else ct=!1,Ue&&(i.flags&1048576)!==0&&Df(i,zo,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var f=i.elementType,d=f._init;if(f=d(f._payload),i.type=f,typeof f=="function")br(f)?(t=Si(f,t),i.tag=1,i=Zc(null,i,f,t,a)):(i.tag=0,i=cs(null,i,f,t,a));else{if(f!=null){if(d=f.$$typeof,d===P){i.tag=11,i=Oc(null,i,f,t,a);break e}else if(d===W){i.tag=14,i=Yc(null,i,f,t,a);break e}}throw i=z(f)||f,Error(o(306,i,""))}}return i;case 0:return cs(t,i,i.type,i.pendingProps,a);case 1:return f=i.type,d=Si(f,i.pendingProps),Zc(t,i,f,d,a);case 3:e:{if(fe(i,i.stateNode.containerInfo),t===null)throw Error(o(387));f=i.pendingProps;var y=i.memoizedState;d=y.element,Hr(t,i),Kl(i,f,null,a);var x=i.memoizedState;if(f=x.cache,Hn(i,at,f),f!==y.cache&&Lr(i,[at],a,!0),Jl(),f=x.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:x.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=$c(t,i,f,a);break e}else if(f!==d){d=Qt(Error(o(424)),i),Bl(d),i=$c(t,i,f,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for($e=rn(t.firstChild),bt=i,Ue=!0,gi=null,cn=!0,a=kc(i,null,f,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ql(),f===d){i=wn(t,i,a);break e}gt(t,i,f,a)}i=i.child}return i;case 26:return sa(t,i),t===null?(a=om(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ue||(a=i.type,t=i.pendingProps,f=Ea(ae.current).createElement(a),f[Tt]=i,f[Ut]=t,vt(f,a,t),ft(f),i.stateNode=f):i.memoizedState=om(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ve(i),t===null&&Ue&&(f=i.stateNode=nm(i.type,i.pendingProps,ae.current),bt=i,cn=!0,d=$e,ni(i.type)?(Ws=d,$e=rn(f.firstChild)):$e=d),gt(t,i,i.pendingProps.children,a),sa(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ue&&((d=f=$e)&&(f=b0(f,i.type,i.pendingProps,cn),f!==null?(i.stateNode=f,bt=i,$e=rn(f.firstChild),cn=!1,d=!0):d=!1),d||yi(i)),ve(i),d=i.type,y=i.pendingProps,x=t!==null?t.memoizedProps:null,f=y.children,Qs(d,y)?f=null:x!==null&&Qs(d,x)&&(i.flags|=32),i.memoizedState!==null&&(d=Kr(t,i,Yg,null,null,a),go._currentValue=d),sa(t,i),gt(t,i,f,a),i.child;case 6:return t===null&&Ue&&((t=a=$e)&&(a=w0(a,i.pendingProps,cn),a!==null?(i.stateNode=a,bt=i,$e=null,t=!0):t=!1),t||yi(i)),null;case 13:return Wc(t,i,a);case 4:return fe(i,i.stateNode.containerInfo),f=i.pendingProps,t===null?i.child=tl(i,null,f,a):gt(t,i,f,a),i.child;case 11:return Oc(t,i,i.type,i.pendingProps,a);case 7:return gt(t,i,i.pendingProps,a),i.child;case 8:return gt(t,i,i.pendingProps.children,a),i.child;case 12:return gt(t,i,i.pendingProps.children,a),i.child;case 10:return f=i.pendingProps,Hn(i,i.type,f.value),gt(t,i,f.children,a),i.child;case 9:return d=i.type._context,f=i.pendingProps.children,Ti(i),d=Ct(d),f=f(d),i.flags|=1,gt(t,i,f,a),i.child;case 14:return Yc(t,i,i.type,i.pendingProps,a);case 15:return Jc(t,i,i.type,i.pendingProps,a);case 19:return ed(t,i,a);case 31:return f=i.pendingProps,a=i.mode,f={mode:f.mode,children:f.children},t===null?(a=ua(f,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=xn(t.child,f),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Kc(t,i,a);case 24:return Ti(i),f=Ct(at),t===null?(d=qr(),d===null&&(d=Fe,y=Vr(),d.pooledCache=y,y.refCount++,y!==null&&(d.pooledCacheLanes|=a),d=y),i.memoizedState={parent:f,cache:d},Pr(i),Hn(i,at,d)):((t.lanes&a)!==0&&(Hr(t,i),Kl(i,null,null,a),Jl()),d=t.memoizedState,y=i.memoizedState,d.parent!==f?(d={parent:f,cache:f},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Hn(i,at,f)):(f=y.cache,Hn(i,at,f),f!==d.cache&&Lr(i,[at],a,!0))),gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function Rn(t){t.flags|=4}function nd(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!fm(i)){if(i=Wt.current,i!==null&&((Re&4194048)===Re?dn!==null:(Re&62914560)!==Re&&(Re&536870912)===0||i!==dn))throw Ol=Br,Bf;t.flags|=8192}}function fa(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Gn():536870912,t.lanes|=i,ol|=i)}function eo(t,i){if(!Ue)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:f.sibling=null}}function Ze(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,f=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,f|=d.subtreeFlags&65011712,f|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,f|=d.subtreeFlags,f|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=f,t.childLanes=a,i}function e0(t,i,a){var f=i.pendingProps;switch(Dr(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(i),null;case 1:return Ze(i),null;case 3:return a=i.stateNode,f=null,t!==null&&(f=t.memoizedState.cache),i.memoizedState.cache!==f&&(i.flags|=2048),_n(at),de(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Gl(i)?Rn(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,If())),Ze(i),null;case 26:return a=i.memoizedState,t===null?(Rn(i),a!==null?(Ze(i),nd(i,a)):(Ze(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Rn(i),Ze(i),nd(i,a)):(Ze(i),i.flags&=-16777217):(t.memoizedProps!==f&&Rn(i),Ze(i),i.flags&=-16777217),null;case 27:Ae(i),a=ae.current;var d=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==f&&Rn(i);else{if(!f){if(i.stateNode===null)throw Error(o(166));return Ze(i),null}t=le.current,Gl(i)?Uf(i):(t=nm(d,f,a),i.stateNode=t,Rn(i))}return Ze(i),null;case 5:if(Ae(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==f&&Rn(i);else{if(!f){if(i.stateNode===null)throw Error(o(166));return Ze(i),null}if(t=le.current,Gl(i))Uf(i);else{switch(d=Ea(ae.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof f.is=="string"?d.createElement("select",{is:f.is}):d.createElement("select"),f.multiple?t.multiple=!0:f.size&&(t.size=f.size);break;default:t=typeof f.is=="string"?d.createElement(a,{is:f.is}):d.createElement(a)}}t[Tt]=i,t[Ut]=f;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=t;e:switch(vt(t,a,f),a){case"button":case"input":case"select":case"textarea":t=!!f.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Rn(i)}}return Ze(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==f&&Rn(i);else{if(typeof f!="string"&&i.stateNode===null)throw Error(o(166));if(t=ae.current,Gl(i)){if(t=i.stateNode,a=i.memoizedProps,f=null,d=bt,d!==null)switch(d.tag){case 27:case 5:f=d.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||f!==null&&f.suppressHydrationWarning===!0||Xd(t.nodeValue,a)),t||yi(i)}else t=Ea(t).createTextNode(f),t[Tt]=i,i.stateNode=t}return Ze(i),null;case 13:if(f=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Gl(i),f!==null&&f.dehydrated!==null){if(t===null){if(!d)throw Error(o(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));d[Tt]=i}else ql(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ze(i),d=!1}else d=If(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(bn(i),i):(bn(i),null)}if(bn(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=f!==null,t=t!==null&&t.memoizedState!==null,a){f=i.child,d=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(d=f.alternate.memoizedState.cachePool.pool);var y=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==d&&(f.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),fa(i,i.updateQueue),Ze(i),null;case 4:return de(),t===null&&Fs(i.stateNode.containerInfo),Ze(i),null;case 10:return _n(i.type),Ze(i),null;case 19:if(ne(rt),d=i.memoizedState,d===null)return Ze(i),null;if(f=(i.flags&128)!==0,y=d.rendering,y===null)if(f)eo(d,!1);else{if(We!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(y=oa(t),y!==null){for(i.flags|=128,eo(d,!1),t=y.updateQueue,i.updateQueue=t,fa(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Nf(a,t),a=a.sibling;return oe(rt,rt.current&1|2),i.child}t=t.sibling}d.tail!==null&&_e()>ma&&(i.flags|=128,f=!0,eo(d,!1),i.lanes=4194304)}else{if(!f)if(t=oa(y),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,fa(i,t),eo(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!Ue)return Ze(i),null}else 2*_e()-d.renderingStartTime>ma&&a!==536870912&&(i.flags|=128,f=!0,eo(d,!1),i.lanes=4194304);d.isBackwards?(y.sibling=i.child,i.child=y):(t=d.last,t!==null?t.sibling=y:i.child=y,d.last=y)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=_e(),i.sibling=null,t=rt.current,oe(rt,f?t&1|2:t&1),i):(Ze(i),null);case 22:case 23:return bn(i),Yr(),f=i.memoizedState!==null,t!==null?t.memoizedState!==null!==f&&(i.flags|=8192):f&&(i.flags|=8192),f?(a&536870912)!==0&&(i.flags&128)===0&&(Ze(i),i.subtreeFlags&6&&(i.flags|=8192)):Ze(i),a=i.updateQueue,a!==null&&fa(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),f=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==a&&(i.flags|=2048),t!==null&&ne(Ci),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),_n(at),Ze(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function t0(t,i){switch(Dr(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return _n(at),de(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ae(i),null;case 13:if(bn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(o(340));ql()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ne(rt),null;case 4:return de(),null;case 10:return _n(i.type),null;case 22:case 23:return bn(i),Yr(),t!==null&&ne(Ci),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return _n(at),null;case 25:return null;default:return null}}function id(t,i){switch(Dr(i),i.tag){case 3:_n(at),de();break;case 26:case 27:case 5:Ae(i);break;case 4:de();break;case 13:bn(i);break;case 19:ne(rt);break;case 10:_n(i.type);break;case 22:case 23:bn(i),Yr(),t!==null&&ne(Ci);break;case 24:_n(at)}}function to(t,i){try{var a=i.updateQueue,f=a!==null?a.lastEffect:null;if(f!==null){var d=f.next;a=d;do{if((a.tag&t)===t){f=void 0;var y=a.create,x=a.inst;f=y(),x.destroy=f}a=a.next}while(a!==d)}}catch(M){ze(i,i.return,M)}}function Qn(t,i,a){try{var f=i.updateQueue,d=f!==null?f.lastEffect:null;if(d!==null){var y=d.next;f=y;do{if((f.tag&t)===t){var x=f.inst,M=x.destroy;if(M!==void 0){x.destroy=void 0,d=i;var I=a,j=M;try{j()}catch(re){ze(d,I,re)}}}f=f.next}while(f!==y)}}catch(re){ze(i,i.return,re)}}function ld(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Yf(i,a)}catch(f){ze(t,t.return,f)}}}function od(t,i,a){a.props=Si(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(f){ze(t,i,f)}}function no(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var f=t.stateNode;break;case 30:f=t.stateNode;break;default:f=t.stateNode}typeof a=="function"?t.refCleanup=a(f):a.current=f}}catch(d){ze(t,i,d)}}function mn(t,i){var a=t.ref,f=t.refCleanup;if(a!==null)if(typeof f=="function")try{f()}catch(d){ze(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){ze(t,i,d)}else a.current=null}function ad(t){var i=t.type,a=t.memoizedProps,f=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&f.focus();break e;case"img":a.src?f.src=a.src:a.srcSet&&(f.srcset=a.srcSet)}}catch(d){ze(t,t.return,d)}}function Ts(t,i,a){try{var f=t.stateNode;S0(f,t.type,a,i),f[Ut]=i}catch(d){ze(t,t.return,d)}}function rd(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ni(t.type)||t.tag===4}function Cs(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ni(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xs(t,i,a){var f=t.tag;if(f===5||f===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Sa));else if(f!==4&&(f===27&&ni(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(xs(t,i,a),t=t.sibling;t!==null;)xs(t,i,a),t=t.sibling}function ca(t,i,a){var f=t.tag;if(f===5||f===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(f!==4&&(f===27&&ni(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ca(t,i,a),t=t.sibling;t!==null;)ca(t,i,a),t=t.sibling}function sd(t){var i=t.stateNode,a=t.memoizedProps;try{for(var f=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);vt(i,f,a),i[Tt]=t,i[Ut]=a}catch(y){ze(t,t.return,y)}}var Nn=!1,tt=!1,Ss=!1,ud=typeof WeakSet=="function"?WeakSet:Set,dt=null;function n0(t,i){if(t=t.containerInfo,Js=Ra,t=Cf(t),Cr(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var f=a.getSelection&&a.getSelection();if(f&&f.rangeCount!==0){a=f.anchorNode;var d=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var x=0,M=-1,I=-1,j=0,re=0,ue=t,te=null;t:for(;;){for(var ie;ue!==a||d!==0&&ue.nodeType!==3||(M=x+d),ue!==y||f!==0&&ue.nodeType!==3||(I=x+f),ue.nodeType===3&&(x+=ue.nodeValue.length),(ie=ue.firstChild)!==null;)te=ue,ue=ie;for(;;){if(ue===t)break t;if(te===a&&++j===d&&(M=x),te===y&&++re===f&&(I=x),(ie=ue.nextSibling)!==null)break;ue=te,te=ue.parentNode}ue=ie}a=M===-1||I===-1?null:{start:M,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ks={focusedElem:t,selectionRange:a},Ra=!1,dt=i;dt!==null;)if(i=dt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,dt=t;else for(;dt!==null;){switch(i=dt,y=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&y!==null){t=void 0,a=i,d=y.memoizedProps,y=y.memoizedState,f=a.stateNode;try{var Te=Si(a.type,d,a.elementType===a.type);t=f.getSnapshotBeforeUpdate(Te,y),f.__reactInternalSnapshotBeforeUpdate=t}catch(ge){ze(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Zs(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zs(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=i.sibling,t!==null){t.return=i.return,dt=t;break}dt=i.return}}function fd(t,i,a){var f=a.flags;switch(a.tag){case 0:case 11:case 15:Xn(t,a),f&4&&to(5,a);break;case 1:if(Xn(t,a),f&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(x){ze(a,a.return,x)}else{var d=Si(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(x){ze(a,a.return,x)}}f&64&&ld(a),f&512&&no(a,a.return);break;case 3:if(Xn(t,a),f&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Yf(t,i)}catch(x){ze(a,a.return,x)}}break;case 27:i===null&&f&4&&sd(a);case 26:case 5:Xn(t,a),i===null&&f&4&&ad(a),f&512&&no(a,a.return);break;case 12:Xn(t,a);break;case 13:Xn(t,a),f&4&&md(t,a),f&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=c0.bind(null,a),R0(t,a))));break;case 22:if(f=a.memoizedState!==null||Nn,!f){i=i!==null&&i.memoizedState!==null||tt,d=Nn;var y=tt;Nn=f,(tt=i)&&!y?Zn(t,a,(a.subtreeFlags&8772)!==0):Xn(t,a),Nn=d,tt=y}break;case 30:break;default:Xn(t,a)}}function cd(t){var i=t.alternate;i!==null&&(t.alternate=null,cd(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&tr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Qe=null,Lt=!1;function Dn(t,i,a){for(a=a.child;a!==null;)dd(t,i,a),a=a.sibling}function dd(t,i,a){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(wt,a)}catch{}switch(a.tag){case 26:tt||mn(a,i),Dn(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:tt||mn(a,i);var f=Qe,d=Lt;ni(a.type)&&(Qe=a.stateNode,Lt=!1),Dn(t,i,a),co(a.stateNode),Qe=f,Lt=d;break;case 5:tt||mn(a,i);case 6:if(f=Qe,d=Lt,Qe=null,Dn(t,i,a),Qe=f,Lt=d,Qe!==null)if(Lt)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(a.stateNode)}catch(y){ze(a,i,y)}else try{Qe.removeChild(a.stateNode)}catch(y){ze(a,i,y)}break;case 18:Qe!==null&&(Lt?(t=Qe,em(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Co(t)):em(Qe,a.stateNode));break;case 4:f=Qe,d=Lt,Qe=a.stateNode.containerInfo,Lt=!0,Dn(t,i,a),Qe=f,Lt=d;break;case 0:case 11:case 14:case 15:tt||Qn(2,a,i),tt||Qn(4,a,i),Dn(t,i,a);break;case 1:tt||(mn(a,i),f=a.stateNode,typeof f.componentWillUnmount=="function"&&od(a,i,f)),Dn(t,i,a);break;case 21:Dn(t,i,a);break;case 22:tt=(f=tt)||a.memoizedState!==null,Dn(t,i,a),tt=f;break;default:Dn(t,i,a)}}function md(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Co(t)}catch(a){ze(i,i.return,a)}}function i0(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new ud),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new ud),i;default:throw Error(o(435,t.tag))}}function Es(t,i){var a=i0(t);i.forEach(function(f){var d=d0.bind(null,t,f);a.has(f)||(a.add(f),f.then(d,d))})}function Ht(t,i){var a=i.deletions;if(a!==null)for(var f=0;f<a.length;f++){var d=a[f],y=t,x=i,M=x;e:for(;M!==null;){switch(M.tag){case 27:if(ni(M.type)){Qe=M.stateNode,Lt=!1;break e}break;case 5:Qe=M.stateNode,Lt=!1;break e;case 3:case 4:Qe=M.stateNode.containerInfo,Lt=!0;break e}M=M.return}if(Qe===null)throw Error(o(160));dd(y,x,d),Qe=null,Lt=!1,y=d.alternate,y!==null&&(y.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)hd(i,t),i=i.sibling}var an=null;function hd(t,i){var a=t.alternate,f=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ht(i,t),zt(t),f&4&&(Qn(3,t,t.return),to(3,t),Qn(5,t,t.return));break;case 1:Ht(i,t),zt(t),f&512&&(tt||a===null||mn(a,a.return)),f&64&&Nn&&(t=t.updateQueue,t!==null&&(f=t.callbacks,f!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?f:a.concat(f))));break;case 26:var d=an;if(Ht(i,t),zt(t),f&512&&(tt||a===null||mn(a,a.return)),f&4){var y=a!==null?a.memoizedState:null;if(f=t.memoizedState,a===null)if(f===null)if(t.stateNode===null){e:{f=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(f){case"title":y=d.getElementsByTagName("title")[0],(!y||y[Ml]||y[Tt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=d.createElement(f),d.head.insertBefore(y,d.querySelector("head > title"))),vt(y,f,a),y[Tt]=t,ft(y),f=y;break e;case"link":var x=sm("link","href",d).get(f+(a.href||""));if(x){for(var M=0;M<x.length;M++)if(y=x[M],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(M,1);break t}}y=d.createElement(f),vt(y,f,a),d.head.appendChild(y);break;case"meta":if(x=sm("meta","content",d).get(f+(a.content||""))){for(M=0;M<x.length;M++)if(y=x[M],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(M,1);break t}}y=d.createElement(f),vt(y,f,a),d.head.appendChild(y);break;default:throw Error(o(468,f))}y[Tt]=t,ft(y),f=y}t.stateNode=f}else um(d,t.type,t.stateNode);else t.stateNode=rm(d,f,t.memoizedProps);else y!==f?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,f===null?um(d,t.type,t.stateNode):rm(d,f,t.memoizedProps)):f===null&&t.stateNode!==null&&Ts(t,t.memoizedProps,a.memoizedProps)}break;case 27:Ht(i,t),zt(t),f&512&&(tt||a===null||mn(a,a.return)),a!==null&&f&4&&Ts(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Ht(i,t),zt(t),f&512&&(tt||a===null||mn(a,a.return)),t.flags&32){d=t.stateNode;try{Gi(d,"")}catch(ie){ze(t,t.return,ie)}}f&4&&t.stateNode!=null&&(d=t.memoizedProps,Ts(t,d,a!==null?a.memoizedProps:d)),f&1024&&(Ss=!0);break;case 6:if(Ht(i,t),zt(t),f&4){if(t.stateNode===null)throw Error(o(162));f=t.memoizedProps,a=t.stateNode;try{a.nodeValue=f}catch(ie){ze(t,t.return,ie)}}break;case 3:if(Ma=null,d=an,an=Aa(i.containerInfo),Ht(i,t),an=d,zt(t),f&4&&a!==null&&a.memoizedState.isDehydrated)try{Co(i.containerInfo)}catch(ie){ze(t,t.return,ie)}Ss&&(Ss=!1,pd(t));break;case 4:f=an,an=Aa(t.stateNode.containerInfo),Ht(i,t),zt(t),an=f;break;case 12:Ht(i,t),zt(t);break;case 13:Ht(i,t),zt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rs=_e()),f&4&&(f=t.updateQueue,f!==null&&(t.updateQueue=null,Es(t,f)));break;case 22:d=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,j=Nn,re=tt;if(Nn=j||d,tt=re||I,Ht(i,t),tt=re,Nn=j,zt(t),f&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||I||Nn||tt||Ei(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(y=I.stateNode,d)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{M=I.stateNode;var ue=I.memoizedProps.style,te=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;M.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ie){ze(I,I.return,ie)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=d?"":I.memoizedProps}catch(ie){ze(I,I.return,ie)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}f&4&&(f=t.updateQueue,f!==null&&(a=f.retryQueue,a!==null&&(f.retryQueue=null,Es(t,a))));break;case 19:Ht(i,t),zt(t),f&4&&(f=t.updateQueue,f!==null&&(t.updateQueue=null,Es(t,f)));break;case 30:break;case 21:break;default:Ht(i,t),zt(t)}}function zt(t){var i=t.flags;if(i&2){try{for(var a,f=t.return;f!==null;){if(rd(f)){a=f;break}f=f.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var d=a.stateNode,y=Cs(t);ca(t,y,d);break;case 5:var x=a.stateNode;a.flags&32&&(Gi(x,""),a.flags&=-33);var M=Cs(t);ca(t,M,x);break;case 3:case 4:var I=a.stateNode.containerInfo,j=Cs(t);xs(t,j,I);break;default:throw Error(o(161))}}catch(re){ze(t,t.return,re)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function pd(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;pd(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Xn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)fd(t,i.alternate,i),i=i.sibling}function Ei(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Qn(4,i,i.return),Ei(i);break;case 1:mn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&od(i,i.return,a),Ei(i);break;case 27:co(i.stateNode);case 26:case 5:mn(i,i.return),Ei(i);break;case 22:i.memoizedState===null&&Ei(i);break;case 30:Ei(i);break;default:Ei(i)}t=t.sibling}}function Zn(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var f=i.alternate,d=t,y=i,x=y.flags;switch(y.tag){case 0:case 11:case 15:Zn(d,y,a),to(4,y);break;case 1:if(Zn(d,y,a),f=y,d=f.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(j){ze(f,f.return,j)}if(f=y,d=f.updateQueue,d!==null){var M=f.stateNode;try{var I=d.shared.hiddenCallbacks;if(I!==null)for(d.shared.hiddenCallbacks=null,d=0;d<I.length;d++)Of(I[d],M)}catch(j){ze(f,f.return,j)}}a&&x&64&&ld(y),no(y,y.return);break;case 27:sd(y);case 26:case 5:Zn(d,y,a),a&&f===null&&x&4&&ad(y),no(y,y.return);break;case 12:Zn(d,y,a);break;case 13:Zn(d,y,a),a&&x&4&&md(d,y);break;case 22:y.memoizedState===null&&Zn(d,y,a),no(y,y.return);break;case 30:break;default:Zn(d,y,a)}i=i.sibling}}function As(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Hl(a))}function _s(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Hl(t))}function hn(t,i,a,f){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)gd(t,i,a,f),i=i.sibling}function gd(t,i,a,f){var d=i.flags;switch(i.tag){case 0:case 11:case 15:hn(t,i,a,f),d&2048&&to(9,i);break;case 1:hn(t,i,a,f);break;case 3:hn(t,i,a,f),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Hl(t)));break;case 12:if(d&2048){hn(t,i,a,f),t=i.stateNode;try{var y=i.memoizedProps,x=y.id,M=y.onPostCommit;typeof M=="function"&&M(x,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){ze(i,i.return,I)}}else hn(t,i,a,f);break;case 13:hn(t,i,a,f);break;case 23:break;case 22:y=i.stateNode,x=i.alternate,i.memoizedState!==null?y._visibility&2?hn(t,i,a,f):io(t,i):y._visibility&2?hn(t,i,a,f):(y._visibility|=2,nl(t,i,a,f,(i.subtreeFlags&10256)!==0)),d&2048&&As(x,i);break;case 24:hn(t,i,a,f),d&2048&&_s(i.alternate,i);break;default:hn(t,i,a,f)}}function nl(t,i,a,f,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var y=t,x=i,M=a,I=f,j=x.flags;switch(x.tag){case 0:case 11:case 15:nl(y,x,M,I,d),to(8,x);break;case 23:break;case 22:var re=x.stateNode;x.memoizedState!==null?re._visibility&2?nl(y,x,M,I,d):io(y,x):(re._visibility|=2,nl(y,x,M,I,d)),d&&j&2048&&As(x.alternate,x);break;case 24:nl(y,x,M,I,d),d&&j&2048&&_s(x.alternate,x);break;default:nl(y,x,M,I,d)}i=i.sibling}}function io(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,f=i,d=f.flags;switch(f.tag){case 22:io(a,f),d&2048&&As(f.alternate,f);break;case 24:io(a,f),d&2048&&_s(f.alternate,f);break;default:io(a,f)}i=i.sibling}}var lo=8192;function il(t){if(t.subtreeFlags&lo)for(t=t.child;t!==null;)yd(t),t=t.sibling}function yd(t){switch(t.tag){case 26:il(t),t.flags&lo&&t.memoizedState!==null&&z0(an,t.memoizedState,t.memoizedProps);break;case 5:il(t);break;case 3:case 4:var i=an;an=Aa(t.stateNode.containerInfo),il(t),an=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=lo,lo=16777216,il(t),lo=i):il(t));break;default:il(t)}}function vd(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function oo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var f=i[a];dt=f,Cd(f,t)}vd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Td(t),t=t.sibling}function Td(t){switch(t.tag){case 0:case 11:case 15:oo(t),t.flags&2048&&Qn(9,t,t.return);break;case 3:oo(t);break;case 12:oo(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,da(t)):oo(t);break;default:oo(t)}}function da(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var f=i[a];dt=f,Cd(f,t)}vd(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Qn(8,i,i.return),da(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,da(i));break;default:da(i)}t=t.sibling}}function Cd(t,i){for(;dt!==null;){var a=dt;switch(a.tag){case 0:case 11:case 15:Qn(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var f=a.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Hl(a.memoizedState.cache)}if(f=a.child,f!==null)f.return=a,dt=f;else e:for(a=t;dt!==null;){f=dt;var d=f.sibling,y=f.return;if(cd(f),f===a){dt=null;break e}if(d!==null){d.return=y,dt=d;break e}dt=y}}}var l0={getCacheForType:function(t){var i=Ct(at),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},o0=typeof WeakMap=="function"?WeakMap:Map,Ie=0,Fe=null,Me=null,Re=0,Le=0,Ft=null,$n=!1,ll=!1,Ms=!1,Un=0,We=0,Wn=0,Ai=0,bs=0,jt=0,ol=0,ao=null,Vt=null,ws=!1,Rs=0,ma=1/0,ha=null,jn=null,yt=0,ei=null,al=null,rl=0,Ns=0,Ds=null,xd=null,ro=0,Us=null;function Ot(){if((Ie&2)!==0&&Re!==0)return Re&-Re;if(E.T!==null){var t=Qi;return t!==0?t:Bs()}return fn()}function Sd(){jt===0&&(jt=(Re&536870912)===0||Ue?Al():536870912);var t=Wt.current;return t!==null&&(t.flags|=32),jt}function Yt(t,i,a){(t===Fe&&(Le===2||Le===9)||t.cancelPendingCommit!==null)&&(sl(t,0),ti(t,Re,jt,!1)),Dt(t,a),((Ie&2)===0||t!==Fe)&&(t===Fe&&((Ie&2)===0&&(Ai|=a),We===4&&ti(t,Re,jt,!1)),pn(t))}function Ed(t,i,a){if((Ie&6)!==0)throw Error(o(327));var f=!a&&(i&124)===0&&(i&t.expiredLanes)===0||si(t,i),d=f?s0(t,i):Ls(t,i,!0),y=f;do{if(d===0){ll&&!f&&ti(t,i,0,!1);break}else{if(a=t.current.alternate,y&&!a0(a)){d=Ls(t,i,!1),y=!1;continue}if(d===2){if(y=i,t.errorRecoveryDisabledLanes&y)var x=0;else x=t.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){i=x;e:{var M=t;d=ao;var I=M.current.memoizedState.isDehydrated;if(I&&(sl(M,x).flags|=256),x=Ls(M,x,!1),x!==2){if(Ms&&!I){M.errorRecoveryDisabledLanes|=y,Ai|=y,d=4;break e}y=Vt,Vt=d,y!==null&&(Vt===null?Vt=y:Vt.push.apply(Vt,y))}d=x}if(y=!1,d!==2)continue}}if(d===1){sl(t,0),ti(t,i,0,!0);break}e:{switch(f=t,y=d,y){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:ti(f,i,jt,!$n);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(d=Rs+300-_e(),10<d)){if(ti(f,i,jt,!$n),Vn(f,0,!0)!==0)break e;f.timeoutHandle=Wd(Ad.bind(null,f,a,Vt,ha,ws,i,jt,Ai,ol,$n,y,2,-0,0),d);break e}Ad(f,a,Vt,ha,ws,i,jt,Ai,ol,$n,y,0,-0,0)}}break}while(!0);pn(t)}function Ad(t,i,a,f,d,y,x,M,I,j,re,ue,te,ie){if(t.timeoutHandle=-1,ue=i.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(po={stylesheets:null,count:0,unsuspend:H0},yd(i),ue=F0(),ue!==null)){t.cancelPendingCommit=ue(Dd.bind(null,t,i,y,a,f,d,x,M,I,re,1,te,ie)),ti(t,y,x,!j);return}Dd(t,i,y,a,f,d,x,M,I)}function a0(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var f=0;f<a.length;f++){var d=a[f],y=d.getSnapshot;d=d.value;try{if(!Bt(y(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ti(t,i,a,f){i&=~bs,i&=~Ai,t.suspendedLanes|=i,t.pingedLanes&=~i,f&&(t.warmLanes|=i),f=t.expirationTimes;for(var d=i;0<d;){var y=31-je(d),x=1<<y;f[y]=-1,d&=~x}a!==0&&vn(t,a,i)}function pa(){return(Ie&6)===0?(so(0),!1):!0}function ks(){if(Me!==null){if(Le===0)var t=Me.return;else t=Me,An=vi=null,Zr(t),el=null,Wl=0,t=Me;for(;t!==null;)id(t.alternate,t),t=t.return;Me=null}}function sl(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,A0(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ks(),Fe=t,Me=a=xn(t.current,null),Re=i,Le=0,Ft=null,$n=!1,ll=si(t,i),Ms=!1,ol=jt=bs=Ai=Wn=We=0,Vt=ao=null,ws=!1,(i&8)!==0&&(i|=i&32);var f=t.entangledLanes;if(f!==0)for(t=t.entanglements,f&=i;0<f;){var d=31-je(f),y=1<<d;i|=t[d],f&=~y}return Un=i,Go(),a}function _d(t,i){Se=null,E.H=na,i===Fl||i===Jo?(i=zf(),Le=3):i===Bf?(i=zf(),Le=4):Le=i===Fc?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ft=i,Me===null&&(We=1,ra(t,Qt(i,t.current)))}function Md(){var t=E.H;return E.H=na,t===null?na:t}function bd(){var t=E.A;return E.A=l0,t}function Is(){We=4,$n||(Re&4194048)!==Re&&Wt.current!==null||(ll=!0),(Wn&134217727)===0&&(Ai&134217727)===0||Fe===null||ti(Fe,Re,jt,!1)}function Ls(t,i,a){var f=Ie;Ie|=2;var d=Md(),y=bd();(Fe!==t||Re!==i)&&(ha=null,sl(t,i)),i=!1;var x=We;e:do try{if(Le!==0&&Me!==null){var M=Me,I=Ft;switch(Le){case 8:ks(),x=6;break e;case 3:case 2:case 9:case 6:Wt.current===null&&(i=!0);var j=Le;if(Le=0,Ft=null,ul(t,M,I,j),a&&ll){x=0;break e}break;default:j=Le,Le=0,Ft=null,ul(t,M,I,j)}}r0(),x=We;break}catch(re){_d(t,re)}while(!0);return i&&t.shellSuspendCounter++,An=vi=null,Ie=f,E.H=d,E.A=y,Me===null&&(Fe=null,Re=0,Go()),x}function r0(){for(;Me!==null;)wd(Me)}function s0(t,i){var a=Ie;Ie|=2;var f=Md(),d=bd();Fe!==t||Re!==i?(ha=null,ma=_e()+500,sl(t,i)):ll=si(t,i);e:do try{if(Le!==0&&Me!==null){i=Me;var y=Ft;t:switch(Le){case 1:Le=0,Ft=null,ul(t,i,y,1);break;case 2:case 9:if(Pf(y)){Le=0,Ft=null,Rd(i);break}i=function(){Le!==2&&Le!==9||Fe!==t||(Le=7),pn(t)},y.then(i,i);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:Pf(y)?(Le=0,Ft=null,Rd(i)):(Le=0,Ft=null,ul(t,i,y,7));break;case 5:var x=null;switch(Me.tag){case 26:x=Me.memoizedState;case 5:case 27:var M=Me;if(!x||fm(x)){Le=0,Ft=null;var I=M.sibling;if(I!==null)Me=I;else{var j=M.return;j!==null?(Me=j,ga(j)):Me=null}break t}}Le=0,Ft=null,ul(t,i,y,5);break;case 6:Le=0,Ft=null,ul(t,i,y,6);break;case 8:ks(),We=6;break e;default:throw Error(o(462))}}u0();break}catch(re){_d(t,re)}while(!0);return An=vi=null,E.H=f,E.A=d,Ie=a,Me!==null?0:(Fe=null,Re=0,Go(),We)}function u0(){for(;Me!==null&&!ke();)wd(Me)}function wd(t){var i=td(t.alternate,t,Un);t.memoizedProps=t.pendingProps,i===null?ga(t):Me=i}function Rd(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Xc(a,i,i.pendingProps,i.type,void 0,Re);break;case 11:i=Xc(a,i,i.pendingProps,i.type.render,i.ref,Re);break;case 5:Zr(i);default:id(a,i),i=Me=Nf(i,Un),i=td(a,i,Un)}t.memoizedProps=t.pendingProps,i===null?ga(t):Me=i}function ul(t,i,a,f){An=vi=null,Zr(i),el=null,Wl=0;var d=i.return;try{if(Wg(t,d,i,a,Re)){We=1,ra(t,Qt(a,t.current)),Me=null;return}}catch(y){if(d!==null)throw Me=d,y;We=1,ra(t,Qt(a,t.current)),Me=null;return}i.flags&32768?(Ue||f===1?t=!0:ll||(Re&536870912)!==0?t=!1:($n=t=!0,(f===2||f===9||f===3||f===6)&&(f=Wt.current,f!==null&&f.tag===13&&(f.flags|=16384))),Nd(i,t)):ga(i)}function ga(t){var i=t;do{if((i.flags&32768)!==0){Nd(i,$n);return}t=i.return;var a=e0(i.alternate,i,Un);if(a!==null){Me=a;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=t}while(i!==null);We===0&&(We=5)}function Nd(t,i){do{var a=t0(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);We=6,Me=null}function Dd(t,i,a,f,d,y,x,M,I){t.cancelPendingCommit=null;do ya();while(yt!==0);if((Ie&6)!==0)throw Error(o(327));if(i!==null){if(i===t.current)throw Error(o(177));if(y=i.lanes|i.childLanes,y|=_r,un(t,a,y,x,M,I),t===Fe&&(Me=Fe=null,Re=0),al=i,ei=t,rl=a,Ns=y,Ds=d,xd=f,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,m0(Ye,function(){return Vd(),null})):(t.callbackNode=null,t.callbackPriority=0),f=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||f){f=E.T,E.T=null,d=_.p,_.p=2,x=Ie,Ie|=4;try{n0(t,i,a)}finally{Ie=x,_.p=d,E.T=f}}yt=1,Ud(),kd(),Id()}}function Ud(){if(yt===1){yt=0;var t=ei,i=al,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=E.T,E.T=null;var f=_.p;_.p=2;var d=Ie;Ie|=4;try{hd(i,t);var y=Ks,x=Cf(t.containerInfo),M=y.focusedElem,I=y.selectionRange;if(x!==M&&M&&M.ownerDocument&&Tf(M.ownerDocument.documentElement,M)){if(I!==null&&Cr(M)){var j=I.start,re=I.end;if(re===void 0&&(re=j),"selectionStart"in M)M.selectionStart=j,M.selectionEnd=Math.min(re,M.value.length);else{var ue=M.ownerDocument||document,te=ue&&ue.defaultView||window;if(te.getSelection){var ie=te.getSelection(),Te=M.textContent.length,ge=Math.min(I.start,Te),Be=I.end===void 0?ge:Math.min(I.end,Te);!ie.extend&&ge>Be&&(x=Be,Be=ge,ge=x);var Y=vf(M,ge),B=vf(M,Be);if(Y&&B&&(ie.rangeCount!==1||ie.anchorNode!==Y.node||ie.anchorOffset!==Y.offset||ie.focusNode!==B.node||ie.focusOffset!==B.offset)){var Z=ue.createRange();Z.setStart(Y.node,Y.offset),ie.removeAllRanges(),ge>Be?(ie.addRange(Z),ie.extend(B.node,B.offset)):(Z.setEnd(B.node,B.offset),ie.addRange(Z))}}}}for(ue=[],ie=M;ie=ie.parentNode;)ie.nodeType===1&&ue.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<ue.length;M++){var se=ue[M];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Ra=!!Js,Ks=Js=null}finally{Ie=d,_.p=f,E.T=a}}t.current=i,yt=2}}function kd(){if(yt===2){yt=0;var t=ei,i=al,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=E.T,E.T=null;var f=_.p;_.p=2;var d=Ie;Ie|=4;try{fd(t,i.alternate,i)}finally{Ie=d,_.p=f,E.T=a}}yt=3}}function Id(){if(yt===4||yt===3){yt=0,Oe();var t=ei,i=al,a=rl,f=xd;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?yt=5:(yt=0,al=ei=null,Ld(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(jn=null),ln(a),i=i.stateNode,ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(wt,i,void 0,(i.current.flags&128)===128)}catch{}if(f!==null){i=E.T,d=_.p,_.p=2,E.T=null;try{for(var y=t.onRecoverableError,x=0;x<f.length;x++){var M=f[x];y(M.value,{componentStack:M.stack})}}finally{E.T=i,_.p=d}}(rl&3)!==0&&ya(),pn(t),d=t.pendingLanes,(a&4194090)!==0&&(d&42)!==0?t===Us?ro++:(ro=0,Us=t):ro=0,so(0)}}function Ld(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Hl(i)))}function ya(t){return Ud(),kd(),Id(),Vd()}function Vd(){if(yt!==5)return!1;var t=ei,i=Ns;Ns=0;var a=ln(rl),f=E.T,d=_.p;try{_.p=32>a?32:a,E.T=null,a=Ds,Ds=null;var y=ei,x=rl;if(yt=0,al=ei=null,rl=0,(Ie&6)!==0)throw Error(o(331));var M=Ie;if(Ie|=4,Td(y.current),gd(y,y.current,x,a),Ie=M,so(0,!1),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(wt,y)}catch{}return!0}finally{_.p=d,E.T=f,Ld(t,i)}}function Gd(t,i,a){i=Qt(a,i),i=fs(t.stateNode,i,2),t=On(t,i,2),t!==null&&(Dt(t,2),pn(t))}function ze(t,i,a){if(t.tag===3)Gd(t,t,a);else for(;i!==null;){if(i.tag===3){Gd(i,t,a);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(jn===null||!jn.has(f))){t=Qt(a,t),a=Hc(2),f=On(i,a,2),f!==null&&(zc(a,f,i,t),Dt(f,2),pn(f));break}}i=i.return}}function Vs(t,i,a){var f=t.pingCache;if(f===null){f=t.pingCache=new o0;var d=new Set;f.set(i,d)}else d=f.get(i),d===void 0&&(d=new Set,f.set(i,d));d.has(a)||(Ms=!0,d.add(a),t=f0.bind(null,t,i,a),i.then(t,t))}function f0(t,i,a){var f=t.pingCache;f!==null&&f.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Fe===t&&(Re&a)===a&&(We===4||We===3&&(Re&62914560)===Re&&300>_e()-Rs?(Ie&2)===0&&sl(t,0):bs|=a,ol===Re&&(ol=0)),pn(t)}function qd(t,i){i===0&&(i=Gn()),t=Oi(t,i),t!==null&&(Dt(t,i),pn(t))}function c0(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),qd(t,a)}function d0(t,i){var a=0;switch(t.tag){case 13:var f=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:f=t.stateNode;break;case 22:f=t.stateNode._retryCache;break;default:throw Error(o(314))}f!==null&&f.delete(i),qd(t,a)}function m0(t,i){return nt(t,i)}var va=null,fl=null,Gs=!1,Ta=!1,qs=!1,_i=0;function pn(t){t!==fl&&t.next===null&&(fl===null?va=fl=t:fl=fl.next=t),Ta=!0,Gs||(Gs=!0,p0())}function so(t,i){if(!qs&&Ta){qs=!0;do for(var a=!1,f=va;f!==null;){if(t!==0){var d=f.pendingLanes;if(d===0)var y=0;else{var x=f.suspendedLanes,M=f.pingedLanes;y=(1<<31-je(42|t)+1)-1,y&=d&~(x&~M),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,zd(f,y))}else y=Re,y=Vn(f,f===Fe?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(y&3)===0||si(f,y)||(a=!0,zd(f,y));f=f.next}while(a);qs=!1}}function h0(){Bd()}function Bd(){Ta=Gs=!1;var t=0;_i!==0&&(E0()&&(t=_i),_i=0);for(var i=_e(),a=null,f=va;f!==null;){var d=f.next,y=Pd(f,i);y===0?(f.next=null,a===null?va=d:a.next=d,d===null&&(fl=a)):(a=f,(t!==0||(y&3)!==0)&&(Ta=!0)),f=d}so(t)}function Pd(t,i){for(var a=t.suspendedLanes,f=t.pingedLanes,d=t.expirationTimes,y=t.pendingLanes&-62914561;0<y;){var x=31-je(y),M=1<<x,I=d[x];I===-1?((M&a)===0||(M&f)!==0)&&(d[x]=El(M,i)):I<=i&&(t.expiredLanes|=M),y&=~M}if(i=Fe,a=Re,a=Vn(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),f=t.callbackNode,a===0||t===i&&(Le===2||Le===9)||t.cancelPendingCommit!==null)return f!==null&&f!==null&&we(f),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||si(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(f!==null&&we(f),ln(a)){case 2:case 8:a=st;break;case 32:a=Ye;break;case 268435456:a=Xe;break;default:a=Ye}return f=Hd.bind(null,t),a=nt(a,f),t.callbackPriority=i,t.callbackNode=a,i}return f!==null&&f!==null&&we(f),t.callbackPriority=2,t.callbackNode=null,2}function Hd(t,i){if(yt!==0&&yt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(ya()&&t.callbackNode!==a)return null;var f=Re;return f=Vn(t,t===Fe?f:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),f===0?null:(Ed(t,f,i),Pd(t,_e()),t.callbackNode!=null&&t.callbackNode===a?Hd.bind(null,t):null)}function zd(t,i){if(ya())return null;Ed(t,i,!0)}function p0(){_0(function(){(Ie&6)!==0?nt(it,h0):Bd()})}function Bs(){return _i===0&&(_i=Al()),_i}function Fd(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:No(""+t)}function Od(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function g0(t,i,a,f,d){if(i==="submit"&&a&&a.stateNode===d){var y=Fd((d[Ut]||null).action),x=f.submitter;x&&(i=(i=x[Ut]||null)?Fd(i.formAction):x.getAttribute("formAction"),i!==null&&(y=i,x=null));var M=new Io("action","action",null,f,d);t.push({event:M,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(_i!==0){var I=x?Od(d,x):new FormData(d);os(a,{pending:!0,data:I,method:d.method,action:y},null,I)}}else typeof y=="function"&&(M.preventDefault(),I=x?Od(d,x):new FormData(d),os(a,{pending:!0,data:I,method:d.method,action:y},y,I))},currentTarget:d}]})}}for(var Ps=0;Ps<Ar.length;Ps++){var Hs=Ar[Ps],y0=Hs.toLowerCase(),v0=Hs[0].toUpperCase()+Hs.slice(1);on(y0,"on"+v0)}on(Ef,"onAnimationEnd"),on(Af,"onAnimationIteration"),on(_f,"onAnimationStart"),on("dblclick","onDoubleClick"),on("focusin","onFocus"),on("focusout","onBlur"),on(Lg,"onTransitionRun"),on(Vg,"onTransitionStart"),on(Gg,"onTransitionCancel"),on(Mf,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uo));function Yd(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var f=t[a],d=f.event;f=f.listeners;e:{var y=void 0;if(i)for(var x=f.length-1;0<=x;x--){var M=f[x],I=M.instance,j=M.currentTarget;if(M=M.listener,I!==y&&d.isPropagationStopped())break e;y=M,d.currentTarget=j;try{y(d)}catch(re){aa(re)}d.currentTarget=null,y=I}else for(x=0;x<f.length;x++){if(M=f[x],I=M.instance,j=M.currentTarget,M=M.listener,I!==y&&d.isPropagationStopped())break e;y=M,d.currentTarget=j;try{y(d)}catch(re){aa(re)}d.currentTarget=null,y=I}}}}function be(t,i){var a=i[er];a===void 0&&(a=i[er]=new Set);var f=t+"__bubble";a.has(f)||(Jd(i,t,2,!1),a.add(f))}function zs(t,i,a){var f=0;i&&(f|=4),Jd(a,t,f,i)}var Ca="_reactListening"+Math.random().toString(36).slice(2);function Fs(t){if(!t[Ca]){t[Ca]=!0,qu.forEach(function(a){a!=="selectionchange"&&(T0.has(a)||zs(a,!1,t),zs(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ca]||(i[Ca]=!0,zs("selectionchange",!1,i))}}function Jd(t,i,a,f){switch(gm(i)){case 2:var d=J0;break;case 8:d=K0;break;default:d=iu}a=d.bind(null,i,a,t),d=void 0,!cr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),f?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function Os(t,i,a,f,d){var y=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var x=f.tag;if(x===3||x===4){var M=f.stateNode.containerInfo;if(M===d)break;if(x===4)for(x=f.return;x!==null;){var I=x.tag;if((I===3||I===4)&&x.stateNode.containerInfo===d)return;x=x.return}for(;M!==null;){if(x=Di(M),x===null)return;if(I=x.tag,I===5||I===6||I===26||I===27){f=y=x;continue e}M=M.parentNode}}f=f.return}Wu(function(){var j=y,re=ur(a),ue=[];e:{var te=bf.get(t);if(te!==void 0){var ie=Io,Te=t;switch(t){case"keypress":if(Uo(a)===0)break e;case"keydown":case"keyup":ie=mg;break;case"focusin":Te="focus",ie=pr;break;case"focusout":Te="blur",ie=pr;break;case"beforeblur":case"afterblur":ie=pr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=tf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=tg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=gg;break;case Ef:case Af:case _f:ie=lg;break;case Mf:ie=vg;break;case"scroll":case"scrollend":ie=jp;break;case"wheel":ie=Cg;break;case"copy":case"cut":case"paste":ie=ag;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=lf;break;case"toggle":case"beforetoggle":ie=Sg}var ge=(i&4)!==0,Be=!ge&&(t==="scroll"||t==="scrollend"),Y=ge?te!==null?te+"Capture":null:te;ge=[];for(var B=j,Z;B!==null;){var se=B;if(Z=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Z===null||Y===null||(se=wl(B,Y),se!=null&&ge.push(fo(B,se,Z))),Be)break;B=B.return}0<ge.length&&(te=new ie(te,Te,null,a,re),ue.push({event:te,listeners:ge}))}}if((i&7)===0){e:{if(te=t==="mouseover"||t==="pointerover",ie=t==="mouseout"||t==="pointerout",te&&a!==sr&&(Te=a.relatedTarget||a.fromElement)&&(Di(Te)||Te[Ni]))break e;if((ie||te)&&(te=re.window===re?re:(te=re.ownerDocument)?te.defaultView||te.parentWindow:window,ie?(Te=a.relatedTarget||a.toElement,ie=j,Te=Te?Di(Te):null,Te!==null&&(Be=c(Te),ge=Te.tag,Te!==Be||ge!==5&&ge!==27&&ge!==6)&&(Te=null)):(ie=null,Te=j),ie!==Te)){if(ge=tf,se="onMouseLeave",Y="onMouseEnter",B="mouse",(t==="pointerout"||t==="pointerover")&&(ge=lf,se="onPointerLeave",Y="onPointerEnter",B="pointer"),Be=ie==null?te:bl(ie),Z=Te==null?te:bl(Te),te=new ge(se,B+"leave",ie,a,re),te.target=Be,te.relatedTarget=Z,se=null,Di(re)===j&&(ge=new ge(Y,B+"enter",Te,a,re),ge.target=Z,ge.relatedTarget=Be,se=ge),Be=se,ie&&Te)t:{for(ge=ie,Y=Te,B=0,Z=ge;Z;Z=cl(Z))B++;for(Z=0,se=Y;se;se=cl(se))Z++;for(;0<B-Z;)ge=cl(ge),B--;for(;0<Z-B;)Y=cl(Y),Z--;for(;B--;){if(ge===Y||Y!==null&&ge===Y.alternate)break t;ge=cl(ge),Y=cl(Y)}ge=null}else ge=null;ie!==null&&Kd(ue,te,ie,ge,!1),Te!==null&&Be!==null&&Kd(ue,Be,Te,ge,!0)}}e:{if(te=j?bl(j):window,ie=te.nodeName&&te.nodeName.toLowerCase(),ie==="select"||ie==="input"&&te.type==="file")var me=df;else if(ff(te))if(mf)me=Ug;else{me=Ng;var Ee=Rg}else ie=te.nodeName,!ie||ie.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?j&&rr(j.elementType)&&(me=df):me=Dg;if(me&&(me=me(t,j))){cf(ue,me,a,re);break e}Ee&&Ee(t,te,j),t==="focusout"&&j&&te.type==="number"&&j.memoizedProps.value!=null&&ar(te,"number",te.value)}switch(Ee=j?bl(j):window,t){case"focusin":(ff(Ee)||Ee.contentEditable==="true")&&(Hi=Ee,xr=j,Vl=null);break;case"focusout":Vl=xr=Hi=null;break;case"mousedown":Sr=!0;break;case"contextmenu":case"mouseup":case"dragend":Sr=!1,xf(ue,a,re);break;case"selectionchange":if(Ig)break;case"keydown":case"keyup":xf(ue,a,re)}var pe;if(yr)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Pi?sf(t,a)&&(ye="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(of&&a.locale!=="ko"&&(Pi||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Pi&&(pe=ju()):(Pn=re,dr="value"in Pn?Pn.value:Pn.textContent,Pi=!0)),Ee=xa(j,ye),0<Ee.length&&(ye=new nf(ye,t,null,a,re),ue.push({event:ye,listeners:Ee}),pe?ye.data=pe:(pe=uf(a),pe!==null&&(ye.data=pe)))),(pe=Ag?_g(t,a):Mg(t,a))&&(ye=xa(j,"onBeforeInput"),0<ye.length&&(Ee=new nf("onBeforeInput","beforeinput",null,a,re),ue.push({event:Ee,listeners:ye}),Ee.data=pe)),g0(ue,t,j,a,re)}Yd(ue,i)})}function fo(t,i,a){return{instance:t,listener:i,currentTarget:a}}function xa(t,i){for(var a=i+"Capture",f=[];t!==null;){var d=t,y=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||y===null||(d=wl(t,a),d!=null&&f.unshift(fo(t,d,y)),d=wl(t,i),d!=null&&f.push(fo(t,d,y))),t.tag===3)return f;t=t.return}return[]}function cl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Kd(t,i,a,f,d){for(var y=i._reactName,x=[];a!==null&&a!==f;){var M=a,I=M.alternate,j=M.stateNode;if(M=M.tag,I!==null&&I===f)break;M!==5&&M!==26&&M!==27||j===null||(I=j,d?(j=wl(a,y),j!=null&&x.unshift(fo(a,j,I))):d||(j=wl(a,y),j!=null&&x.push(fo(a,j,I)))),a=a.return}x.length!==0&&t.push({event:i,listeners:x})}var C0=/\r\n?/g,x0=/\u0000|\uFFFD/g;function Qd(t){return(typeof t=="string"?t:""+t).replace(C0,`
`).replace(x0,"")}function Xd(t,i){return i=Qd(i),Qd(t)===i}function Sa(){}function qe(t,i,a,f,d,y){switch(a){case"children":typeof f=="string"?i==="body"||i==="textarea"&&f===""||Gi(t,f):(typeof f=="number"||typeof f=="bigint")&&i!=="body"&&Gi(t,""+f);break;case"className":bo(t,"class",f);break;case"tabIndex":bo(t,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":bo(t,a,f);break;case"style":Zu(t,f,y);break;case"data":if(i!=="object"){bo(t,"data",f);break}case"src":case"href":if(f===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){t.removeAttribute(a);break}f=No(""+f),t.setAttribute(a,f);break;case"action":case"formAction":if(typeof f=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(i!=="input"&&qe(t,i,"name",d.name,d,null),qe(t,i,"formEncType",d.formEncType,d,null),qe(t,i,"formMethod",d.formMethod,d,null),qe(t,i,"formTarget",d.formTarget,d,null)):(qe(t,i,"encType",d.encType,d,null),qe(t,i,"method",d.method,d,null),qe(t,i,"target",d.target,d,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){t.removeAttribute(a);break}f=No(""+f),t.setAttribute(a,f);break;case"onClick":f!=null&&(t.onclick=Sa);break;case"onScroll":f!=null&&be("scroll",t);break;case"onScrollEnd":f!=null&&be("scrollend",t);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(o(61));if(a=f.__html,a!=null){if(d.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"multiple":t.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":t.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){t.removeAttribute("xlink:href");break}a=No(""+f),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?t.setAttribute(a,""+f):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":f===!0?t.setAttribute(a,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?t.setAttribute(a,f):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?t.setAttribute(a,f):t.removeAttribute(a);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?t.removeAttribute(a):t.setAttribute(a,f);break;case"popover":be("beforetoggle",t),be("toggle",t),Mo(t,"popover",f);break;case"xlinkActuate":Tn(t,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Tn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Tn(t,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Tn(t,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Tn(t,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Tn(t,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Mo(t,"is",f);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=$p.get(a)||a,Mo(t,a,f))}}function Ys(t,i,a,f,d,y){switch(a){case"style":Zu(t,f,y);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(o(61));if(a=f.__html,a!=null){if(d.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"children":typeof f=="string"?Gi(t,f):(typeof f=="number"||typeof f=="bigint")&&Gi(t,""+f);break;case"onScroll":f!=null&&be("scroll",t);break;case"onScrollEnd":f!=null&&be("scrollend",t);break;case"onClick":f!=null&&(t.onclick=Sa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bu.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),y=t[Ut]||null,y=y!=null?y[a]:null,typeof y=="function"&&t.removeEventListener(i,y,d),typeof f=="function")){typeof y!="function"&&y!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,f,d);break e}a in t?t[a]=f:f===!0?t.setAttribute(a,""):Mo(t,a,f)}}}function vt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",t),be("load",t);var f=!1,d=!1,y;for(y in a)if(a.hasOwnProperty(y)){var x=a[y];if(x!=null)switch(y){case"src":f=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:qe(t,i,y,x,a,null)}}d&&qe(t,i,"srcSet",a.srcSet,a,null),f&&qe(t,i,"src",a.src,a,null);return;case"input":be("invalid",t);var M=y=x=d=null,I=null,j=null;for(f in a)if(a.hasOwnProperty(f)){var re=a[f];if(re!=null)switch(f){case"name":d=re;break;case"type":x=re;break;case"checked":I=re;break;case"defaultChecked":j=re;break;case"value":y=re;break;case"defaultValue":M=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(o(137,i));break;default:qe(t,i,f,re,a,null)}}Ju(t,y,M,I,j,x,d,!1),wo(t);return;case"select":be("invalid",t),f=x=y=null;for(d in a)if(a.hasOwnProperty(d)&&(M=a[d],M!=null))switch(d){case"value":y=M;break;case"defaultValue":x=M;break;case"multiple":f=M;default:qe(t,i,d,M,a,null)}i=y,a=x,t.multiple=!!f,i!=null?Vi(t,!!f,i,!1):a!=null&&Vi(t,!!f,a,!0);return;case"textarea":be("invalid",t),y=d=f=null;for(x in a)if(a.hasOwnProperty(x)&&(M=a[x],M!=null))switch(x){case"value":f=M;break;case"defaultValue":d=M;break;case"children":y=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(o(91));break;default:qe(t,i,x,M,a,null)}Qu(t,f,d,y),wo(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(f=a[I],f!=null))switch(I){case"selected":t.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:qe(t,i,I,f,a,null)}return;case"dialog":be("beforetoggle",t),be("toggle",t),be("cancel",t),be("close",t);break;case"iframe":case"object":be("load",t);break;case"video":case"audio":for(f=0;f<uo.length;f++)be(uo[f],t);break;case"image":be("error",t),be("load",t);break;case"details":be("toggle",t);break;case"embed":case"source":case"link":be("error",t),be("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(f=a[j],f!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:qe(t,i,j,f,a,null)}return;default:if(rr(i)){for(re in a)a.hasOwnProperty(re)&&(f=a[re],f!==void 0&&Ys(t,i,re,f,a,void 0));return}}for(M in a)a.hasOwnProperty(M)&&(f=a[M],f!=null&&qe(t,i,M,f,a,null))}function S0(t,i,a,f){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,y=null,x=null,M=null,I=null,j=null,re=null;for(ie in a){var ue=a[ie];if(a.hasOwnProperty(ie)&&ue!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":I=ue;default:f.hasOwnProperty(ie)||qe(t,i,ie,null,f,ue)}}for(var te in f){var ie=f[te];if(ue=a[te],f.hasOwnProperty(te)&&(ie!=null||ue!=null))switch(te){case"type":y=ie;break;case"name":d=ie;break;case"checked":j=ie;break;case"defaultChecked":re=ie;break;case"value":x=ie;break;case"defaultValue":M=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(o(137,i));break;default:ie!==ue&&qe(t,i,te,ie,f,ue)}}or(t,x,M,I,j,re,y,d);return;case"select":ie=x=M=te=null;for(y in a)if(I=a[y],a.hasOwnProperty(y)&&I!=null)switch(y){case"value":break;case"multiple":ie=I;default:f.hasOwnProperty(y)||qe(t,i,y,null,f,I)}for(d in f)if(y=f[d],I=a[d],f.hasOwnProperty(d)&&(y!=null||I!=null))switch(d){case"value":te=y;break;case"defaultValue":M=y;break;case"multiple":x=y;default:y!==I&&qe(t,i,d,y,f,I)}i=M,a=x,f=ie,te!=null?Vi(t,!!a,te,!1):!!f!=!!a&&(i!=null?Vi(t,!!a,i,!0):Vi(t,!!a,a?[]:"",!1));return;case"textarea":ie=te=null;for(M in a)if(d=a[M],a.hasOwnProperty(M)&&d!=null&&!f.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:qe(t,i,M,null,f,d)}for(x in f)if(d=f[x],y=a[x],f.hasOwnProperty(x)&&(d!=null||y!=null))switch(x){case"value":te=d;break;case"defaultValue":ie=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(o(91));break;default:d!==y&&qe(t,i,x,d,f,y)}Ku(t,te,ie);return;case"option":for(var Te in a)if(te=a[Te],a.hasOwnProperty(Te)&&te!=null&&!f.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:qe(t,i,Te,null,f,te)}for(I in f)if(te=f[I],ie=a[I],f.hasOwnProperty(I)&&te!==ie&&(te!=null||ie!=null))switch(I){case"selected":t.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:qe(t,i,I,te,f,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)te=a[ge],a.hasOwnProperty(ge)&&te!=null&&!f.hasOwnProperty(ge)&&qe(t,i,ge,null,f,te);for(j in f)if(te=f[j],ie=a[j],f.hasOwnProperty(j)&&te!==ie&&(te!=null||ie!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(o(137,i));break;default:qe(t,i,j,te,f,ie)}return;default:if(rr(i)){for(var Be in a)te=a[Be],a.hasOwnProperty(Be)&&te!==void 0&&!f.hasOwnProperty(Be)&&Ys(t,i,Be,void 0,f,te);for(re in f)te=f[re],ie=a[re],!f.hasOwnProperty(re)||te===ie||te===void 0&&ie===void 0||Ys(t,i,re,te,f,ie);return}}for(var Y in a)te=a[Y],a.hasOwnProperty(Y)&&te!=null&&!f.hasOwnProperty(Y)&&qe(t,i,Y,null,f,te);for(ue in f)te=f[ue],ie=a[ue],!f.hasOwnProperty(ue)||te===ie||te==null&&ie==null||qe(t,i,ue,te,f,ie)}var Js=null,Ks=null;function Ea(t){return t.nodeType===9?t:t.ownerDocument}function Zd(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $d(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Qs(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Xs=null;function E0(){var t=window.event;return t&&t.type==="popstate"?t===Xs?!1:(Xs=t,!0):(Xs=null,!1)}var Wd=typeof setTimeout=="function"?setTimeout:void 0,A0=typeof clearTimeout=="function"?clearTimeout:void 0,jd=typeof Promise=="function"?Promise:void 0,_0=typeof queueMicrotask=="function"?queueMicrotask:typeof jd<"u"?function(t){return jd.resolve(null).then(t).catch(M0)}:Wd;function M0(t){setTimeout(function(){throw t})}function ni(t){return t==="head"}function em(t,i){var a=i,f=0,d=0;do{var y=a.nextSibling;if(t.removeChild(a),y&&y.nodeType===8)if(a=y.data,a==="/$"){if(0<f&&8>f){a=f;var x=t.ownerDocument;if(a&1&&co(x.documentElement),a&2&&co(x.body),a&4)for(a=x.head,co(a),x=a.firstChild;x;){var M=x.nextSibling,I=x.nodeName;x[Ml]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&x.rel.toLowerCase()==="stylesheet"||a.removeChild(x),x=M}}if(d===0){t.removeChild(y),Co(i);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:f=a.charCodeAt(0)-48;else f=0;a=y}while(a);Co(i)}function Zs(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zs(a),tr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function b0(t,i,a,f){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!f&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(f){if(!t[Ml])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(y=t.getAttribute("rel"),y==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(y!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(y=t.getAttribute("src"),(y!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&y&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var y=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===y)return t}else return t;if(t=rn(t.nextSibling),t===null)break}return null}function w0(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=rn(t.nextSibling),t===null))return null;return t}function $s(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function R0(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var f=function(){i(),a.removeEventListener("DOMContentLoaded",f)};a.addEventListener("DOMContentLoaded",f),t._reactRetry=f}}function rn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Ws=null;function tm(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function nm(t,i,a){switch(i=Ea(a),t){case"html":if(t=i.documentElement,!t)throw Error(o(452));return t;case"head":if(t=i.head,!t)throw Error(o(453));return t;case"body":if(t=i.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function co(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);tr(t)}var en=new Map,im=new Set;function Aa(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var kn=_.d;_.d={f:N0,r:D0,D:U0,C:k0,L:I0,m:L0,X:G0,S:V0,M:q0};function N0(){var t=kn.f(),i=pa();return t||i}function D0(t){var i=Ui(t);i!==null&&i.tag===5&&i.type==="form"?Ec(i):kn.r(t)}var dl=typeof document>"u"?null:document;function lm(t,i,a){var f=dl;if(f&&typeof i=="string"&&i){var d=Kt(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),im.has(d)||(im.add(d),t={rel:t,crossOrigin:a,href:i},f.querySelector(d)===null&&(i=f.createElement("link"),vt(i,"link",t),ft(i),f.head.appendChild(i)))}}function U0(t){kn.D(t),lm("dns-prefetch",t,null)}function k0(t,i){kn.C(t,i),lm("preconnect",t,i)}function I0(t,i,a){kn.L(t,i,a);var f=dl;if(f&&t&&i){var d='link[rel="preload"][as="'+Kt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Kt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Kt(a.imageSizes)+'"]')):d+='[href="'+Kt(t)+'"]';var y=d;switch(i){case"style":y=ml(t);break;case"script":y=hl(t)}en.has(y)||(t=g({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),en.set(y,t),f.querySelector(d)!==null||i==="style"&&f.querySelector(mo(y))||i==="script"&&f.querySelector(ho(y))||(i=f.createElement("link"),vt(i,"link",t),ft(i),f.head.appendChild(i)))}}function L0(t,i){kn.m(t,i);var a=dl;if(a&&t){var f=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Kt(f)+'"][href="'+Kt(t)+'"]',y=d;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=hl(t)}if(!en.has(y)&&(t=g({rel:"modulepreload",href:t},i),en.set(y,t),a.querySelector(d)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ho(y)))return}f=a.createElement("link"),vt(f,"link",t),ft(f),a.head.appendChild(f)}}}function V0(t,i,a){kn.S(t,i,a);var f=dl;if(f&&t){var d=ki(f).hoistableStyles,y=ml(t);i=i||"default";var x=d.get(y);if(!x){var M={loading:0,preload:null};if(x=f.querySelector(mo(y)))M.loading=5;else{t=g({rel:"stylesheet",href:t,"data-precedence":i},a),(a=en.get(y))&&js(t,a);var I=x=f.createElement("link");ft(I),vt(I,"link",t),I._p=new Promise(function(j,re){I.onload=j,I.onerror=re}),I.addEventListener("load",function(){M.loading|=1}),I.addEventListener("error",function(){M.loading|=2}),M.loading|=4,_a(x,i,f)}x={type:"stylesheet",instance:x,count:1,state:M},d.set(y,x)}}}function G0(t,i){kn.X(t,i);var a=dl;if(a&&t){var f=ki(a).hoistableScripts,d=hl(t),y=f.get(d);y||(y=a.querySelector(ho(d)),y||(t=g({src:t,async:!0},i),(i=en.get(d))&&eu(t,i),y=a.createElement("script"),ft(y),vt(y,"link",t),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(d,y))}}function q0(t,i){kn.M(t,i);var a=dl;if(a&&t){var f=ki(a).hoistableScripts,d=hl(t),y=f.get(d);y||(y=a.querySelector(ho(d)),y||(t=g({src:t,async:!0,type:"module"},i),(i=en.get(d))&&eu(t,i),y=a.createElement("script"),ft(y),vt(y,"link",t),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(d,y))}}function om(t,i,a,f){var d=(d=ae.current)?Aa(d):null;if(!d)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ml(a.href),a=ki(d).hoistableStyles,f=a.get(i),f||(f={type:"style",instance:null,count:0,state:null},a.set(i,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ml(a.href);var y=ki(d).hoistableStyles,x=y.get(t);if(x||(d=d.ownerDocument||d,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(t,x),(y=d.querySelector(mo(t)))&&!y._p&&(x.instance=y,x.state.loading=5),en.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},en.set(t,a),y||B0(d,t,a,x.state))),i&&f===null)throw Error(o(528,""));return x}if(i&&f!==null)throw Error(o(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=hl(a),a=ki(d).hoistableScripts,f=a.get(i),f||(f={type:"script",instance:null,count:0,state:null},a.set(i,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function ml(t){return'href="'+Kt(t)+'"'}function mo(t){return'link[rel="stylesheet"]['+t+"]"}function am(t){return g({},t,{"data-precedence":t.precedence,precedence:null})}function B0(t,i,a,f){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?f.loading=1:(i=t.createElement("link"),f.preload=i,i.addEventListener("load",function(){return f.loading|=1}),i.addEventListener("error",function(){return f.loading|=2}),vt(i,"link",a),ft(i),t.head.appendChild(i))}function hl(t){return'[src="'+Kt(t)+'"]'}function ho(t){return"script[async]"+t}function rm(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var f=t.querySelector('style[data-href~="'+Kt(a.href)+'"]');if(f)return i.instance=f,ft(f),f;var d=g({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return f=(t.ownerDocument||t).createElement("style"),ft(f),vt(f,"style",d),_a(f,a.precedence,t),i.instance=f;case"stylesheet":d=ml(a.href);var y=t.querySelector(mo(d));if(y)return i.state.loading|=4,i.instance=y,ft(y),y;f=am(a),(d=en.get(d))&&js(f,d),y=(t.ownerDocument||t).createElement("link"),ft(y);var x=y;return x._p=new Promise(function(M,I){x.onload=M,x.onerror=I}),vt(y,"link",f),i.state.loading|=4,_a(y,a.precedence,t),i.instance=y;case"script":return y=hl(a.src),(d=t.querySelector(ho(y)))?(i.instance=d,ft(d),d):(f=a,(d=en.get(y))&&(f=g({},a),eu(f,d)),t=t.ownerDocument||t,d=t.createElement("script"),ft(d),vt(d,"link",f),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(f=i.instance,i.state.loading|=4,_a(f,a.precedence,t));return i.instance}function _a(t,i,a){for(var f=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=f.length?f[f.length-1]:null,y=d,x=0;x<f.length;x++){var M=f[x];if(M.dataset.precedence===i)y=M;else if(y!==d)break}y?y.parentNode.insertBefore(t,y.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function js(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function eu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Ma=null;function sm(t,i,a){if(Ma===null){var f=new Map,d=Ma=new Map;d.set(a,f)}else d=Ma,f=d.get(a),f||(f=new Map,d.set(a,f));if(f.has(t))return f;for(f.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var y=a[d];if(!(y[Ml]||y[Tt]||t==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var x=y.getAttribute(i)||"";x=t+x;var M=f.get(x);M?M.push(y):f.set(x,[y])}}return f}function um(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function P0(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function fm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var po=null;function H0(){}function z0(t,i,a){if(po===null)throw Error(o(475));var f=po;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=ml(a.href),y=t.querySelector(mo(d));if(y){t=y._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(f.count++,f=ba.bind(f),t.then(f,f)),i.state.loading|=4,i.instance=y,ft(y);return}y=t.ownerDocument||t,a=am(a),(d=en.get(d))&&js(a,d),y=y.createElement("link"),ft(y);var x=y;x._p=new Promise(function(M,I){x.onload=M,x.onerror=I}),vt(y,"link",a),i.instance=y}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(f.count++,i=ba.bind(f),t.addEventListener("load",i),t.addEventListener("error",i))}}function F0(){if(po===null)throw Error(o(475));var t=po;return t.stylesheets&&t.count===0&&tu(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&tu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function ba(){if(this.count--,this.count===0){if(this.stylesheets)tu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wa=null;function tu(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wa=new Map,i.forEach(O0,t),wa=null,ba.call(t))}function O0(t,i){if(!(i.state.loading&4)){var a=wa.get(t);if(a)var f=a.get(null);else{a=new Map,wa.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<d.length;y++){var x=d[y];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),f=x)}f&&a.set(null,f)}d=i.instance,x=d.getAttribute("data-precedence"),y=a.get(x)||f,y===f&&a.set(null,d),a.set(x,d),this.count++,f=ba.bind(this),d.addEventListener("load",f),d.addEventListener("error",f),y?y.parentNode.insertBefore(d,y.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var go={$$typeof:O,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function Y0(t,i,a,f,d,y,x,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_l(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_l(0),this.hiddenUpdates=_l(null),this.identifierPrefix=f,this.onUncaughtError=d,this.onCaughtError=y,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function cm(t,i,a,f,d,y,x,M,I,j,re,ue){return t=new Y0(t,i,a,x,M,I,j,ue),i=1,y===!0&&(i|=24),y=Pt(3,null,null,i),t.current=y,y.stateNode=t,i=Vr(),i.refCount++,t.pooledCache=i,i.refCount++,y.memoizedState={element:f,isDehydrated:a,cache:i},Pr(y),t}function dm(t){return t?(t=Yi,t):Yi}function mm(t,i,a,f,d,y){d=dm(d),f.context===null?f.context=d:f.pendingContext=d,f=Fn(i),f.payload={element:a},y=y===void 0?null:y,y!==null&&(f.callback=y),a=On(t,f,i),a!==null&&(Yt(a,t,i),Yl(a,t,i))}function hm(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function nu(t,i){hm(t,i),(t=t.alternate)&&hm(t,i)}function pm(t){if(t.tag===13){var i=Oi(t,67108864);i!==null&&Yt(i,t,67108864),nu(t,67108864)}}var Ra=!0;function J0(t,i,a,f){var d=E.T;E.T=null;var y=_.p;try{_.p=2,iu(t,i,a,f)}finally{_.p=y,E.T=d}}function K0(t,i,a,f){var d=E.T;E.T=null;var y=_.p;try{_.p=8,iu(t,i,a,f)}finally{_.p=y,E.T=d}}function iu(t,i,a,f){if(Ra){var d=lu(f);if(d===null)Os(t,i,f,Na,a),ym(t,f);else if(X0(d,t,i,a,f))f.stopPropagation();else if(ym(t,f),i&4&&-1<Q0.indexOf(t)){for(;d!==null;){var y=Ui(d);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var x=Mt(y.pendingLanes);if(x!==0){var M=y;for(M.pendingLanes|=2,M.entangledLanes|=2;x;){var I=1<<31-je(x);M.entanglements[1]|=I,x&=~I}pn(y),(Ie&6)===0&&(ma=_e()+500,so(0))}}break;case 13:M=Oi(y,2),M!==null&&Yt(M,y,2),pa(),nu(y,2)}if(y=lu(f),y===null&&Os(t,i,f,Na,a),y===d)break;d=y}d!==null&&f.stopPropagation()}else Os(t,i,f,null,a)}}function lu(t){return t=ur(t),ou(t)}var Na=null;function ou(t){if(Na=null,t=Di(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Na=t,null}function gm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pe()){case it:return 2;case st:return 8;case Ye:case Et:return 32;case Xe:return 268435456;default:return 32}default:return 32}}var au=!1,ii=null,li=null,oi=null,yo=new Map,vo=new Map,ai=[],Q0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ym(t,i){switch(t){case"focusin":case"focusout":ii=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":yo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vo.delete(i.pointerId)}}function To(t,i,a,f,d,y){return t===null||t.nativeEvent!==y?(t={blockedOn:i,domEventName:a,eventSystemFlags:f,nativeEvent:y,targetContainers:[d]},i!==null&&(i=Ui(i),i!==null&&pm(i)),t):(t.eventSystemFlags|=f,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function X0(t,i,a,f,d){switch(i){case"focusin":return ii=To(ii,t,i,a,f,d),!0;case"dragenter":return li=To(li,t,i,a,f,d),!0;case"mouseover":return oi=To(oi,t,i,a,f,d),!0;case"pointerover":var y=d.pointerId;return yo.set(y,To(yo.get(y)||null,t,i,a,f,d)),!0;case"gotpointercapture":return y=d.pointerId,vo.set(y,To(vo.get(y)||null,t,i,a,f,d)),!0}return!1}function vm(t){var i=Di(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=m(a),i!==null){t.blockedOn=i,zp(t.priority,function(){if(a.tag===13){var f=Ot();f=Ri(f);var d=Oi(a,f);d!==null&&Yt(d,a,f),nu(a,f)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Da(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=lu(t.nativeEvent);if(a===null){a=t.nativeEvent;var f=new a.constructor(a.type,a);sr=f,a.target.dispatchEvent(f),sr=null}else return i=Ui(a),i!==null&&pm(i),t.blockedOn=a,!1;i.shift()}return!0}function Tm(t,i,a){Da(t)&&a.delete(i)}function Z0(){au=!1,ii!==null&&Da(ii)&&(ii=null),li!==null&&Da(li)&&(li=null),oi!==null&&Da(oi)&&(oi=null),yo.forEach(Tm),vo.forEach(Tm)}function Ua(t,i){t.blockedOn===i&&(t.blockedOn=null,au||(au=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Z0)))}var ka=null;function Cm(t){ka!==t&&(ka=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ka===t&&(ka=null);for(var i=0;i<t.length;i+=3){var a=t[i],f=t[i+1],d=t[i+2];if(typeof f!="function"){if(ou(f||a)===null)continue;break}var y=Ui(a);y!==null&&(t.splice(i,3),i-=3,os(y,{pending:!0,data:d,method:a.method,action:f},f,d))}}))}function Co(t){function i(I){return Ua(I,t)}ii!==null&&Ua(ii,t),li!==null&&Ua(li,t),oi!==null&&Ua(oi,t),yo.forEach(i),vo.forEach(i);for(var a=0;a<ai.length;a++){var f=ai[a];f.blockedOn===t&&(f.blockedOn=null)}for(;0<ai.length&&(a=ai[0],a.blockedOn===null);)vm(a),a.blockedOn===null&&ai.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(f=0;f<a.length;f+=3){var d=a[f],y=a[f+1],x=d[Ut]||null;if(typeof y=="function")x||Cm(a);else if(x){var M=null;if(y&&y.hasAttribute("formAction")){if(d=y,x=y[Ut]||null)M=x.formAction;else if(ou(d)!==null)continue}else M=x.action;typeof M=="function"?a[f+1]=M:(a.splice(f,3),f-=3),Cm(a)}}}function ru(t){this._internalRoot=t}Ia.prototype.render=ru.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(o(409));var a=i.current,f=Ot();mm(a,f,t,i,null,null)},Ia.prototype.unmount=ru.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;mm(t.current,2,null,t,null,null),pa(),i[Ni]=null}};function Ia(t){this._internalRoot=t}Ia.prototype.unstable_scheduleHydration=function(t){if(t){var i=fn();t={blockedOn:null,target:t,priority:i};for(var a=0;a<ai.length&&i!==0&&i<ai[a].priority;a++);ai.splice(a,0,t),a===0&&vm(t)}};var xm=e.version;if(xm!=="19.1.0")throw Error(o(527,xm,"19.1.0"));_.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=v(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var $0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:E,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var La=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!La.isDisabled&&La.supportsFiber)try{wt=La.inject($0),ut=La}catch{}}return So.createRoot=function(t,i){if(!r(t))throw Error(o(299));var a=!1,f="",d=Gc,y=qc,x=Bc,M=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(x=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(M=i.unstable_transitionCallbacks)),i=cm(t,1,!1,null,null,a,f,d,y,x,M,null),t[Ni]=i.current,Fs(t),new ru(i)},So.hydrateRoot=function(t,i,a){if(!r(t))throw Error(o(299));var f=!1,d="",y=Gc,x=qc,M=Bc,I=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(M=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),i=cm(t,1,!0,i,a??null,f,d,y,x,M,I,j),i.context=dm(null),a=i.current,f=Ot(),f=Ri(f),d=Fn(f),d.callback=null,On(a,d,f),a=f,i.current.lanes=a,Dt(i,a),pn(i),t[Ni]=i.current,Fs(t),new Ia(i)},So.version="19.1.0",So}var Dm;function sy(){if(Dm)return fu.exports;Dm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),fu.exports=ry(),fu.exports}var uy=sy();const fy=$h(uy),cy=()=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-12 w-12 text-slate-400 dark:text-slate-500 group-hover:text-blue-500 dark:group-hover:text-blue-400 mb-4 transition-all duration-300 group-hover:scale-110",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:[A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0l-3.75 3.75M12 9.75l3.75 3.75"}),A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 12a9 9 0 1118 0 9 9 0 01-18 0z"})]}),dy=({onImageUpload:n})=>{const e=Ne.useRef(null),[l,o]=Ne.useState(!1),r=g=>{const T=g.target.files;T&&T.length>0&&n(T),g.target&&(g.target.value="")},c=()=>{var g;(g=e.current)==null||g.click()},m=g=>{g.preventDefault(),o(!0)},h=g=>{g.preventDefault(),o(!1)},v=g=>{g.preventDefault(),o(!1);const T=g.dataTransfer.files;T&&T.length>0&&n(T)},p=l?"opacity-100":"opacity-40 group-hover:opacity-100";return A.jsxs("div",{className:"w-full",children:[A.jsx("label",{htmlFor:"file-upload-interactive",className:"text-lg font-semibold text-slate-700 dark:text-slate-300 mb-3 block",children:"Unggah Gambar"}),A.jsxs("div",{onClick:c,onDragOver:m,onDragLeave:h,onDrop:v,className:"group relative rounded-xl p-px cursor-pointer bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 transition-all duration-300 hover:shadow-xl hover:shadow-purple-500/20",style:{transform:"translateZ(0)"},children:[A.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl transition-opacity duration-300 ${p}`}),A.jsxs("div",{className:"relative h-48 w-full rounded-[11px] bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm flex flex-col items-center justify-center",children:[A.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3csvg%20xmlns%3d%22http%3a%2f%2fwww.w3.org%2f2000%2fsvg%22%20viewBox%3d%220%200%2032%2032%22%20width%3d%2232%22%20height%3d%2232%22%20fill%3d%22none%22%20stroke%3d%22rgb(203%20213%20225%20%2f%200.5)%22%3e%3cpath%20d%3d%22M0%20.5H31.5V32%22%2f%3e%3c%2fsvg%3e')] dark:bg-[url('data:image/svg+xml,%3csvg%20xmlns%3d%22http%3a%2f%2fwww.w3.org%2f2000%2fsvg%22%20viewBox%3d%220%200%2032%2032%22%20width%3d%2232%22%20height%3d%2232%22%20fill%3d%22none%22%20stroke%3d%22rgb(30%2041%2059%20%2f%200.5)%22%3e%3cpath%20d%3d%22M0%20.5H31.5V32%22%2f%3e%3c%2fsvg%3e')] opacity-50 dark:opacity-30"}),A.jsxs("div",{className:"relative z-10 text-center transition-transform duration-300 group-hover:scale-105",children:[A.jsx(cy,{}),A.jsxs("p",{className:"text-slate-500 dark:text-slate-400 group-hover:text-slate-600 dark:group-hover:text-slate-300 transition-colors",children:[A.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:"Pilih file"})," atau seret ke sini"]}),A.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-1",children:"Unggah satu atau beberapa gambar"})]})]}),A.jsx("input",{id:"file-upload-interactive",ref:e,type:"file",className:"hidden",accept:"image/png, image/jpeg, image/webp",onChange:r,multiple:!0})]})]})},my=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),hy=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),Um=({textToCopy:n,className:e=""})=>{const[l,o]=Ne.useState(!1),r=c=>{c.stopPropagation(),navigator.clipboard.writeText(n).then(()=>{o(!0),setTimeout(()=>o(!1),2e3)})};return A.jsxs("button",{onClick:r,"aria-label":l?"Teks disalin":"Salin teks",className:`flex items-center space-x-1.5 px-2 py-1 rounded-md text-xs font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-slate-800 ${l?"bg-green-100 dark:bg-green-500/20 text-green-700 dark:text-green-300":"bg-slate-200 dark:bg-slate-700/80 hover:bg-slate-300 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"} ${e}`,children:[l?A.jsx(hy,{}):A.jsx(my,{}),A.jsx("span",{className:"pr-1",children:l?"Disalin":"Salin"})]})},Wh=()=>A.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),py=()=>A.jsxs("div",{className:"absolute inset-0 bg-white/70 dark:bg-slate-900/70 backdrop-blur-md flex flex-col items-center justify-center z-10 animate-pulse",children:[A.jsx(Wh,{}),A.jsx("p",{className:"mt-3 text-slate-600 dark:text-slate-300 font-medium",children:"Menganalisis gambar..."})]}),gy=({message:n})=>A.jsxs("div",{className:"flex items-start space-x-3 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-500/30 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg",children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 flex-shrink-0 text-red-500 dark:text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:A.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.21 3.03-1.742 3.03H4.42c-1.532 0-2.492-1.696-1.742-3.03l5.58-9.92zM10 13a1 1 0 110-2 1 1 0 010 2zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),A.jsxs("div",{children:[A.jsx("p",{className:"font-bold text-red-800 dark:text-red-200",children:"Gagal Menghasilkan"}),A.jsx("p",{className:"text-sm mt-1 text-red-600 dark:text-red-300/80",children:n})]})]}),yy=({item:n})=>{var l;const e=((l=n.content)==null?void 0:l.keywords.join(", "))||"";return A.jsxs("div",{className:"bg-white dark:bg-slate-800/60 rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700/80 transition-all duration-300 dark:hover:border-blue-500/50 hover:shadow-lg dark:hover:shadow-2xl dark:hover:shadow-blue-600/10 group relative animate-fade-in",children:[n.isLoading&&A.jsx(py,{}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-x-4 gap-y-4 p-4",children:[A.jsx("div",{className:"md:col-span-3",children:A.jsx("img",{src:n.imageUrl,alt:n.file.name,className:"w-full h-full object-cover rounded-lg aspect-square shadow-sm dark:shadow-md group-hover:scale-105 transition-transform duration-300"})}),A.jsxs("div",{className:"md:col-span-9 flex flex-col space-y-4",children:[n.error&&A.jsx(gy,{message:n.error}),n.content&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"space-y-1.5",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:"Judul"}),A.jsx(Um,{textToCopy:n.content.title})]}),A.jsx("div",{className:"bg-slate-100 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700/50 p-2.5 rounded-md",children:A.jsx("p",{className:"text-slate-700 dark:text-slate-200 text-sm font-medium leading-relaxed",children:n.content.title})})]}),A.jsxs("div",{className:"space-y-1.5",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("label",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:["Kata Kunci (",n.content.keywords.length,")"]}),A.jsx(Um,{textToCopy:e})]}),A.jsx("div",{className:"bg-slate-100 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700/50 p-2.5 rounded-md max-h-32 overflow-y-auto",children:A.jsx("div",{className:"flex flex-wrap gap-1.5",children:n.content.keywords.map((o,r)=>A.jsx("span",{className:"bg-sky-100/70 dark:bg-slate-700/50 text-sky-800 dark:text-sky-300 text-xs font-medium px-2 py-1 rounded-md border border-sky-200 dark:border-slate-600 hover:bg-sky-200/70 dark:hover:bg-slate-700 dark:hover:border-sky-400/50 transition-colors cursor-default",children:o},r))})})]})]})]})]})]})},vy=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),Ty=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),jh=({theme:n,toggleTheme:e})=>A.jsx("button",{onClick:e,className:"p-2 rounded-full text-slate-500 dark:text-slate-400 hover:text-blue-500 dark:hover:text-yellow-400 hover:bg-slate-200 dark:hover:bg-slate-700 transition-all duration-200","aria-label":`Switch to ${n==="light"?"dark":"light"} mode`,children:n==="light"?A.jsx(Ty,{}):A.jsx(vy,{})}),Cy=()=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),xy=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),Sy=({theme:n,toggleTheme:e,onOpenSettingsModal:l,onOpenHistoryModal:o,onGoHome:r})=>A.jsx("header",{className:"fixed top-0 left-0 right-0 z-20 bg-white/80 dark:bg-slate-900/80 backdrop-blur-lg border-b border-slate-200 dark:border-slate-700/50 transition-colors duration-300",children:A.jsx("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:A.jsxs("div",{className:"flex items-center justify-between h-20",children:[A.jsxs("button",{onClick:r,className:"flex items-center space-x-2 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 rounded-lg p-1 -ml-1","aria-label":"Go to homepage",children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-500 dark:text-blue-400",viewBox:"0 0 24 24",fill:"currentColor",children:A.jsx("path",{d:"M11.25,4.5A6.75,6.75,0,0,0,4.5,11.25v8.5A1.25,1.25,0,0,0,6,21a1.2,1.2,0,0,0,.5-.11l5.5-2.5a.75.75,0,0,1,.69,0l5.5,2.5a1.2,1.2,0,0,0,.5.11,1.25,1.25,0,0,0,1.25-1.25v-8.5A6.75,6.75,0,0,0,12.75,4.5Zm0,1.5a5.25,5.25,0,0,1,5.25,5.25v7.61l-4.66-2.12a2.25,2.25,0,0,0,-2.08,0L5.1,18.86V11.25A5.25,5.25,0,0,1,10.35,6Z",transform:"translate(-1.5 -1.5)"})}),A.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-800 dark:text-slate-100 tracking-tight",children:"AI Microstock Pro"})]}),A.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[A.jsx(jh,{theme:n,toggleTheme:e}),A.jsx("button",{onClick:o,className:"p-2 rounded-full text-slate-500 dark:text-slate-400 hover:text-blue-500 dark:hover:text-blue-400 hover:bg-slate-200 dark:hover:bg-slate-700 transition-all duration-200","aria-label":"Lihat Riwayat Generasi",children:A.jsx(xy,{})}),A.jsx("button",{onClick:l,className:"p-2 rounded-full text-slate-500 dark:text-slate-400 hover:text-blue-500 dark:hover:text-blue-400 hover:bg-slate-200 dark:hover:bg-slate-700 transition-all duration-200","aria-label":"Pengaturan",children:A.jsx(Cy,{})})]})]})})}),Ey=({delay:n,setDelay:e})=>{const l=o=>{const r=o.target.valueAsNumber;!isNaN(r)&&r>=0?e(r):o.target.value===""&&e(0)};return A.jsx("div",{className:"w-full animate-fade-in",children:A.jsxs("fieldset",{children:[A.jsx("legend",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300 mb-3 block",children:"Delay Antar Permintaan"}),A.jsxs("div",{className:"relative",children:[A.jsx("input",{type:"number",id:"delay-input",value:n,onChange:l,min:"0",step:"0.5","aria-describedby":"delay-description",className:"w-full px-4 py-3 pr-20 bg-white/50 dark:bg-slate-800/50 border-2 border-slate-300 dark:border-slate-700 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-slate-900 focus:ring-blue-500 focus:border-blue-500 text-slate-900 dark:text-slate-100 transition"}),A.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-5 text-slate-500 dark:text-slate-400 pointer-events-none",children:"detik"})]}),A.jsx("p",{id:"delay-description",className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:"Jeda antar permintaan untuk menghindari batas tarif API saat memproses banyak gambar."})]})})},Ay="ai-microstock-pro-db",_y=2,yn="history";let Va=null;const Xa=()=>new Promise((n,e)=>{if(Va)return n(Va);const l=indexedDB.open(Ay,_y);l.onupgradeneeded=o=>{const r=o.target.result;r.objectStoreNames.contains(yn)||r.createObjectStore(yn,{keyPath:"id",autoIncrement:!0})},l.onsuccess=o=>{Va=o.target.result,n(Va)},l.onerror=o=>{console.error("Kesalahan database IndexedDB:",o.target.error),e("Kesalahan saat membuka DB")}}),km=async(n,e=!1)=>{const l=await Xa();return e?n:new Promise((o,r)=>{const h=l.transaction([yn],"readwrite").objectStore(yn).add(n);h.onsuccess=v=>{const p=v.target.result;o({...n,id:p})},h.onerror=()=>{console.error("Gagal menambahkan entri riwayat:",h.error),r("Gagal menambahkan entri riwayat")}})},My=async()=>{const n=await Xa();return new Promise((e,l)=>{const c=n.transaction([yn],"readonly").objectStore(yn).getAll();c.onsuccess=()=>{e(c.result)},c.onerror=()=>{console.error("Gagal mengambil riwayat:",c.error),l("Gagal mengambil riwayat")}})},by=async()=>{const n=await Xa();return new Promise((e,l)=>{const c=n.transaction([yn],"readwrite").objectStore(yn).clear();c.onsuccess=()=>{e()},c.onerror=()=>{console.error("Gagal membersihkan riwayat:",c.error),l("Gagal membersihkan riwayat")}})},wy=async()=>{const n=await Xa();return new Promise((e,l)=>{const c=n.transaction([yn],"readonly").objectStore(yn).getAll();c.onsuccess=()=>{try{const m=new Blob([JSON.stringify(c.result)]).size;e(m)}catch(m){console.error("Gagal menghitung ukuran database:",m);const h=JSON.stringify(c.result).length;e(h)}},c.onerror=()=>{console.error("Gagal mengambil riwayat untuk perhitungan ukuran:",c.error),l("Gagal mengambil riwayat untuk perhitungan ukuran")}})},Ry=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H5v-2H3v-2H1.258a1 1 0 01-.97-1.243l1.263-6.318a1 1 0 01.97-1.242H6M15 7a2 2 0 00-2-2M15 7h3a2 2 0 012 2"})}),Ny=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),Dy=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4M4 7a8.008 8.008 0 0016 0"})}),Uy=({isOpen:n,onClose:e,onSaveApiKey:l,currentApiKey:o,delay:r,setDelay:c,onClearHistory:m})=>{const[h,v]=Ne.useState("api"),[p,g]=Ne.useState(""),[T,C]=Ne.useState(null),S=(U,J=2)=>{if(!U||U===0)return"0 Bytes";const O=1024,P=J<0?0:J,H=["Bytes","KB","MB","GB","TB"],k=Math.floor(Math.log(U)/Math.log(O));return parseFloat((U/Math.pow(O,k)).toFixed(P))+" "+H[k]};Ne.useEffect(()=>{const U=J=>{J.key==="Escape"&&e()};return n?(g(o||""),window.addEventListener("keydown",U)):v("api"),()=>{window.removeEventListener("keydown",U)}},[n,e,o]),Ne.useEffect(()=>{n&&h==="database"&&(async()=>{C("Menghitung...");try{const J=await wy();C(S(J))}catch(J){console.error("Gagal mengambil ukuran DB:",J),C("Gagal dihitung")}})()},[n,h]);const b=()=>{p.trim()&&l(p.trim())},D=()=>{confirm("Apakah Anda yakin ingin menghapus semua riwayat? Tindakan ini akan menghapus semua data secara permanen dan tidak dapat diurungkan.")&&m()};if(!n)return null;const L=({tab:U,label:J,icon:O})=>A.jsxs("button",{onClick:()=>v(U),className:`flex items-center w-full px-4 py-3 text-sm font-semibold rounded-lg transition-colors duration-200 ${h===U?"bg-blue-100 dark:bg-blue-500/20 text-blue-700 dark:text-blue-300":"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700/50"}`,children:[O,J]});return A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/80 backdrop-blur-sm animate-fade-in",onClick:e,"aria-modal":"true",role:"dialog",children:A.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-3xl m-4 border border-slate-200 dark:border-slate-700 flex overflow-hidden",style:{height:"auto",minHeight:"450px"},onClick:U=>U.stopPropagation(),children:[A.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-800 dark:text-slate-500 dark:hover:text-white transition-colors z-20","aria-label":"Tutup modal",children:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),A.jsxs("aside",{className:"w-1/3 md:w-1/4 bg-slate-50 dark:bg-slate-900/50 p-6 border-r border-slate-200 dark:border-slate-700/50",children:[A.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:"Pengaturan"}),A.jsxs("nav",{className:"space-y-2",children:[A.jsx(L,{tab:"api",label:"Kunci API",icon:A.jsx(Ry,{})}),A.jsx(L,{tab:"general",label:"Umum",icon:A.jsx(Ny,{})}),A.jsx(L,{tab:"database",label:"Database",icon:A.jsx(Dy,{})})]})]}),A.jsxs("main",{className:"w-2/3 md:w-3/4 p-8 overflow-y-auto",children:[h==="api"&&A.jsxs("div",{className:"animate-fade-in",children:[A.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Atur Kunci API Gemini"}),A.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Kunci API Anda disimpan dengan aman di peramban Anda dan tidak pernah dibagikan."}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{htmlFor:"apiKeyInput",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Kunci API"}),A.jsx("input",{id:"apiKeyInput",type:"password",value:p,onChange:U=>g(U.target.value),placeholder:"Masukkan kunci API Gemini Anda",className:"w-full px-3 py-2 bg-white dark:bg-slate-900 border border-slate-300 dark:border-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-slate-900 dark:text-slate-100"}),A.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:["Anda bisa mendapatkan kunci API dari ",A.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"Google AI Studio"}),"."]})]}),A.jsx("button",{onClick:b,disabled:!p.trim(),className:"w-full sm:w-auto mt-6 bg-blue-600 text-white font-bold py-2.5 px-6 rounded-lg hover:bg-blue-500 disabled:bg-slate-400 dark:disabled:bg-slate-600 disabled:cursor-not-allowed transition-all duration-300 flex items-center justify-center text-base shadow-lg shadow-blue-500/30 disabled:shadow-none",children:"Simpan Kunci API"})]}),h==="general"&&A.jsxs("div",{className:"animate-fade-in",children:[A.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Pengaturan Umum"}),A.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Sesuaikan perilaku aplikasi."}),A.jsx(Ey,{delay:r,setDelay:c})]}),h==="database"&&A.jsxs("div",{className:"animate-fade-in",children:[A.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Manajemen Database"}),A.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Lihat penggunaan penyimpanan dan kelola data aplikasi Anda."}),A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-lg border border-slate-200 dark:border-slate-700",children:[A.jsx("h4",{className:"font-semibold text-slate-700 dark:text-slate-200",children:"Perkiraan Ukuran Database"}),A.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 mt-2 h-8",children:T??"..."}),A.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Ukuran ini adalah perkiraan dari data riwayat yang disimpan di peramban Anda."})]}),A.jsxs("div",{className:"p-4 rounded-lg border border-red-500/30 bg-red-50 dark:bg-red-500/10",children:[A.jsx("h4",{className:"font-semibold text-red-800 dark:text-red-200",children:"Zona Berbahaya"}),A.jsx("p",{className:"text-sm text-red-700 dark:text-red-300/80 mt-1 mb-4",children:"Tindakan ini akan menghapus semua riwayat generasi secara permanen. Tindakan ini tidak dapat diurungkan."}),A.jsx("button",{onClick:D,className:"px-4 py-2 text-sm font-bold text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-red-50 dark:focus-visible:ring-offset-slate-800 focus-visible:ring-red-500",children:"Hapus Semua Data Riwayat"})]})]})]})]})]})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ky,Iy;function Ly(){return{geminiUrl:ky,vertexUrl:Iy}}function Vy(n,e,l){var o,r,c;if(!(!((o=n.httpOptions)===null||o===void 0)&&o.baseUrl)){const m=Ly();return n.vertexai?(r=m.vertexUrl)!==null&&r!==void 0?r:e:(c=m.geminiUrl)!==null&&c!==void 0?c:l}return n.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wi{}function he(n,e){const l=/\{([^}]+)\}/g;return n.replace(l,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const c=e[r];return c!=null?String(c):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function u(n,e,l){for(let c=0;c<e.length-1;c++){const m=e[c];if(m.endsWith("[]")){const h=m.slice(0,-2);if(!(h in n))if(Array.isArray(l))n[h]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(n[h])){const v=n[h];if(Array.isArray(l))for(let p=0;p<v.length;p++){const g=v[p];u(g,e.slice(c+1),l[p])}else for(const p of v)u(p,e.slice(c+1),l)}return}else if(m.endsWith("[0]")){const h=m.slice(0,-3);h in n||(n[h]=[{}]);const v=n[h];u(v[0],e.slice(c+1),l);return}(!n[m]||typeof n[m]!="object")&&(n[m]={}),n=n[m]}const o=e[e.length-1],r=n[o];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else n[o]=l}function s(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let l=0;l<e.length;l++){if(typeof n!="object"||n===null)return;const o=e[l];if(o.endsWith("[]")){const r=o.slice(0,-2);if(r in n){const c=n[r];return Array.isArray(c)?c.map(m=>s(m,e.slice(l+1))):void 0}else return}else n=n[o]}return n}catch(l){if(l instanceof TypeError)return;throw l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Im;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Im||(Im={}));var Lm;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Lm||(Lm={}));var tn;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(tn||(tn={}));var Vm;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Vm||(Vm={}));var Gm;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Gm||(Gm={}));var qm;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(qm||(qm={}));var Bm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Bm||(Bm={}));var Pm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Pm||(Pm={}));var Hm;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Hm||(Hm={}));var zm;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(zm||(zm={}));var Fm;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(Fm||(Fm={}));var Om;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Om||(Om={}));var Ym;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Ym||(Ym={}));var Jm;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Jm||(Jm={}));var Km;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})(Km||(Km={}));var Qm;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Qm||(Qm={}));var Fa;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Fa||(Fa={}));var Xm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Xm||(Xm={}));var yu;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(yu||(yu={}));var Zm;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Zm||(Zm={}));var $m;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})($m||($m={}));var Wm;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Wm||(Wm={}));var jm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(jm||(jm={}));var eh;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(eh||(eh={}));var th;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(th||(th={}));var nh;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(nh||(nh={}));var ih;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(ih||(ih={}));var lh;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(lh||(lh={}));var oh;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(oh||(oh={}));var ah;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ah||(ah={}));var rh;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(rh||(rh={}));var sh;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(sh||(sh={}));var uh;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(uh||(uh={}));var fh;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(fh||(fh={}));var ch;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(ch||(ch={}));var dh;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(dh||(dh={}));var mh;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(mh||(mh={}));var hh;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(hh||(hh={}));var ph;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ph||(ph={}));var gh;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(gh||(gh={}));var yh;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(yh||(yh={}));var pl;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(pl||(pl={}));class vu{constructor(e){const l={};for(const o of e.headers.entries())l[o[0]]=o[1];this.headers=l,this.responseInternal=e}json(){return this.responseInternal.json()}}class Eo{get text(){var e,l,o,r,c,m,h,v;if(((r=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",g=!1;const T=[];for(const C of(v=(h=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)!==null&&v!==void 0?v:[]){for(const[S,b]of Object.entries(C))S!=="text"&&S!=="thought"&&(b!==null||b!==void 0)&&T.push(S);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;g=!0,p+=C.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),g?p:void 0}get data(){var e,l,o,r,c,m,h,v;if(((r=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const g=[];for(const T of(v=(h=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)!==null&&v!==void 0?v:[]){for(const[C,S]of Object.entries(T))C!=="inlineData"&&(S!==null||S!==void 0)&&g.push(C);T.inlineData&&typeof T.inlineData.data=="string"&&(p+=atob(T.inlineData.data))}return g.length>0&&console.warn(`there are non-data parts ${g} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,l,o,r,c,m,h,v;if(((r=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(v=(h=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)===null||v===void 0?void 0:v.filter(g=>g.functionCall).map(g=>g.functionCall).filter(g=>g!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,l,o,r,c,m,h,v,p;if(((r=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const g=(v=(h=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)===null||v===void 0?void 0:v.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((g==null?void 0:g.length)!==0)return(p=g==null?void 0:g[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,l,o,r,c,m,h,v,p;if(((r=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const g=(v=(h=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)===null||v===void 0?void 0:v.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((g==null?void 0:g.length)!==0)return(p=g==null?void 0:g[0])===null||p===void 0?void 0:p.output}}class vh{}class Th{}class Gy{}class qy{}class Ch{}class xh{}class Sh{}class By{}class Eh{}class Ah{}class _h{}class Py{}class Hy{}class zy{}class Mh{}class Fy{get text(){var e,l,o;let r="",c=!1;const m=[];for(const h of(o=(l=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&o!==void 0?o:[]){for(const[v,p]of Object.entries(h))v!=="text"&&v!=="thought"&&p!==null&&m.push(v);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,r+=h.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?r:void 0}get data(){var e,l,o;let r="";const c=[];for(const m of(o=(l=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&o!==void 0?o:[]){for(const[h,v]of Object.entries(m))h!=="inlineData"&&v!==null&&c.push(h);m.inlineData&&typeof m.inlineData.data=="string"&&(r+=atob(m.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Oy{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ve(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const l=e.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function ep(n,e){const l=Ve(n,e);return l?l.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${l}`:l.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${l}`:l:""}function tp(n){return Array.isArray(n)?n.map(e=>Oa(e)):[Oa(n)]}function Oa(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function np(n){const e=Oa(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ip(n){const e=Oa(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function bh(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function lp(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>bh(e)):[bh(n)]}function Tu(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function wh(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Rh(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function St(n){if(n==null)throw new Error("ContentUnion is required");return Tu(n)?n:{role:"user",parts:lp(n)}}function op(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(l=>{const o=St(l);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(n.isVertexAI()){const l=St(e);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(e)?e.map(l=>St(l)):[St(e)]}function nn(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(wh(n)||Rh(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[St(n)]}const e=[],l=[],o=Tu(n[0]);for(const r of n){const c=Tu(r);if(c!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)e.push(r);else{if(wh(r)||Rh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return o||e.push({role:"user",parts:lp(l)}),e}function Yy(n,e){n.includes("null")&&(e.nullable=!0);const l=n.filter(o=>o!=="null");if(l.length===1)e.type=Object.values(tn).includes(l[0].toUpperCase())?l[0].toUpperCase():tn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of l)e.anyOf.push({type:Object.values(tn).includes(o.toUpperCase())?o.toUpperCase():tn.TYPE_UNSPECIFIED})}}function yl(n){const e={},l=["items"],o=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=n.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(e.nullable=!0,n=c[1]):c[1].type==="null"&&(e.nullable=!0,n=c[0])),n.type instanceof Array&&Yy(n.type,e);for(const[m,h]of Object.entries(n))if(h!=null)if(m=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(tn).includes(h.toUpperCase())?h.toUpperCase():tn.TYPE_UNSPECIFIED}else if(l.includes(m))e[m]=yl(h);else if(o.includes(m)){const v=[];for(const p of h){if(p.type=="null"){e.nullable=!0;continue}v.push(yl(p))}e[m]=v}else if(r.includes(m)){const v={};for(const[p,g]of Object.entries(h))v[p]=yl(g);e[m]=v}else{if(m==="additionalProperties")continue;e[m]=h}return e}function Ru(n){return yl(n)}function Nu(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Du(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Tl(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=yl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=yl(e.response));return n}function Cl(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const l of n)e.push(l);return e}function Jy(n,e,l,o=1){const r=!e.startsWith(`${l}/`)&&e.split("/").length===o;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${l}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${l}/${e}`:e:r?`${l}/${e}`:e}function In(n,e){if(typeof e!="string")throw new Error("name must be a string");return Jy(n,e,"cachedContents")}function ap(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Ln(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}function Ky(n){return n!=null&&typeof n=="object"&&"name"in n}function Qy(n){return n!=null&&typeof n=="object"&&"video"in n}function Xy(n){return n!=null&&typeof n=="object"&&"uri"in n}function rp(n){var e;let l;if(Ky(n)&&(l=n.name),!(Xy(n)&&(l=n.uri,l===void 0))&&!(Qy(n)&&(l=(e=n.video)===null||e===void 0?void 0:e.uri,l===void 0))){if(typeof n=="string"&&(l=n),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function sp(n,e){let l;return n.isVertexAI()?l=e?"publishers/google/models":"models":l=e?"models":"tunedModels",l}function up(n){for(const e of["models","tunedModels","publisherModels"])if(Zy(n,e))return n[e];return[]}function Zy(n,e){return n!==null&&typeof n=="object"&&e in n}function $y(n,e={}){const l=n,o={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function Wy(n,e={}){const l=[],o=new Set;for(const r of n){const c=r.name;if(o.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);o.add(c);const m=$y(r,e);m.functionDeclarations&&l.push(...m.functionDeclarations)}return{functionDeclarations:l}}function fp(n,e){if(typeof e!="string"&&!Array.isArray(e)){if(n&&n.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function jy(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function xl(n,e){const l=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function cp(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ev(n){const e={},l=s(n,["fps"]);l!=null&&u(e,["fps"],l);const o=s(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const r=s(n,["startOffset"]);return r!=null&&u(e,["startOffset"],r),e}function tv(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["data"]);l!=null&&u(e,["data"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function nv(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function iv(n){const e={},l=s(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],ev(l));const o=s(n,["thought"]);o!=null&&u(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&u(e,["inlineData"],tv(r));const c=s(n,["fileData"]);c!=null&&u(e,["fileData"],nv(c));const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=s(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const v=s(n,["executableCode"]);v!=null&&u(e,["executableCode"],v);const p=s(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const g=s(n,["functionResponse"]);g!=null&&u(e,["functionResponse"],g);const T=s(n,["text"]);return T!=null&&u(e,["text"],T),e}function dp(n){const e={},l=s(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>iv(c))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function lv(n){const e={},l=s(n,["anyOf"]);l!=null&&u(e,["anyOf"],l);const o=s(n,["default"]);o!=null&&u(e,["default"],o);const r=s(n,["description"]);r!=null&&u(e,["description"],r);const c=s(n,["enum"]);c!=null&&u(e,["enum"],c);const m=s(n,["example"]);m!=null&&u(e,["example"],m);const h=s(n,["format"]);h!=null&&u(e,["format"],h);const v=s(n,["items"]);v!=null&&u(e,["items"],v);const p=s(n,["maxItems"]);p!=null&&u(e,["maxItems"],p);const g=s(n,["maxLength"]);g!=null&&u(e,["maxLength"],g);const T=s(n,["maxProperties"]);T!=null&&u(e,["maxProperties"],T);const C=s(n,["maximum"]);C!=null&&u(e,["maximum"],C);const S=s(n,["minItems"]);S!=null&&u(e,["minItems"],S);const b=s(n,["minLength"]);b!=null&&u(e,["minLength"],b);const D=s(n,["minProperties"]);D!=null&&u(e,["minProperties"],D);const L=s(n,["minimum"]);L!=null&&u(e,["minimum"],L);const U=s(n,["nullable"]);U!=null&&u(e,["nullable"],U);const J=s(n,["pattern"]);J!=null&&u(e,["pattern"],J);const O=s(n,["properties"]);O!=null&&u(e,["properties"],O);const P=s(n,["propertyOrdering"]);P!=null&&u(e,["propertyOrdering"],P);const H=s(n,["required"]);H!=null&&u(e,["required"],H);const k=s(n,["title"]);k!=null&&u(e,["title"],k);const W=s(n,["type"]);return W!=null&&u(e,["type"],W),e}function ov(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=s(n,["category"]);l!=null&&u(e,["category"],l);const o=s(n,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function av(n){const e={},l=s(n,["behavior"]);l!=null&&u(e,["behavior"],l);const o=s(n,["description"]);o!=null&&u(e,["description"],o);const r=s(n,["name"]);r!=null&&u(e,["name"],r);const c=s(n,["parameters"]);c!=null&&u(e,["parameters"],c);const m=s(n,["parametersJsonSchema"]);m!=null&&u(e,["parametersJsonSchema"],m);const h=s(n,["response"]);h!=null&&u(e,["response"],h);const v=s(n,["responseJsonSchema"]);return v!=null&&u(e,["responseJsonSchema"],v),e}function rv(n){const e={},l=s(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=s(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function sv(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],rv(l)),e}function uv(n){const e={},l=s(n,["mode"]);l!=null&&u(e,["mode"],l);const o=s(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function fv(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],uv(l)),e}function cv(){return{}}function dv(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(p=>av(p))),u(e,["functionDeclarations"],v)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(n,["googleSearch"]);o!=null&&u(e,["googleSearch"],sv(o));const r=s(n,["googleSearchRetrieval"]);if(r!=null&&u(e,["googleSearchRetrieval"],fv(r)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&u(e,["urlContext"],cv());const m=s(n,["codeExecution"]);m!=null&&u(e,["codeExecution"],m);const h=s(n,["computerUse"]);return h!=null&&u(e,["computerUse"],h),e}function mv(n){const e={},l=s(n,["mode"]);l!=null&&u(e,["mode"],l);const o=s(n,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function hv(n){const e={},l=s(n,["latitude"]);l!=null&&u(e,["latitude"],l);const o=s(n,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function pv(n){const e={},l=s(n,["latLng"]);l!=null&&u(e,["latLng"],hv(l));const o=s(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function gv(n){const e={},l=s(n,["functionCallingConfig"]);l!=null&&u(e,["functionCallingConfig"],mv(l));const o=s(n,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],pv(o)),e}function yv(n){const e={},l=s(n,["voiceName"]);return l!=null&&u(e,["voiceName"],l),e}function mp(n){const e={},l=s(n,["prebuiltVoiceConfig"]);return l!=null&&u(e,["prebuiltVoiceConfig"],yv(l)),e}function vv(n){const e={},l=s(n,["speaker"]);l!=null&&u(e,["speaker"],l);const o=s(n,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],mp(o)),e}function Tv(n){const e={},l=s(n,["speakerVoiceConfigs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>vv(r))),u(e,["speakerVoiceConfigs"],o)}return e}function Cv(n){const e={},l=s(n,["voiceConfig"]);l!=null&&u(e,["voiceConfig"],mp(l));const o=s(n,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],Tv(o));const r=s(n,["languageCode"]);return r!=null&&u(e,["languageCode"],r),e}function xv(n){const e={},l=s(n,["includeThoughts"]);l!=null&&u(e,["includeThoughts"],l);const o=s(n,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function Sv(n,e,l){const o={},r=s(e,["systemInstruction"]);l!==void 0&&r!=null&&u(l,["systemInstruction"],dp(St(r)));const c=s(e,["temperature"]);c!=null&&u(o,["temperature"],c);const m=s(e,["topP"]);m!=null&&u(o,["topP"],m);const h=s(e,["topK"]);h!=null&&u(o,["topK"],h);const v=s(e,["candidateCount"]);v!=null&&u(o,["candidateCount"],v);const p=s(e,["maxOutputTokens"]);p!=null&&u(o,["maxOutputTokens"],p);const g=s(e,["stopSequences"]);g!=null&&u(o,["stopSequences"],g);const T=s(e,["responseLogprobs"]);T!=null&&u(o,["responseLogprobs"],T);const C=s(e,["logprobs"]);C!=null&&u(o,["logprobs"],C);const S=s(e,["presencePenalty"]);S!=null&&u(o,["presencePenalty"],S);const b=s(e,["frequencyPenalty"]);b!=null&&u(o,["frequencyPenalty"],b);const D=s(e,["seed"]);D!=null&&u(o,["seed"],D);const L=s(e,["responseMimeType"]);L!=null&&u(o,["responseMimeType"],L);const U=s(e,["responseSchema"]);U!=null&&u(o,["responseSchema"],lv(Ru(U)));const J=s(e,["responseJsonSchema"]);if(J!=null&&u(o,["responseJsonSchema"],J),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=s(e,["safetySettings"]);if(l!==void 0&&O!=null){let G=O;Array.isArray(G)&&(G=G.map(q=>ov(q))),u(l,["safetySettings"],G)}const P=s(e,["tools"]);if(l!==void 0&&P!=null){let G=Cl(P);Array.isArray(G)&&(G=G.map(q=>dv(Tl(q)))),u(l,["tools"],G)}const H=s(e,["toolConfig"]);if(l!==void 0&&H!=null&&u(l,["toolConfig"],gv(H)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=s(e,["cachedContent"]);l!==void 0&&k!=null&&u(l,["cachedContent"],In(n,k));const W=s(e,["responseModalities"]);W!=null&&u(o,["responseModalities"],W);const N=s(e,["mediaResolution"]);N!=null&&u(o,["mediaResolution"],N);const R=s(e,["speechConfig"]);if(R!=null&&u(o,["speechConfig"],Cv(Nu(R))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=s(e,["thinkingConfig"]);return V!=null&&u(o,["thinkingConfig"],xv(V)),o}function Ev(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["request","model"],Ve(n,o));const r=s(e,["contents"]);if(r!=null){let m=nn(r);Array.isArray(m)&&(m=m.map(h=>dp(h))),u(l,["request","contents"],m)}const c=s(e,["config"]);return c!=null&&u(l,["request","generationConfig"],Sv(n,c,l)),l}function Av(n,e){const l={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=s(e,["fileName"]);o!=null&&u(l,["fileName"],o);const r=s(e,["inlinedRequests"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>Ev(n,m))),u(l,["requests","requests"],c)}return l}function _v(n,e){const l={},o=s(n,["displayName"]);if(e!==void 0&&o!=null&&u(e,["batch","displayName"],o),s(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function Mv(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","model"],Ve(n,o));const r=s(e,["src"]);r!=null&&u(l,["batch","inputConfig"],Av(n,fp(n,r)));const c=s(e,["config"]);return c!=null&&u(l,["config"],_v(c,l)),l}function bv(n,e){const l={},o=s(e,["name"]);o!=null&&u(l,["_url","name"],xl(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],r),l}function wv(n,e){const l={},o=s(e,["name"]);o!=null&&u(l,["_url","name"],xl(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],r),l}function Rv(n,e){const l={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);if(e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),s(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function Nv(n){const e={},l=s(n,["config"]);return l!=null&&u(e,["config"],Rv(l,e)),e}function Dv(n,e){const l={},o=s(e,["name"]);o!=null&&u(l,["_url","name"],xl(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],r),l}function Uv(n){const e={},l=s(n,["format"]);l!=null&&u(e,["instancesFormat"],l);const o=s(n,["gcsUri"]);o!=null&&u(e,["gcsSource","uris"],o);const r=s(n,["bigqueryUri"]);if(r!=null&&u(e,["bigquerySource","inputUri"],r),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function kv(n){const e={},l=s(n,["format"]);l!=null&&u(e,["predictionsFormat"],l);const o=s(n,["gcsUri"]);o!=null&&u(e,["gcsDestination","outputUriPrefix"],o);const r=s(n,["bigqueryUri"]);if(r!=null&&u(e,["bigqueryDestination","outputUri"],r),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function Iv(n,e){const l={},o=s(n,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const r=s(n,["dest"]);return e!==void 0&&r!=null&&u(e,["outputConfig"],kv(jy(r))),l}function Lv(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["model"],Ve(n,o));const r=s(e,["src"]);r!=null&&u(l,["inputConfig"],Uv(fp(n,r)));const c=s(e,["config"]);return c!=null&&u(l,["config"],Iv(c,l)),l}function Vv(n,e){const l={},o=s(e,["name"]);o!=null&&u(l,["_url","name"],xl(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],r),l}function Gv(n,e){const l={},o=s(e,["name"]);o!=null&&u(l,["_url","name"],xl(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],r),l}function qv(n,e){const l={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);e!==void 0&&r!=null&&u(e,["_query","pageToken"],r);const c=s(n,["filter"]);return e!==void 0&&c!=null&&u(e,["_query","filter"],c),l}function Bv(n){const e={},l=s(n,["config"]);return l!=null&&u(e,["config"],qv(l,e)),e}function Pv(n,e){const l={},o=s(e,["name"]);o!=null&&u(l,["_url","name"],xl(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],r),l}function Hv(n){const e={},l=s(n,["fps"]);l!=null&&u(e,["fps"],l);const o=s(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const r=s(n,["startOffset"]);return r!=null&&u(e,["startOffset"],r),e}function zv(n){const e={},l=s(n,["data"]);l!=null&&u(e,["data"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Fv(n){const e={},l=s(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Ov(n){const e={},l=s(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],Hv(l));const o=s(n,["thought"]);o!=null&&u(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&u(e,["inlineData"],zv(r));const c=s(n,["fileData"]);c!=null&&u(e,["fileData"],Fv(c));const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=s(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const v=s(n,["executableCode"]);v!=null&&u(e,["executableCode"],v);const p=s(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const g=s(n,["functionResponse"]);g!=null&&u(e,["functionResponse"],g);const T=s(n,["text"]);return T!=null&&u(e,["text"],T),e}function Yv(n){const e={},l=s(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>Ov(c))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function Jv(n){const e={},l=s(n,["citationSources"]);return l!=null&&u(e,["citations"],l),e}function Kv(n){const e={},l=s(n,["retrievedUrl"]);l!=null&&u(e,["retrievedUrl"],l);const o=s(n,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function Qv(n){const e={},l=s(n,["urlMetadata"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>Kv(r))),u(e,["urlMetadata"],o)}return e}function Xv(n){const e={},l=s(n,["content"]);l!=null&&u(e,["content"],Yv(l));const o=s(n,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],Jv(o));const r=s(n,["tokenCount"]);r!=null&&u(e,["tokenCount"],r);const c=s(n,["finishReason"]);c!=null&&u(e,["finishReason"],c);const m=s(n,["urlContextMetadata"]);m!=null&&u(e,["urlContextMetadata"],Qv(m));const h=s(n,["avgLogprobs"]);h!=null&&u(e,["avgLogprobs"],h);const v=s(n,["groundingMetadata"]);v!=null&&u(e,["groundingMetadata"],v);const p=s(n,["index"]);p!=null&&u(e,["index"],p);const g=s(n,["logprobsResult"]);g!=null&&u(e,["logprobsResult"],g);const T=s(n,["safetyRatings"]);return T!=null&&u(e,["safetyRatings"],T),e}function Zv(n){const e={},l=s(n,["sdkHttpResponse"]);l!=null&&u(e,["sdkHttpResponse"],l);const o=s(n,["candidates"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(v=>Xv(v))),u(e,["candidates"],h)}const r=s(n,["modelVersion"]);r!=null&&u(e,["modelVersion"],r);const c=s(n,["promptFeedback"]);c!=null&&u(e,["promptFeedback"],c);const m=s(n,["usageMetadata"]);return m!=null&&u(e,["usageMetadata"],m),e}function hp(n){const e={},l=s(n,["details"]);l!=null&&u(e,["details"],l);const o=s(n,["code"]);o!=null&&u(e,["code"],o);const r=s(n,["message"]);return r!=null&&u(e,["message"],r),e}function $v(n){const e={},l=s(n,["response"]);l!=null&&u(e,["response"],Zv(l));const o=s(n,["error"]);return o!=null&&u(e,["error"],hp(o)),e}function Wv(n){const e={},l=s(n,["responsesFile"]);l!=null&&u(e,["fileName"],l);const o=s(n,["inlinedResponses","inlinedResponses"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>$v(c))),u(e,["inlinedResponses"],r)}return e}function Cu(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["metadata","displayName"]);o!=null&&u(e,["displayName"],o);const r=s(n,["metadata","state"]);r!=null&&u(e,["state"],cp(r));const c=s(n,["metadata","createTime"]);c!=null&&u(e,["createTime"],c);const m=s(n,["metadata","endTime"]);m!=null&&u(e,["endTime"],m);const h=s(n,["metadata","updateTime"]);h!=null&&u(e,["updateTime"],h);const v=s(n,["metadata","model"]);v!=null&&u(e,["model"],v);const p=s(n,["metadata","output"]);return p!=null&&u(e,["dest"],Wv(p)),e}function jv(n){const e={},l=s(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=s(n,["operations"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>Cu(c))),u(e,["batchJobs"],r)}return e}function e1(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["done"]);o!=null&&u(e,["done"],o);const r=s(n,["error"]);return r!=null&&u(e,["error"],hp(r)),e}function pp(n){const e={},l=s(n,["details"]);l!=null&&u(e,["details"],l);const o=s(n,["code"]);o!=null&&u(e,["code"],o);const r=s(n,["message"]);return r!=null&&u(e,["message"],r),e}function t1(n){const e={},l=s(n,["instancesFormat"]);l!=null&&u(e,["format"],l);const o=s(n,["gcsSource","uris"]);o!=null&&u(e,["gcsUri"],o);const r=s(n,["bigquerySource","inputUri"]);return r!=null&&u(e,["bigqueryUri"],r),e}function n1(n){const e={},l=s(n,["predictionsFormat"]);l!=null&&u(e,["format"],l);const o=s(n,["gcsDestination","outputUriPrefix"]);o!=null&&u(e,["gcsUri"],o);const r=s(n,["bigqueryDestination","outputUri"]);return r!=null&&u(e,["bigqueryUri"],r),e}function xu(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const r=s(n,["state"]);r!=null&&u(e,["state"],cp(r));const c=s(n,["error"]);c!=null&&u(e,["error"],pp(c));const m=s(n,["createTime"]);m!=null&&u(e,["createTime"],m);const h=s(n,["startTime"]);h!=null&&u(e,["startTime"],h);const v=s(n,["endTime"]);v!=null&&u(e,["endTime"],v);const p=s(n,["updateTime"]);p!=null&&u(e,["updateTime"],p);const g=s(n,["model"]);g!=null&&u(e,["model"],g);const T=s(n,["inputConfig"]);T!=null&&u(e,["src"],t1(T));const C=s(n,["outputConfig"]);return C!=null&&u(e,["dest"],n1(C)),e}function i1(n){const e={},l=s(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=s(n,["batchPredictionJobs"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>xu(c))),u(e,["batchJobs"],r)}return e}function l1(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["done"]);o!=null&&u(e,["done"],o);const r=s(n,["error"]);return r!=null&&u(e,["error"],pp(r)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var bi;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(bi||(bi={}));class _o{constructor(e,l,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(e,o,r)}init(e,l,o){var r,c;this.nameInternal=e,this.pageInternal=l[this.nameInternal]||[],this.idxInternal=0;let m={config:{}};o?typeof o=="object"?m=Object.assign({},o):m=o:m={config:{}},m.config&&(m.config.pageToken=l.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(c=(r=m.config)===null||r===void 0?void 0:r.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o1 extends wi{constructor(e){super(),this.apiClient=e,this.create=async l=>{if(this.apiClient.isVertexAI()){const r=Date.now().toString();if(Array.isArray(l.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(l.config=l.config||{},l.config.displayName===void 0&&(l.config.displayName="genaiBatchJob_${timestampStr}"),l.config.dest===void 0&&typeof l.src=="string")if(l.src.startsWith("gs://")&&l.src.endsWith(".jsonl"))l.config.dest=`${l.src.slice(0,-6)}/dest`;else if(l.src.startsWith("bq://"))l.config.dest=`${l.src}_dest_${r}`;else throw new Error("Unsupported source:"+l.src)}return await this.createInternal(l)},this.list=async(l={})=>new _o(bi.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(l),l)}async createInternal(e){var l,o,r,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const p=Lv(this.apiClient,e);return h=he("batchPredictionJobs",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),m.then(g=>xu(g))}else{const p=Mv(this.apiClient,e);return h=he("{model}:batchGenerateContent",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(g=>g.json()),m.then(g=>Cu(g))}}async get(e){var l,o,r,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const p=Vv(this.apiClient,e);return h=he("batchPredictionJobs/{name}",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),m.then(g=>xu(g))}else{const p=bv(this.apiClient,e);return h=he("batches/{name}",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(g=>g.json()),m.then(g=>Cu(g))}}async cancel(e){var l,o,r,c;let m="",h={};if(this.apiClient.isVertexAI()){const v=Gv(this.apiClient,e);m=he("batchPredictionJobs/{name}:cancel",v._url),h=v._query,delete v.config,delete v._url,delete v._query,await this.apiClient.request({path:m,queryParams:h,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const v=wv(this.apiClient,e);m=he("batches/{name}:cancel",v._url),h=v._query,delete v.config,delete v._url,delete v._query,await this.apiClient.request({path:m,queryParams:h,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(e){var l,o,r,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const p=Bv(e);return h=he("batchPredictionJobs",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),m.then(g=>{const T=i1(g),C=new Mh;return Object.assign(C,T),C})}else{const p=Nv(e);return h=he("batches",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(g=>g.json()),m.then(g=>{const T=jv(g),C=new Mh;return Object.assign(C,T),C})}}async delete(e){var l,o,r,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const p=Pv(this.apiClient,e);return h=he("batchPredictionJobs/{name}",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),m.then(g=>l1(g))}else{const p=Dv(this.apiClient,e);return h=he("batches/{name}",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(g=>g.json()),m.then(g=>e1(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a1(n){const e={},l=s(n,["fps"]);l!=null&&u(e,["fps"],l);const o=s(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const r=s(n,["startOffset"]);return r!=null&&u(e,["startOffset"],r),e}function r1(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["data"]);l!=null&&u(e,["data"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function s1(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function u1(n){const e={},l=s(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],a1(l));const o=s(n,["thought"]);o!=null&&u(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&u(e,["inlineData"],r1(r));const c=s(n,["fileData"]);c!=null&&u(e,["fileData"],s1(c));const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=s(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const v=s(n,["executableCode"]);v!=null&&u(e,["executableCode"],v);const p=s(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const g=s(n,["functionResponse"]);g!=null&&u(e,["functionResponse"],g);const T=s(n,["text"]);return T!=null&&u(e,["text"],T),e}function Nh(n){const e={},l=s(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>u1(c))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function f1(n){const e={},l=s(n,["behavior"]);l!=null&&u(e,["behavior"],l);const o=s(n,["description"]);o!=null&&u(e,["description"],o);const r=s(n,["name"]);r!=null&&u(e,["name"],r);const c=s(n,["parameters"]);c!=null&&u(e,["parameters"],c);const m=s(n,["parametersJsonSchema"]);m!=null&&u(e,["parametersJsonSchema"],m);const h=s(n,["response"]);h!=null&&u(e,["response"],h);const v=s(n,["responseJsonSchema"]);return v!=null&&u(e,["responseJsonSchema"],v),e}function c1(n){const e={},l=s(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=s(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function d1(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],c1(l)),e}function m1(n){const e={},l=s(n,["mode"]);l!=null&&u(e,["mode"],l);const o=s(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function h1(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],m1(l)),e}function p1(){return{}}function g1(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(p=>f1(p))),u(e,["functionDeclarations"],v)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(n,["googleSearch"]);o!=null&&u(e,["googleSearch"],d1(o));const r=s(n,["googleSearchRetrieval"]);if(r!=null&&u(e,["googleSearchRetrieval"],h1(r)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&u(e,["urlContext"],p1());const m=s(n,["codeExecution"]);m!=null&&u(e,["codeExecution"],m);const h=s(n,["computerUse"]);return h!=null&&u(e,["computerUse"],h),e}function y1(n){const e={},l=s(n,["mode"]);l!=null&&u(e,["mode"],l);const o=s(n,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function v1(n){const e={},l=s(n,["latitude"]);l!=null&&u(e,["latitude"],l);const o=s(n,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function T1(n){const e={},l=s(n,["latLng"]);l!=null&&u(e,["latLng"],v1(l));const o=s(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function C1(n){const e={},l=s(n,["functionCallingConfig"]);l!=null&&u(e,["functionCallingConfig"],y1(l));const o=s(n,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],T1(o)),e}function x1(n,e){const l={},o=s(n,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const r=s(n,["expireTime"]);e!==void 0&&r!=null&&u(e,["expireTime"],r);const c=s(n,["displayName"]);e!==void 0&&c!=null&&u(e,["displayName"],c);const m=s(n,["contents"]);if(e!==void 0&&m!=null){let g=nn(m);Array.isArray(g)&&(g=g.map(T=>Nh(T))),u(e,["contents"],g)}const h=s(n,["systemInstruction"]);e!==void 0&&h!=null&&u(e,["systemInstruction"],Nh(St(h)));const v=s(n,["tools"]);if(e!==void 0&&v!=null){let g=v;Array.isArray(g)&&(g=g.map(T=>g1(T))),u(e,["tools"],g)}const p=s(n,["toolConfig"]);if(e!==void 0&&p!=null&&u(e,["toolConfig"],C1(p)),s(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function S1(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["model"],ep(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],x1(r,l)),l}function E1(n,e){const l={},o=s(e,["name"]);o!=null&&u(l,["_url","name"],In(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],r),l}function A1(n,e){const l={},o=s(e,["name"]);o!=null&&u(l,["_url","name"],In(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],r),l}function _1(n,e){const l={},o=s(n,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const r=s(n,["expireTime"]);return e!==void 0&&r!=null&&u(e,["expireTime"],r),l}function M1(n,e){const l={},o=s(e,["name"]);o!=null&&u(l,["_url","name"],In(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],_1(r,l)),l}function b1(n,e){const l={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),l}function w1(n){const e={},l=s(n,["config"]);return l!=null&&u(e,["config"],b1(l,e)),e}function R1(n){const e={},l=s(n,["fps"]);l!=null&&u(e,["fps"],l);const o=s(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const r=s(n,["startOffset"]);return r!=null&&u(e,["startOffset"],r),e}function N1(n){const e={},l=s(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=s(n,["data"]);o!=null&&u(e,["data"],o);const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function D1(n){const e={},l=s(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=s(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function U1(n){const e={},l=s(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],R1(l));const o=s(n,["thought"]);o!=null&&u(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&u(e,["inlineData"],N1(r));const c=s(n,["fileData"]);c!=null&&u(e,["fileData"],D1(c));const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=s(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const v=s(n,["executableCode"]);v!=null&&u(e,["executableCode"],v);const p=s(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const g=s(n,["functionResponse"]);g!=null&&u(e,["functionResponse"],g);const T=s(n,["text"]);return T!=null&&u(e,["text"],T),e}function Dh(n){const e={},l=s(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>U1(c))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function k1(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=s(n,["description"]);l!=null&&u(e,["description"],l);const o=s(n,["name"]);o!=null&&u(e,["name"],o);const r=s(n,["parameters"]);r!=null&&u(e,["parameters"],r);const c=s(n,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const m=s(n,["response"]);m!=null&&u(e,["response"],m);const h=s(n,["responseJsonSchema"]);return h!=null&&u(e,["responseJsonSchema"],h),e}function I1(n){const e={},l=s(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=s(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function L1(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],I1(l)),e}function V1(n){const e={},l=s(n,["mode"]);l!=null&&u(e,["mode"],l);const o=s(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function G1(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],V1(l)),e}function q1(){return{}}function B1(n){const e={},l=s(n,["apiKeyString"]);return l!=null&&u(e,["apiKeyString"],l),e}function P1(n){const e={},l=s(n,["apiKeyConfig"]);l!=null&&u(e,["apiKeyConfig"],B1(l));const o=s(n,["authType"]);o!=null&&u(e,["authType"],o);const r=s(n,["googleServiceAccountConfig"]);r!=null&&u(e,["googleServiceAccountConfig"],r);const c=s(n,["httpBasicAuthConfig"]);c!=null&&u(e,["httpBasicAuthConfig"],c);const m=s(n,["oauthConfig"]);m!=null&&u(e,["oauthConfig"],m);const h=s(n,["oidcConfig"]);return h!=null&&u(e,["oidcConfig"],h),e}function H1(n){const e={},l=s(n,["authConfig"]);return l!=null&&u(e,["authConfig"],P1(l)),e}function z1(){return{}}function F1(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let T=l;Array.isArray(T)&&(T=T.map(C=>k1(C))),u(e,["functionDeclarations"],T)}const o=s(n,["retrieval"]);o!=null&&u(e,["retrieval"],o);const r=s(n,["googleSearch"]);r!=null&&u(e,["googleSearch"],L1(r));const c=s(n,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],G1(c)),s(n,["enterpriseWebSearch"])!=null&&u(e,["enterpriseWebSearch"],q1());const h=s(n,["googleMaps"]);h!=null&&u(e,["googleMaps"],H1(h)),s(n,["urlContext"])!=null&&u(e,["urlContext"],z1());const p=s(n,["codeExecution"]);p!=null&&u(e,["codeExecution"],p);const g=s(n,["computerUse"]);return g!=null&&u(e,["computerUse"],g),e}function O1(n){const e={},l=s(n,["mode"]);l!=null&&u(e,["mode"],l);const o=s(n,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function Y1(n){const e={},l=s(n,["latitude"]);l!=null&&u(e,["latitude"],l);const o=s(n,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function J1(n){const e={},l=s(n,["latLng"]);l!=null&&u(e,["latLng"],Y1(l));const o=s(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function K1(n){const e={},l=s(n,["functionCallingConfig"]);l!=null&&u(e,["functionCallingConfig"],O1(l));const o=s(n,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],J1(o)),e}function Q1(n,e){const l={},o=s(n,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const r=s(n,["expireTime"]);e!==void 0&&r!=null&&u(e,["expireTime"],r);const c=s(n,["displayName"]);e!==void 0&&c!=null&&u(e,["displayName"],c);const m=s(n,["contents"]);if(e!==void 0&&m!=null){let T=nn(m);Array.isArray(T)&&(T=T.map(C=>Dh(C))),u(e,["contents"],T)}const h=s(n,["systemInstruction"]);e!==void 0&&h!=null&&u(e,["systemInstruction"],Dh(St(h)));const v=s(n,["tools"]);if(e!==void 0&&v!=null){let T=v;Array.isArray(T)&&(T=T.map(C=>F1(C))),u(e,["tools"],T)}const p=s(n,["toolConfig"]);e!==void 0&&p!=null&&u(e,["toolConfig"],K1(p));const g=s(n,["kmsKeyName"]);return e!==void 0&&g!=null&&u(e,["encryption_spec","kmsKeyName"],g),l}function X1(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["model"],ep(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],Q1(r,l)),l}function Z1(n,e){const l={},o=s(e,["name"]);o!=null&&u(l,["_url","name"],In(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],r),l}function $1(n,e){const l={},o=s(e,["name"]);o!=null&&u(l,["_url","name"],In(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],r),l}function W1(n,e){const l={},o=s(n,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const r=s(n,["expireTime"]);return e!==void 0&&r!=null&&u(e,["expireTime"],r),l}function j1(n,e){const l={},o=s(e,["name"]);o!=null&&u(l,["_url","name"],In(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],W1(r,l)),l}function eT(n,e){const l={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),l}function tT(n){const e={},l=s(n,["config"]);return l!=null&&u(e,["config"],eT(l,e)),e}function Ba(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const r=s(n,["model"]);r!=null&&u(e,["model"],r);const c=s(n,["createTime"]);c!=null&&u(e,["createTime"],c);const m=s(n,["updateTime"]);m!=null&&u(e,["updateTime"],m);const h=s(n,["expireTime"]);h!=null&&u(e,["expireTime"],h);const v=s(n,["usageMetadata"]);return v!=null&&u(e,["usageMetadata"],v),e}function nT(){return{}}function iT(n){const e={},l=s(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=s(n,["cachedContents"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>Ba(c))),u(e,["cachedContents"],r)}return e}function Pa(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const r=s(n,["model"]);r!=null&&u(e,["model"],r);const c=s(n,["createTime"]);c!=null&&u(e,["createTime"],c);const m=s(n,["updateTime"]);m!=null&&u(e,["updateTime"],m);const h=s(n,["expireTime"]);h!=null&&u(e,["expireTime"],h);const v=s(n,["usageMetadata"]);return v!=null&&u(e,["usageMetadata"],v),e}function lT(){return{}}function oT(n){const e={},l=s(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=s(n,["cachedContents"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>Pa(c))),u(e,["cachedContents"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aT extends wi{constructor(e){super(),this.apiClient=e,this.list=async(l={})=>new _o(bi.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(l),l)}async create(e){var l,o,r,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const p=X1(this.apiClient,e);return h=he("cachedContents",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),m.then(g=>Pa(g))}else{const p=S1(this.apiClient,e);return h=he("cachedContents",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(g=>g.json()),m.then(g=>Ba(g))}}async get(e){var l,o,r,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const p=Z1(this.apiClient,e);return h=he("{name}",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),m.then(g=>Pa(g))}else{const p=E1(this.apiClient,e);return h=he("{name}",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(g=>g.json()),m.then(g=>Ba(g))}}async delete(e){var l,o,r,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const p=$1(this.apiClient,e);return h=he("{name}",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),m.then(()=>{const g=lT(),T=new Ah;return Object.assign(T,g),T})}else{const p=A1(this.apiClient,e);return h=he("{name}",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(g=>g.json()),m.then(()=>{const g=nT(),T=new Ah;return Object.assign(T,g),T})}}async update(e){var l,o,r,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const p=j1(this.apiClient,e);return h=he("{name}",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),m.then(g=>Pa(g))}else{const p=M1(this.apiClient,e);return h=he("{name}",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(g=>g.json()),m.then(g=>Ba(g))}}async listInternal(e){var l,o,r,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const p=tT(e);return h=he("cachedContents",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),m.then(g=>{const T=oT(g),C=new _h;return Object.assign(C,T),C})}else{const p=w1(e);return h=he("cachedContents",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(g=>g.json()),m.then(g=>{const T=iT(g),C=new _h;return Object.assign(C,T),C})}}}function Uh(n){var e=typeof Symbol=="function"&&Symbol.iterator,l=e&&n[e],o=0;if(l)return l.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ke(n){return this instanceof Ke?(this.v=n,this):new Ke(n)}function vl(n,e,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=l.apply(n,e||[]),r,c=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",m),r[Symbol.asyncIterator]=function(){return this},r;function m(S){return function(b){return Promise.resolve(b).then(S,T)}}function h(S,b){o[S]&&(r[S]=function(D){return new Promise(function(L,U){c.push([S,D,L,U])>1||v(S,D)})},b&&(r[S]=b(r[S])))}function v(S,b){try{p(o[S](b))}catch(D){C(c[0][3],D)}}function p(S){S.value instanceof Ke?Promise.resolve(S.value.v).then(g,T):C(c[0][2],S)}function g(S){v("next",S)}function T(S){v("throw",S)}function C(S,b){S(b),c.shift(),c.length&&v(c[0][0],c[0][1])}}function Ao(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],l;return e?e.call(n):(n=typeof Uh=="function"?Uh(n):n[Symbol.iterator](),l={},o("next"),o("throw"),o("return"),l[Symbol.asyncIterator]=function(){return this},l);function o(c){l[c]=n[c]&&function(m){return new Promise(function(h,v){m=n[c](m),r(h,v,m.done,m.value)})}}function r(c,m,h,v){Promise.resolve(v).then(function(p){c({value:p,done:h})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rT(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const l=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return l===void 0?!1:gp(l)}function gp(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function sT(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function kh(n){if(n===void 0||n.length===0)return[];const e=[],l=n.length;let o=0;for(;o<l;)if(n[o].role==="user")e.push(n[o]),o++;else{const r=[];let c=!0;for(;o<l&&n[o].role==="model";)r.push(n[o]),c&&!gp(n[o])&&(c=!1),o++;c?e.push(...r):e.pop()}return e}class uT{constructor(e,l){this.modelsModule=e,this.apiClient=l}create(e){return new fT(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class fT{constructor(e,l,o,r={},c=[]){this.apiClient=e,this.modelsModule=l,this.model=o,this.config=r,this.history=c,this.sendPromise=Promise.resolve(),sT(c)}async sendMessage(e){var l;await this.sendPromise;const o=St(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(l=e.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var c,m,h;const v=await r,p=(m=(c=v.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content,g=v.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let C=[];g!=null&&(C=(h=g.slice(T))!==null&&h!==void 0?h:[]);const S=p?[p]:[];this.recordHistory(o,S,C)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var l;await this.sendPromise;const o=St(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(l=e.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const c=await r;return this.processStreamResponse(c,o)}getHistory(e=!1){const l=e?kh(this.history):this.history;return structuredClone(l)}processStreamResponse(e,l){var o,r;return vl(this,arguments,function*(){var m,h,v,p;const g=[];try{for(var T=!0,C=Ao(e),S;S=yield Ke(C.next()),m=S.done,!m;T=!0){p=S.value,T=!1;const b=p;if(rT(b)){const D=(r=(o=b.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content;D!==void 0&&g.push(D)}yield yield Ke(b)}}catch(b){h={error:b}}finally{try{!T&&!m&&(v=C.return)&&(yield Ke(v.call(C)))}finally{if(h)throw h.error}}this.recordHistory(l,g)})}recordHistory(e,l,o){let r=[];l.length>0&&l.every(c=>c.role!==void 0)?r=l:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...kh(o)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Za extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Za.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cT(n,e){const l={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);return e!==void 0&&r!=null&&u(e,["_query","pageToken"],r),l}function dT(n){const e={},l=s(n,["config"]);return l!=null&&u(e,["config"],cT(l,e)),e}function mT(n){const e={},l=s(n,["details"]);l!=null&&u(e,["details"],l);const o=s(n,["message"]);o!=null&&u(e,["message"],o);const r=s(n,["code"]);return r!=null&&u(e,["code"],r),e}function hT(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const r=s(n,["mimeType"]);r!=null&&u(e,["mimeType"],r);const c=s(n,["sizeBytes"]);c!=null&&u(e,["sizeBytes"],c);const m=s(n,["createTime"]);m!=null&&u(e,["createTime"],m);const h=s(n,["expirationTime"]);h!=null&&u(e,["expirationTime"],h);const v=s(n,["updateTime"]);v!=null&&u(e,["updateTime"],v);const p=s(n,["sha256Hash"]);p!=null&&u(e,["sha256Hash"],p);const g=s(n,["uri"]);g!=null&&u(e,["uri"],g);const T=s(n,["downloadUri"]);T!=null&&u(e,["downloadUri"],T);const C=s(n,["state"]);C!=null&&u(e,["state"],C);const S=s(n,["source"]);S!=null&&u(e,["source"],S);const b=s(n,["videoMetadata"]);b!=null&&u(e,["videoMetadata"],b);const D=s(n,["error"]);return D!=null&&u(e,["error"],mT(D)),e}function pT(n){const e={},l=s(n,["file"]);l!=null&&u(e,["file"],hT(l));const o=s(n,["config"]);return o!=null&&u(e,["config"],o),e}function gT(n){const e={},l=s(n,["name"]);l!=null&&u(e,["_url","file"],rp(l));const o=s(n,["config"]);return o!=null&&u(e,["config"],o),e}function yT(n){const e={},l=s(n,["name"]);l!=null&&u(e,["_url","file"],rp(l));const o=s(n,["config"]);return o!=null&&u(e,["config"],o),e}function vT(n){const e={},l=s(n,["details"]);l!=null&&u(e,["details"],l);const o=s(n,["message"]);o!=null&&u(e,["message"],o);const r=s(n,["code"]);return r!=null&&u(e,["code"],r),e}function Su(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const r=s(n,["mimeType"]);r!=null&&u(e,["mimeType"],r);const c=s(n,["sizeBytes"]);c!=null&&u(e,["sizeBytes"],c);const m=s(n,["createTime"]);m!=null&&u(e,["createTime"],m);const h=s(n,["expirationTime"]);h!=null&&u(e,["expirationTime"],h);const v=s(n,["updateTime"]);v!=null&&u(e,["updateTime"],v);const p=s(n,["sha256Hash"]);p!=null&&u(e,["sha256Hash"],p);const g=s(n,["uri"]);g!=null&&u(e,["uri"],g);const T=s(n,["downloadUri"]);T!=null&&u(e,["downloadUri"],T);const C=s(n,["state"]);C!=null&&u(e,["state"],C);const S=s(n,["source"]);S!=null&&u(e,["source"],S);const b=s(n,["videoMetadata"]);b!=null&&u(e,["videoMetadata"],b);const D=s(n,["error"]);return D!=null&&u(e,["error"],vT(D)),e}function TT(n){const e={},l=s(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=s(n,["files"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>Su(c))),u(e,["files"],r)}return e}function CT(n){const e={},l=s(n,["sdkHttpResponse"]);return l!=null&&u(e,["sdkHttpResponse"],l),e}function xT(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ST extends wi{constructor(e){super(),this.apiClient=e,this.list=async(l={})=>new _o(bi.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(l),l)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(l=>Su(l))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var l,o;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=dT(e);return c=he("files",h._url),m=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),r.then(v=>{const p=TT(v),g=new Py;return Object.assign(g,p),g})}}async createInternal(e){var l,o;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=pT(e);return c=he("upload/v1beta/files",h._url),m=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),r.then(v=>{const p=CT(v),g=new Hy;return Object.assign(g,p),g})}}async get(e){var l,o;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=gT(e);return c=he("files/{file}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),r.then(v=>Su(v))}}async delete(e){var l,o;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=yT(e);return c=he("files/{file}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),r.then(()=>{const v=xT(),p=new zy;return Object.assign(p,v),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ET(n){const e={},l=s(n,["voiceName"]);return l!=null&&u(e,["voiceName"],l),e}function yp(n){const e={},l=s(n,["prebuiltVoiceConfig"]);return l!=null&&u(e,["prebuiltVoiceConfig"],ET(l)),e}function AT(n){const e={},l=s(n,["speaker"]);l!=null&&u(e,["speaker"],l);const o=s(n,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],yp(o)),e}function _T(n){const e={},l=s(n,["speakerVoiceConfigs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>AT(r))),u(e,["speakerVoiceConfigs"],o)}return e}function MT(n){const e={},l=s(n,["voiceConfig"]);l!=null&&u(e,["voiceConfig"],yp(l));const o=s(n,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],_T(o));const r=s(n,["languageCode"]);return r!=null&&u(e,["languageCode"],r),e}function bT(n){const e={},l=s(n,["fps"]);l!=null&&u(e,["fps"],l);const o=s(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const r=s(n,["startOffset"]);return r!=null&&u(e,["startOffset"],r),e}function wT(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["data"]);l!=null&&u(e,["data"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function RT(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function NT(n){const e={},l=s(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],bT(l));const o=s(n,["thought"]);o!=null&&u(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&u(e,["inlineData"],wT(r));const c=s(n,["fileData"]);c!=null&&u(e,["fileData"],RT(c));const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=s(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const v=s(n,["executableCode"]);v!=null&&u(e,["executableCode"],v);const p=s(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const g=s(n,["functionResponse"]);g!=null&&u(e,["functionResponse"],g);const T=s(n,["text"]);return T!=null&&u(e,["text"],T),e}function DT(n){const e={},l=s(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>NT(c))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function UT(n){const e={},l=s(n,["behavior"]);l!=null&&u(e,["behavior"],l);const o=s(n,["description"]);o!=null&&u(e,["description"],o);const r=s(n,["name"]);r!=null&&u(e,["name"],r);const c=s(n,["parameters"]);c!=null&&u(e,["parameters"],c);const m=s(n,["parametersJsonSchema"]);m!=null&&u(e,["parametersJsonSchema"],m);const h=s(n,["response"]);h!=null&&u(e,["response"],h);const v=s(n,["responseJsonSchema"]);return v!=null&&u(e,["responseJsonSchema"],v),e}function kT(n){const e={},l=s(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=s(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function IT(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],kT(l)),e}function LT(n){const e={},l=s(n,["mode"]);l!=null&&u(e,["mode"],l);const o=s(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function VT(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],LT(l)),e}function GT(){return{}}function qT(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(p=>UT(p))),u(e,["functionDeclarations"],v)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(n,["googleSearch"]);o!=null&&u(e,["googleSearch"],IT(o));const r=s(n,["googleSearchRetrieval"]);if(r!=null&&u(e,["googleSearchRetrieval"],VT(r)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&u(e,["urlContext"],GT());const m=s(n,["codeExecution"]);m!=null&&u(e,["codeExecution"],m);const h=s(n,["computerUse"]);return h!=null&&u(e,["computerUse"],h),e}function BT(n){const e={},l=s(n,["handle"]);if(l!=null&&u(e,["handle"],l),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Ih(){return{}}function PT(n){const e={},l=s(n,["disabled"]);l!=null&&u(e,["disabled"],l);const o=s(n,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const r=s(n,["endOfSpeechSensitivity"]);r!=null&&u(e,["endOfSpeechSensitivity"],r);const c=s(n,["prefixPaddingMs"]);c!=null&&u(e,["prefixPaddingMs"],c);const m=s(n,["silenceDurationMs"]);return m!=null&&u(e,["silenceDurationMs"],m),e}function HT(n){const e={},l=s(n,["automaticActivityDetection"]);l!=null&&u(e,["automaticActivityDetection"],PT(l));const o=s(n,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const r=s(n,["turnCoverage"]);return r!=null&&u(e,["turnCoverage"],r),e}function zT(n){const e={},l=s(n,["targetTokens"]);return l!=null&&u(e,["targetTokens"],l),e}function FT(n){const e={},l=s(n,["triggerTokens"]);l!=null&&u(e,["triggerTokens"],l);const o=s(n,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],zT(o)),e}function OT(n){const e={},l=s(n,["proactiveAudio"]);return l!=null&&u(e,["proactiveAudio"],l),e}function YT(n,e){const l={},o=s(n,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const r=s(n,["responseModalities"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","responseModalities"],r);const c=s(n,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const m=s(n,["topP"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","topP"],m);const h=s(n,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const v=s(n,["maxOutputTokens"]);e!==void 0&&v!=null&&u(e,["setup","generationConfig","maxOutputTokens"],v);const p=s(n,["mediaResolution"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","mediaResolution"],p);const g=s(n,["seed"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","seed"],g);const T=s(n,["speechConfig"]);e!==void 0&&T!=null&&u(e,["setup","generationConfig","speechConfig"],MT(Du(T)));const C=s(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],C);const S=s(n,["systemInstruction"]);e!==void 0&&S!=null&&u(e,["setup","systemInstruction"],DT(St(S)));const b=s(n,["tools"]);if(e!==void 0&&b!=null){let H=Cl(b);Array.isArray(H)&&(H=H.map(k=>qT(Tl(k)))),u(e,["setup","tools"],H)}const D=s(n,["sessionResumption"]);e!==void 0&&D!=null&&u(e,["setup","sessionResumption"],BT(D));const L=s(n,["inputAudioTranscription"]);e!==void 0&&L!=null&&u(e,["setup","inputAudioTranscription"],Ih());const U=s(n,["outputAudioTranscription"]);e!==void 0&&U!=null&&u(e,["setup","outputAudioTranscription"],Ih());const J=s(n,["realtimeInputConfig"]);e!==void 0&&J!=null&&u(e,["setup","realtimeInputConfig"],HT(J));const O=s(n,["contextWindowCompression"]);e!==void 0&&O!=null&&u(e,["setup","contextWindowCompression"],FT(O));const P=s(n,["proactivity"]);return e!==void 0&&P!=null&&u(e,["setup","proactivity"],OT(P)),l}function JT(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["setup","model"],Ve(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],YT(r,l)),l}function KT(){return{}}function QT(){return{}}function XT(n){const e={},l=s(n,["media"]);l!=null&&u(e,["mediaChunks"],tp(l));const o=s(n,["audio"]);o!=null&&u(e,["audio"],ip(o));const r=s(n,["audioStreamEnd"]);r!=null&&u(e,["audioStreamEnd"],r);const c=s(n,["video"]);c!=null&&u(e,["video"],np(c));const m=s(n,["text"]);return m!=null&&u(e,["text"],m),s(n,["activityStart"])!=null&&u(e,["activityStart"],KT()),s(n,["activityEnd"])!=null&&u(e,["activityEnd"],QT()),e}function vp(n){const e={},l=s(n,["text"]);l!=null&&u(e,["text"],l);const o=s(n,["weight"]);return o!=null&&u(e,["weight"],o),e}function ZT(n){const e={},l=s(n,["weightedPrompts"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>vp(r))),u(e,["weightedPrompts"],o)}return e}function Tp(n){const e={},l=s(n,["temperature"]);l!=null&&u(e,["temperature"],l);const o=s(n,["topK"]);o!=null&&u(e,["topK"],o);const r=s(n,["seed"]);r!=null&&u(e,["seed"],r);const c=s(n,["guidance"]);c!=null&&u(e,["guidance"],c);const m=s(n,["bpm"]);m!=null&&u(e,["bpm"],m);const h=s(n,["density"]);h!=null&&u(e,["density"],h);const v=s(n,["brightness"]);v!=null&&u(e,["brightness"],v);const p=s(n,["scale"]);p!=null&&u(e,["scale"],p);const g=s(n,["muteBass"]);g!=null&&u(e,["muteBass"],g);const T=s(n,["muteDrums"]);T!=null&&u(e,["muteDrums"],T);const C=s(n,["onlyBassAndDrums"]);return C!=null&&u(e,["onlyBassAndDrums"],C),e}function $T(n){const e={},l=s(n,["musicGenerationConfig"]);return l!=null&&u(e,["musicGenerationConfig"],Tp(l)),e}function Cp(n){const e={},l=s(n,["model"]);return l!=null&&u(e,["model"],l),e}function xp(n){const e={},l=s(n,["weightedPrompts"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>vp(r))),u(e,["weightedPrompts"],o)}return e}function Eu(n){const e={},l=s(n,["setup"]);l!=null&&u(e,["setup"],Cp(l));const o=s(n,["clientContent"]);o!=null&&u(e,["clientContent"],xp(o));const r=s(n,["musicGenerationConfig"]);r!=null&&u(e,["musicGenerationConfig"],Tp(r));const c=s(n,["playbackControl"]);return c!=null&&u(e,["playbackControl"],c),e}function WT(n){const e={},l=s(n,["voiceName"]);return l!=null&&u(e,["voiceName"],l),e}function jT(n){const e={},l=s(n,["prebuiltVoiceConfig"]);return l!=null&&u(e,["prebuiltVoiceConfig"],WT(l)),e}function e2(n){const e={},l=s(n,["voiceConfig"]);if(l!=null&&u(e,["voiceConfig"],jT(l)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=s(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function t2(n){const e={},l=s(n,["fps"]);l!=null&&u(e,["fps"],l);const o=s(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const r=s(n,["startOffset"]);return r!=null&&u(e,["startOffset"],r),e}function n2(n){const e={},l=s(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=s(n,["data"]);o!=null&&u(e,["data"],o);const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function i2(n){const e={},l=s(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=s(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function l2(n){const e={},l=s(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],t2(l));const o=s(n,["thought"]);o!=null&&u(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&u(e,["inlineData"],n2(r));const c=s(n,["fileData"]);c!=null&&u(e,["fileData"],i2(c));const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=s(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const v=s(n,["executableCode"]);v!=null&&u(e,["executableCode"],v);const p=s(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const g=s(n,["functionResponse"]);g!=null&&u(e,["functionResponse"],g);const T=s(n,["text"]);return T!=null&&u(e,["text"],T),e}function o2(n){const e={},l=s(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>l2(c))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function a2(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=s(n,["description"]);l!=null&&u(e,["description"],l);const o=s(n,["name"]);o!=null&&u(e,["name"],o);const r=s(n,["parameters"]);r!=null&&u(e,["parameters"],r);const c=s(n,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const m=s(n,["response"]);m!=null&&u(e,["response"],m);const h=s(n,["responseJsonSchema"]);return h!=null&&u(e,["responseJsonSchema"],h),e}function r2(n){const e={},l=s(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=s(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function s2(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],r2(l)),e}function u2(n){const e={},l=s(n,["mode"]);l!=null&&u(e,["mode"],l);const o=s(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function f2(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],u2(l)),e}function c2(){return{}}function d2(n){const e={},l=s(n,["apiKeyString"]);return l!=null&&u(e,["apiKeyString"],l),e}function m2(n){const e={},l=s(n,["apiKeyConfig"]);l!=null&&u(e,["apiKeyConfig"],d2(l));const o=s(n,["authType"]);o!=null&&u(e,["authType"],o);const r=s(n,["googleServiceAccountConfig"]);r!=null&&u(e,["googleServiceAccountConfig"],r);const c=s(n,["httpBasicAuthConfig"]);c!=null&&u(e,["httpBasicAuthConfig"],c);const m=s(n,["oauthConfig"]);m!=null&&u(e,["oauthConfig"],m);const h=s(n,["oidcConfig"]);return h!=null&&u(e,["oidcConfig"],h),e}function h2(n){const e={},l=s(n,["authConfig"]);return l!=null&&u(e,["authConfig"],m2(l)),e}function p2(){return{}}function g2(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let T=l;Array.isArray(T)&&(T=T.map(C=>a2(C))),u(e,["functionDeclarations"],T)}const o=s(n,["retrieval"]);o!=null&&u(e,["retrieval"],o);const r=s(n,["googleSearch"]);r!=null&&u(e,["googleSearch"],s2(r));const c=s(n,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],f2(c)),s(n,["enterpriseWebSearch"])!=null&&u(e,["enterpriseWebSearch"],c2());const h=s(n,["googleMaps"]);h!=null&&u(e,["googleMaps"],h2(h)),s(n,["urlContext"])!=null&&u(e,["urlContext"],p2());const p=s(n,["codeExecution"]);p!=null&&u(e,["codeExecution"],p);const g=s(n,["computerUse"]);return g!=null&&u(e,["computerUse"],g),e}function y2(n){const e={},l=s(n,["handle"]);l!=null&&u(e,["handle"],l);const o=s(n,["transparent"]);return o!=null&&u(e,["transparent"],o),e}function Lh(){return{}}function v2(n){const e={},l=s(n,["disabled"]);l!=null&&u(e,["disabled"],l);const o=s(n,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const r=s(n,["endOfSpeechSensitivity"]);r!=null&&u(e,["endOfSpeechSensitivity"],r);const c=s(n,["prefixPaddingMs"]);c!=null&&u(e,["prefixPaddingMs"],c);const m=s(n,["silenceDurationMs"]);return m!=null&&u(e,["silenceDurationMs"],m),e}function T2(n){const e={},l=s(n,["automaticActivityDetection"]);l!=null&&u(e,["automaticActivityDetection"],v2(l));const o=s(n,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const r=s(n,["turnCoverage"]);return r!=null&&u(e,["turnCoverage"],r),e}function C2(n){const e={},l=s(n,["targetTokens"]);return l!=null&&u(e,["targetTokens"],l),e}function x2(n){const e={},l=s(n,["triggerTokens"]);l!=null&&u(e,["triggerTokens"],l);const o=s(n,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],C2(o)),e}function S2(n){const e={},l=s(n,["proactiveAudio"]);return l!=null&&u(e,["proactiveAudio"],l),e}function E2(n,e){const l={},o=s(n,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const r=s(n,["responseModalities"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","responseModalities"],r);const c=s(n,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const m=s(n,["topP"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","topP"],m);const h=s(n,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const v=s(n,["maxOutputTokens"]);e!==void 0&&v!=null&&u(e,["setup","generationConfig","maxOutputTokens"],v);const p=s(n,["mediaResolution"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","mediaResolution"],p);const g=s(n,["seed"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","seed"],g);const T=s(n,["speechConfig"]);e!==void 0&&T!=null&&u(e,["setup","generationConfig","speechConfig"],e2(Du(T)));const C=s(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],C);const S=s(n,["systemInstruction"]);e!==void 0&&S!=null&&u(e,["setup","systemInstruction"],o2(St(S)));const b=s(n,["tools"]);if(e!==void 0&&b!=null){let H=Cl(b);Array.isArray(H)&&(H=H.map(k=>g2(Tl(k)))),u(e,["setup","tools"],H)}const D=s(n,["sessionResumption"]);e!==void 0&&D!=null&&u(e,["setup","sessionResumption"],y2(D));const L=s(n,["inputAudioTranscription"]);e!==void 0&&L!=null&&u(e,["setup","inputAudioTranscription"],Lh());const U=s(n,["outputAudioTranscription"]);e!==void 0&&U!=null&&u(e,["setup","outputAudioTranscription"],Lh());const J=s(n,["realtimeInputConfig"]);e!==void 0&&J!=null&&u(e,["setup","realtimeInputConfig"],T2(J));const O=s(n,["contextWindowCompression"]);e!==void 0&&O!=null&&u(e,["setup","contextWindowCompression"],x2(O));const P=s(n,["proactivity"]);return e!==void 0&&P!=null&&u(e,["setup","proactivity"],S2(P)),l}function A2(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["setup","model"],Ve(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],E2(r,l)),l}function _2(){return{}}function M2(){return{}}function b2(n){const e={},l=s(n,["media"]);l!=null&&u(e,["mediaChunks"],tp(l));const o=s(n,["audio"]);o!=null&&u(e,["audio"],ip(o));const r=s(n,["audioStreamEnd"]);r!=null&&u(e,["audioStreamEnd"],r);const c=s(n,["video"]);c!=null&&u(e,["video"],np(c));const m=s(n,["text"]);return m!=null&&u(e,["text"],m),s(n,["activityStart"])!=null&&u(e,["activityStart"],_2()),s(n,["activityEnd"])!=null&&u(e,["activityEnd"],M2()),e}function w2(){return{}}function R2(n){const e={},l=s(n,["fps"]);l!=null&&u(e,["fps"],l);const o=s(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const r=s(n,["startOffset"]);return r!=null&&u(e,["startOffset"],r),e}function N2(n){const e={},l=s(n,["data"]);l!=null&&u(e,["data"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function D2(n){const e={},l=s(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function U2(n){const e={},l=s(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],R2(l));const o=s(n,["thought"]);o!=null&&u(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&u(e,["inlineData"],N2(r));const c=s(n,["fileData"]);c!=null&&u(e,["fileData"],D2(c));const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=s(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const v=s(n,["executableCode"]);v!=null&&u(e,["executableCode"],v);const p=s(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const g=s(n,["functionResponse"]);g!=null&&u(e,["functionResponse"],g);const T=s(n,["text"]);return T!=null&&u(e,["text"],T),e}function k2(n){const e={},l=s(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>U2(c))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function Vh(n){const e={},l=s(n,["text"]);l!=null&&u(e,["text"],l);const o=s(n,["finished"]);return o!=null&&u(e,["finished"],o),e}function I2(n){const e={},l=s(n,["retrievedUrl"]);l!=null&&u(e,["retrievedUrl"],l);const o=s(n,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function L2(n){const e={},l=s(n,["urlMetadata"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>I2(r))),u(e,["urlMetadata"],o)}return e}function V2(n){const e={},l=s(n,["modelTurn"]);l!=null&&u(e,["modelTurn"],k2(l));const o=s(n,["turnComplete"]);o!=null&&u(e,["turnComplete"],o);const r=s(n,["interrupted"]);r!=null&&u(e,["interrupted"],r);const c=s(n,["groundingMetadata"]);c!=null&&u(e,["groundingMetadata"],c);const m=s(n,["generationComplete"]);m!=null&&u(e,["generationComplete"],m);const h=s(n,["inputTranscription"]);h!=null&&u(e,["inputTranscription"],Vh(h));const v=s(n,["outputTranscription"]);v!=null&&u(e,["outputTranscription"],Vh(v));const p=s(n,["urlContextMetadata"]);return p!=null&&u(e,["urlContextMetadata"],L2(p)),e}function G2(n){const e={},l=s(n,["id"]);l!=null&&u(e,["id"],l);const o=s(n,["args"]);o!=null&&u(e,["args"],o);const r=s(n,["name"]);return r!=null&&u(e,["name"],r),e}function q2(n){const e={},l=s(n,["functionCalls"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>G2(r))),u(e,["functionCalls"],o)}return e}function B2(n){const e={},l=s(n,["ids"]);return l!=null&&u(e,["ids"],l),e}function Ga(n){const e={},l=s(n,["modality"]);l!=null&&u(e,["modality"],l);const o=s(n,["tokenCount"]);return o!=null&&u(e,["tokenCount"],o),e}function P2(n){const e={},l=s(n,["promptTokenCount"]);l!=null&&u(e,["promptTokenCount"],l);const o=s(n,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);const r=s(n,["responseTokenCount"]);r!=null&&u(e,["responseTokenCount"],r);const c=s(n,["toolUsePromptTokenCount"]);c!=null&&u(e,["toolUsePromptTokenCount"],c);const m=s(n,["thoughtsTokenCount"]);m!=null&&u(e,["thoughtsTokenCount"],m);const h=s(n,["totalTokenCount"]);h!=null&&u(e,["totalTokenCount"],h);const v=s(n,["promptTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(S=>Ga(S))),u(e,["promptTokensDetails"],C)}const p=s(n,["cacheTokensDetails"]);if(p!=null){let C=p;Array.isArray(C)&&(C=C.map(S=>Ga(S))),u(e,["cacheTokensDetails"],C)}const g=s(n,["responseTokensDetails"]);if(g!=null){let C=g;Array.isArray(C)&&(C=C.map(S=>Ga(S))),u(e,["responseTokensDetails"],C)}const T=s(n,["toolUsePromptTokensDetails"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(S=>Ga(S))),u(e,["toolUsePromptTokensDetails"],C)}return e}function H2(n){const e={},l=s(n,["timeLeft"]);return l!=null&&u(e,["timeLeft"],l),e}function z2(n){const e={},l=s(n,["newHandle"]);l!=null&&u(e,["newHandle"],l);const o=s(n,["resumable"]);o!=null&&u(e,["resumable"],o);const r=s(n,["lastConsumedClientMessageIndex"]);return r!=null&&u(e,["lastConsumedClientMessageIndex"],r),e}function F2(n){const e={};s(n,["setupComplete"])!=null&&u(e,["setupComplete"],w2());const o=s(n,["serverContent"]);o!=null&&u(e,["serverContent"],V2(o));const r=s(n,["toolCall"]);r!=null&&u(e,["toolCall"],q2(r));const c=s(n,["toolCallCancellation"]);c!=null&&u(e,["toolCallCancellation"],B2(c));const m=s(n,["usageMetadata"]);m!=null&&u(e,["usageMetadata"],P2(m));const h=s(n,["goAway"]);h!=null&&u(e,["goAway"],H2(h));const v=s(n,["sessionResumptionUpdate"]);return v!=null&&u(e,["sessionResumptionUpdate"],z2(v)),e}function O2(){return{}}function Y2(n){const e={},l=s(n,["text"]);l!=null&&u(e,["text"],l);const o=s(n,["weight"]);return o!=null&&u(e,["weight"],o),e}function J2(n){const e={},l=s(n,["weightedPrompts"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>Y2(r))),u(e,["weightedPrompts"],o)}return e}function K2(n){const e={},l=s(n,["temperature"]);l!=null&&u(e,["temperature"],l);const o=s(n,["topK"]);o!=null&&u(e,["topK"],o);const r=s(n,["seed"]);r!=null&&u(e,["seed"],r);const c=s(n,["guidance"]);c!=null&&u(e,["guidance"],c);const m=s(n,["bpm"]);m!=null&&u(e,["bpm"],m);const h=s(n,["density"]);h!=null&&u(e,["density"],h);const v=s(n,["brightness"]);v!=null&&u(e,["brightness"],v);const p=s(n,["scale"]);p!=null&&u(e,["scale"],p);const g=s(n,["muteBass"]);g!=null&&u(e,["muteBass"],g);const T=s(n,["muteDrums"]);T!=null&&u(e,["muteDrums"],T);const C=s(n,["onlyBassAndDrums"]);return C!=null&&u(e,["onlyBassAndDrums"],C),e}function Q2(n){const e={},l=s(n,["clientContent"]);l!=null&&u(e,["clientContent"],J2(l));const o=s(n,["musicGenerationConfig"]);return o!=null&&u(e,["musicGenerationConfig"],K2(o)),e}function X2(n){const e={},l=s(n,["data"]);l!=null&&u(e,["data"],l);const o=s(n,["mimeType"]);o!=null&&u(e,["mimeType"],o);const r=s(n,["sourceMetadata"]);return r!=null&&u(e,["sourceMetadata"],Q2(r)),e}function Z2(n){const e={},l=s(n,["audioChunks"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>X2(r))),u(e,["audioChunks"],o)}return e}function $2(n){const e={},l=s(n,["text"]);l!=null&&u(e,["text"],l);const o=s(n,["filteredReason"]);return o!=null&&u(e,["filteredReason"],o),e}function W2(n){const e={};s(n,["setupComplete"])!=null&&u(e,["setupComplete"],O2());const o=s(n,["serverContent"]);o!=null&&u(e,["serverContent"],Z2(o));const r=s(n,["filteredPrompt"]);return r!=null&&u(e,["filteredPrompt"],$2(r)),e}function j2(n){const e={},l=s(n,["sessionId"]);return l!=null&&u(e,["sessionId"],l),e}function eC(n){const e={},l=s(n,["fps"]);l!=null&&u(e,["fps"],l);const o=s(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const r=s(n,["startOffset"]);return r!=null&&u(e,["startOffset"],r),e}function tC(n){const e={},l=s(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=s(n,["data"]);o!=null&&u(e,["data"],o);const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function nC(n){const e={},l=s(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=s(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function iC(n){const e={},l=s(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],eC(l));const o=s(n,["thought"]);o!=null&&u(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&u(e,["inlineData"],tC(r));const c=s(n,["fileData"]);c!=null&&u(e,["fileData"],nC(c));const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=s(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const v=s(n,["executableCode"]);v!=null&&u(e,["executableCode"],v);const p=s(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const g=s(n,["functionResponse"]);g!=null&&u(e,["functionResponse"],g);const T=s(n,["text"]);return T!=null&&u(e,["text"],T),e}function lC(n){const e={},l=s(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>iC(c))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function Gh(n){const e={},l=s(n,["text"]);l!=null&&u(e,["text"],l);const o=s(n,["finished"]);return o!=null&&u(e,["finished"],o),e}function oC(n){const e={},l=s(n,["modelTurn"]);l!=null&&u(e,["modelTurn"],lC(l));const o=s(n,["turnComplete"]);o!=null&&u(e,["turnComplete"],o);const r=s(n,["interrupted"]);r!=null&&u(e,["interrupted"],r);const c=s(n,["groundingMetadata"]);c!=null&&u(e,["groundingMetadata"],c);const m=s(n,["generationComplete"]);m!=null&&u(e,["generationComplete"],m);const h=s(n,["inputTranscription"]);h!=null&&u(e,["inputTranscription"],Gh(h));const v=s(n,["outputTranscription"]);return v!=null&&u(e,["outputTranscription"],Gh(v)),e}function aC(n){const e={},l=s(n,["args"]);l!=null&&u(e,["args"],l);const o=s(n,["name"]);return o!=null&&u(e,["name"],o),e}function rC(n){const e={},l=s(n,["functionCalls"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>aC(r))),u(e,["functionCalls"],o)}return e}function sC(n){const e={},l=s(n,["ids"]);return l!=null&&u(e,["ids"],l),e}function qa(n){const e={},l=s(n,["modality"]);l!=null&&u(e,["modality"],l);const o=s(n,["tokenCount"]);return o!=null&&u(e,["tokenCount"],o),e}function uC(n){const e={},l=s(n,["promptTokenCount"]);l!=null&&u(e,["promptTokenCount"],l);const o=s(n,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);const r=s(n,["candidatesTokenCount"]);r!=null&&u(e,["responseTokenCount"],r);const c=s(n,["toolUsePromptTokenCount"]);c!=null&&u(e,["toolUsePromptTokenCount"],c);const m=s(n,["thoughtsTokenCount"]);m!=null&&u(e,["thoughtsTokenCount"],m);const h=s(n,["totalTokenCount"]);h!=null&&u(e,["totalTokenCount"],h);const v=s(n,["promptTokensDetails"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(b=>qa(b))),u(e,["promptTokensDetails"],S)}const p=s(n,["cacheTokensDetails"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(b=>qa(b))),u(e,["cacheTokensDetails"],S)}const g=s(n,["candidatesTokensDetails"]);if(g!=null){let S=g;Array.isArray(S)&&(S=S.map(b=>qa(b))),u(e,["responseTokensDetails"],S)}const T=s(n,["toolUsePromptTokensDetails"]);if(T!=null){let S=T;Array.isArray(S)&&(S=S.map(b=>qa(b))),u(e,["toolUsePromptTokensDetails"],S)}const C=s(n,["trafficType"]);return C!=null&&u(e,["trafficType"],C),e}function fC(n){const e={},l=s(n,["timeLeft"]);return l!=null&&u(e,["timeLeft"],l),e}function cC(n){const e={},l=s(n,["newHandle"]);l!=null&&u(e,["newHandle"],l);const o=s(n,["resumable"]);o!=null&&u(e,["resumable"],o);const r=s(n,["lastConsumedClientMessageIndex"]);return r!=null&&u(e,["lastConsumedClientMessageIndex"],r),e}function dC(n){const e={},l=s(n,["setupComplete"]);l!=null&&u(e,["setupComplete"],j2(l));const o=s(n,["serverContent"]);o!=null&&u(e,["serverContent"],oC(o));const r=s(n,["toolCall"]);r!=null&&u(e,["toolCall"],rC(r));const c=s(n,["toolCallCancellation"]);c!=null&&u(e,["toolCallCancellation"],sC(c));const m=s(n,["usageMetadata"]);m!=null&&u(e,["usageMetadata"],uC(m));const h=s(n,["goAway"]);h!=null&&u(e,["goAway"],fC(h));const v=s(n,["sessionResumptionUpdate"]);return v!=null&&u(e,["sessionResumptionUpdate"],cC(v)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mC(n){const e={},l=s(n,["fps"]);l!=null&&u(e,["fps"],l);const o=s(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const r=s(n,["startOffset"]);return r!=null&&u(e,["startOffset"],r),e}function hC(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["data"]);l!=null&&u(e,["data"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function pC(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function gC(n){const e={},l=s(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],mC(l));const o=s(n,["thought"]);o!=null&&u(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&u(e,["inlineData"],hC(r));const c=s(n,["fileData"]);c!=null&&u(e,["fileData"],pC(c));const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=s(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const v=s(n,["executableCode"]);v!=null&&u(e,["executableCode"],v);const p=s(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const g=s(n,["functionResponse"]);g!=null&&u(e,["functionResponse"],g);const T=s(n,["text"]);return T!=null&&u(e,["text"],T),e}function $a(n){const e={},l=s(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>gC(c))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function yC(n){const e={},l=s(n,["anyOf"]);l!=null&&u(e,["anyOf"],l);const o=s(n,["default"]);o!=null&&u(e,["default"],o);const r=s(n,["description"]);r!=null&&u(e,["description"],r);const c=s(n,["enum"]);c!=null&&u(e,["enum"],c);const m=s(n,["example"]);m!=null&&u(e,["example"],m);const h=s(n,["format"]);h!=null&&u(e,["format"],h);const v=s(n,["items"]);v!=null&&u(e,["items"],v);const p=s(n,["maxItems"]);p!=null&&u(e,["maxItems"],p);const g=s(n,["maxLength"]);g!=null&&u(e,["maxLength"],g);const T=s(n,["maxProperties"]);T!=null&&u(e,["maxProperties"],T);const C=s(n,["maximum"]);C!=null&&u(e,["maximum"],C);const S=s(n,["minItems"]);S!=null&&u(e,["minItems"],S);const b=s(n,["minLength"]);b!=null&&u(e,["minLength"],b);const D=s(n,["minProperties"]);D!=null&&u(e,["minProperties"],D);const L=s(n,["minimum"]);L!=null&&u(e,["minimum"],L);const U=s(n,["nullable"]);U!=null&&u(e,["nullable"],U);const J=s(n,["pattern"]);J!=null&&u(e,["pattern"],J);const O=s(n,["properties"]);O!=null&&u(e,["properties"],O);const P=s(n,["propertyOrdering"]);P!=null&&u(e,["propertyOrdering"],P);const H=s(n,["required"]);H!=null&&u(e,["required"],H);const k=s(n,["title"]);k!=null&&u(e,["title"],k);const W=s(n,["type"]);return W!=null&&u(e,["type"],W),e}function vC(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=s(n,["category"]);l!=null&&u(e,["category"],l);const o=s(n,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function TC(n){const e={},l=s(n,["behavior"]);l!=null&&u(e,["behavior"],l);const o=s(n,["description"]);o!=null&&u(e,["description"],o);const r=s(n,["name"]);r!=null&&u(e,["name"],r);const c=s(n,["parameters"]);c!=null&&u(e,["parameters"],c);const m=s(n,["parametersJsonSchema"]);m!=null&&u(e,["parametersJsonSchema"],m);const h=s(n,["response"]);h!=null&&u(e,["response"],h);const v=s(n,["responseJsonSchema"]);return v!=null&&u(e,["responseJsonSchema"],v),e}function CC(n){const e={},l=s(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=s(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function xC(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],CC(l)),e}function SC(n){const e={},l=s(n,["mode"]);l!=null&&u(e,["mode"],l);const o=s(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function EC(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],SC(l)),e}function AC(){return{}}function _C(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(p=>TC(p))),u(e,["functionDeclarations"],v)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(n,["googleSearch"]);o!=null&&u(e,["googleSearch"],xC(o));const r=s(n,["googleSearchRetrieval"]);if(r!=null&&u(e,["googleSearchRetrieval"],EC(r)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&u(e,["urlContext"],AC());const m=s(n,["codeExecution"]);m!=null&&u(e,["codeExecution"],m);const h=s(n,["computerUse"]);return h!=null&&u(e,["computerUse"],h),e}function MC(n){const e={},l=s(n,["mode"]);l!=null&&u(e,["mode"],l);const o=s(n,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function bC(n){const e={},l=s(n,["latitude"]);l!=null&&u(e,["latitude"],l);const o=s(n,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function wC(n){const e={},l=s(n,["latLng"]);l!=null&&u(e,["latLng"],bC(l));const o=s(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function RC(n){const e={},l=s(n,["functionCallingConfig"]);l!=null&&u(e,["functionCallingConfig"],MC(l));const o=s(n,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],wC(o)),e}function NC(n){const e={},l=s(n,["voiceName"]);return l!=null&&u(e,["voiceName"],l),e}function Sp(n){const e={},l=s(n,["prebuiltVoiceConfig"]);return l!=null&&u(e,["prebuiltVoiceConfig"],NC(l)),e}function DC(n){const e={},l=s(n,["speaker"]);l!=null&&u(e,["speaker"],l);const o=s(n,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],Sp(o)),e}function UC(n){const e={},l=s(n,["speakerVoiceConfigs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>DC(r))),u(e,["speakerVoiceConfigs"],o)}return e}function kC(n){const e={},l=s(n,["voiceConfig"]);l!=null&&u(e,["voiceConfig"],Sp(l));const o=s(n,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],UC(o));const r=s(n,["languageCode"]);return r!=null&&u(e,["languageCode"],r),e}function IC(n){const e={},l=s(n,["includeThoughts"]);l!=null&&u(e,["includeThoughts"],l);const o=s(n,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function LC(n,e,l){const o={},r=s(e,["systemInstruction"]);l!==void 0&&r!=null&&u(l,["systemInstruction"],$a(St(r)));const c=s(e,["temperature"]);c!=null&&u(o,["temperature"],c);const m=s(e,["topP"]);m!=null&&u(o,["topP"],m);const h=s(e,["topK"]);h!=null&&u(o,["topK"],h);const v=s(e,["candidateCount"]);v!=null&&u(o,["candidateCount"],v);const p=s(e,["maxOutputTokens"]);p!=null&&u(o,["maxOutputTokens"],p);const g=s(e,["stopSequences"]);g!=null&&u(o,["stopSequences"],g);const T=s(e,["responseLogprobs"]);T!=null&&u(o,["responseLogprobs"],T);const C=s(e,["logprobs"]);C!=null&&u(o,["logprobs"],C);const S=s(e,["presencePenalty"]);S!=null&&u(o,["presencePenalty"],S);const b=s(e,["frequencyPenalty"]);b!=null&&u(o,["frequencyPenalty"],b);const D=s(e,["seed"]);D!=null&&u(o,["seed"],D);const L=s(e,["responseMimeType"]);L!=null&&u(o,["responseMimeType"],L);const U=s(e,["responseSchema"]);U!=null&&u(o,["responseSchema"],yC(Ru(U)));const J=s(e,["responseJsonSchema"]);if(J!=null&&u(o,["responseJsonSchema"],J),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=s(e,["safetySettings"]);if(l!==void 0&&O!=null){let G=O;Array.isArray(G)&&(G=G.map(q=>vC(q))),u(l,["safetySettings"],G)}const P=s(e,["tools"]);if(l!==void 0&&P!=null){let G=Cl(P);Array.isArray(G)&&(G=G.map(q=>_C(Tl(q)))),u(l,["tools"],G)}const H=s(e,["toolConfig"]);if(l!==void 0&&H!=null&&u(l,["toolConfig"],RC(H)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=s(e,["cachedContent"]);l!==void 0&&k!=null&&u(l,["cachedContent"],In(n,k));const W=s(e,["responseModalities"]);W!=null&&u(o,["responseModalities"],W);const N=s(e,["mediaResolution"]);N!=null&&u(o,["mediaResolution"],N);const R=s(e,["speechConfig"]);if(R!=null&&u(o,["speechConfig"],kC(Nu(R))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=s(e,["thinkingConfig"]);return V!=null&&u(o,["thinkingConfig"],IC(V)),o}function qh(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","model"],Ve(n,o));const r=s(e,["contents"]);if(r!=null){let m=nn(r);Array.isArray(m)&&(m=m.map(h=>$a(h))),u(l,["contents"],m)}const c=s(e,["config"]);return c!=null&&u(l,["generationConfig"],LC(n,c,l)),l}function VC(n,e){const l={},o=s(n,["taskType"]);e!==void 0&&o!=null&&u(e,["requests[]","taskType"],o);const r=s(n,["title"]);e!==void 0&&r!=null&&u(e,["requests[]","title"],r);const c=s(n,["outputDimensionality"]);if(e!==void 0&&c!=null&&u(e,["requests[]","outputDimensionality"],c),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function GC(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","model"],Ve(n,o));const r=s(e,["contents"]);r!=null&&u(l,["requests[]","content"],op(n,r));const c=s(e,["config"]);c!=null&&u(l,["config"],VC(c,l));const m=s(e,["model"]);return m!==void 0&&u(l,["requests[]","model"],Ve(n,m)),l}function qC(n,e){const l={};if(s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=s(n,["numberOfImages"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const r=s(n,["aspectRatio"]);e!==void 0&&r!=null&&u(e,["parameters","aspectRatio"],r);const c=s(n,["guidanceScale"]);if(e!==void 0&&c!=null&&u(e,["parameters","guidanceScale"],c),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=s(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&u(e,["parameters","safetySetting"],m);const h=s(n,["personGeneration"]);e!==void 0&&h!=null&&u(e,["parameters","personGeneration"],h);const v=s(n,["includeSafetyAttributes"]);e!==void 0&&v!=null&&u(e,["parameters","includeSafetyAttributes"],v);const p=s(n,["includeRaiReason"]);e!==void 0&&p!=null&&u(e,["parameters","includeRaiReason"],p);const g=s(n,["language"]);e!==void 0&&g!=null&&u(e,["parameters","language"],g);const T=s(n,["outputMimeType"]);e!==void 0&&T!=null&&u(e,["parameters","outputOptions","mimeType"],T);const C=s(n,["outputCompressionQuality"]);if(e!==void 0&&C!=null&&u(e,["parameters","outputOptions","compressionQuality"],C),s(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function BC(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","model"],Ve(n,o));const r=s(e,["prompt"]);r!=null&&u(l,["instances[0]","prompt"],r);const c=s(e,["config"]);return c!=null&&u(l,["config"],qC(c,l)),l}function PC(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","name"],Ve(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],r),l}function HC(n,e,l){const o={},r=s(e,["pageSize"]);l!==void 0&&r!=null&&u(l,["_query","pageSize"],r);const c=s(e,["pageToken"]);l!==void 0&&c!=null&&u(l,["_query","pageToken"],c);const m=s(e,["filter"]);l!==void 0&&m!=null&&u(l,["_query","filter"],m);const h=s(e,["queryBase"]);return l!==void 0&&h!=null&&u(l,["_url","models_url"],sp(n,h)),o}function zC(n,e){const l={},o=s(e,["config"]);return o!=null&&u(l,["config"],HC(n,o,l)),l}function FC(n,e){const l={},o=s(n,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const r=s(n,["description"]);e!==void 0&&r!=null&&u(e,["description"],r);const c=s(n,["defaultCheckpointId"]);return e!==void 0&&c!=null&&u(e,["defaultCheckpointId"],c),l}function OC(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","name"],Ve(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],FC(r,l)),l}function YC(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","name"],Ve(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],r),l}function JC(n){const e={};if(s(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function KC(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","model"],Ve(n,o));const r=s(e,["contents"]);if(r!=null){let m=nn(r);Array.isArray(m)&&(m=m.map(h=>$a(h))),u(l,["contents"],m)}const c=s(e,["config"]);return c!=null&&u(l,["config"],JC(c)),l}function QC(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=s(n,["imageBytes"]);l!=null&&u(e,["bytesBase64Encoded"],Ln(l));const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function XC(n,e){const l={},o=s(n,["numberOfVideos"]);if(e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o),s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=s(n,["durationSeconds"]);if(e!==void 0&&r!=null&&u(e,["parameters","durationSeconds"],r),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=s(n,["aspectRatio"]);if(e!==void 0&&c!=null&&u(e,["parameters","aspectRatio"],c),s(n,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const m=s(n,["personGeneration"]);if(e!==void 0&&m!=null&&u(e,["parameters","personGeneration"],m),s(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=s(n,["negativePrompt"]);e!==void 0&&h!=null&&u(e,["parameters","negativePrompt"],h);const v=s(n,["enhancePrompt"]);if(e!==void 0&&v!=null&&u(e,["parameters","enhancePrompt"],v),s(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(s(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(s(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function ZC(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","model"],Ve(n,o));const r=s(e,["prompt"]);r!=null&&u(l,["instances[0]","prompt"],r);const c=s(e,["image"]);if(c!=null&&u(l,["instances[0]","image"],QC(c)),s(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const m=s(e,["config"]);return m!=null&&u(l,["config"],XC(m,l)),l}function $C(n){const e={},l=s(n,["fps"]);l!=null&&u(e,["fps"],l);const o=s(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const r=s(n,["startOffset"]);return r!=null&&u(e,["startOffset"],r),e}function WC(n){const e={},l=s(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=s(n,["data"]);o!=null&&u(e,["data"],o);const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function jC(n){const e={},l=s(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=s(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function ex(n){const e={},l=s(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],$C(l));const o=s(n,["thought"]);o!=null&&u(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&u(e,["inlineData"],WC(r));const c=s(n,["fileData"]);c!=null&&u(e,["fileData"],jC(c));const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=s(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const v=s(n,["executableCode"]);v!=null&&u(e,["executableCode"],v);const p=s(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const g=s(n,["functionResponse"]);g!=null&&u(e,["functionResponse"],g);const T=s(n,["text"]);return T!=null&&u(e,["text"],T),e}function Sl(n){const e={},l=s(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>ex(c))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function tx(n){const e={},l=s(n,["anyOf"]);l!=null&&u(e,["anyOf"],l);const o=s(n,["default"]);o!=null&&u(e,["default"],o);const r=s(n,["description"]);r!=null&&u(e,["description"],r);const c=s(n,["enum"]);c!=null&&u(e,["enum"],c);const m=s(n,["example"]);m!=null&&u(e,["example"],m);const h=s(n,["format"]);h!=null&&u(e,["format"],h);const v=s(n,["items"]);v!=null&&u(e,["items"],v);const p=s(n,["maxItems"]);p!=null&&u(e,["maxItems"],p);const g=s(n,["maxLength"]);g!=null&&u(e,["maxLength"],g);const T=s(n,["maxProperties"]);T!=null&&u(e,["maxProperties"],T);const C=s(n,["maximum"]);C!=null&&u(e,["maximum"],C);const S=s(n,["minItems"]);S!=null&&u(e,["minItems"],S);const b=s(n,["minLength"]);b!=null&&u(e,["minLength"],b);const D=s(n,["minProperties"]);D!=null&&u(e,["minProperties"],D);const L=s(n,["minimum"]);L!=null&&u(e,["minimum"],L);const U=s(n,["nullable"]);U!=null&&u(e,["nullable"],U);const J=s(n,["pattern"]);J!=null&&u(e,["pattern"],J);const O=s(n,["properties"]);O!=null&&u(e,["properties"],O);const P=s(n,["propertyOrdering"]);P!=null&&u(e,["propertyOrdering"],P);const H=s(n,["required"]);H!=null&&u(e,["required"],H);const k=s(n,["title"]);k!=null&&u(e,["title"],k);const W=s(n,["type"]);return W!=null&&u(e,["type"],W),e}function nx(n){const e={},l=s(n,["featureSelectionPreference"]);return l!=null&&u(e,["featureSelectionPreference"],l),e}function ix(n){const e={},l=s(n,["method"]);l!=null&&u(e,["method"],l);const o=s(n,["category"]);o!=null&&u(e,["category"],o);const r=s(n,["threshold"]);return r!=null&&u(e,["threshold"],r),e}function lx(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=s(n,["description"]);l!=null&&u(e,["description"],l);const o=s(n,["name"]);o!=null&&u(e,["name"],o);const r=s(n,["parameters"]);r!=null&&u(e,["parameters"],r);const c=s(n,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const m=s(n,["response"]);m!=null&&u(e,["response"],m);const h=s(n,["responseJsonSchema"]);return h!=null&&u(e,["responseJsonSchema"],h),e}function ox(n){const e={},l=s(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=s(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function ax(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],ox(l)),e}function rx(n){const e={},l=s(n,["mode"]);l!=null&&u(e,["mode"],l);const o=s(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function sx(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],rx(l)),e}function ux(){return{}}function fx(n){const e={},l=s(n,["apiKeyString"]);return l!=null&&u(e,["apiKeyString"],l),e}function cx(n){const e={},l=s(n,["apiKeyConfig"]);l!=null&&u(e,["apiKeyConfig"],fx(l));const o=s(n,["authType"]);o!=null&&u(e,["authType"],o);const r=s(n,["googleServiceAccountConfig"]);r!=null&&u(e,["googleServiceAccountConfig"],r);const c=s(n,["httpBasicAuthConfig"]);c!=null&&u(e,["httpBasicAuthConfig"],c);const m=s(n,["oauthConfig"]);m!=null&&u(e,["oauthConfig"],m);const h=s(n,["oidcConfig"]);return h!=null&&u(e,["oidcConfig"],h),e}function dx(n){const e={},l=s(n,["authConfig"]);return l!=null&&u(e,["authConfig"],cx(l)),e}function mx(){return{}}function Ep(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let T=l;Array.isArray(T)&&(T=T.map(C=>lx(C))),u(e,["functionDeclarations"],T)}const o=s(n,["retrieval"]);o!=null&&u(e,["retrieval"],o);const r=s(n,["googleSearch"]);r!=null&&u(e,["googleSearch"],ax(r));const c=s(n,["googleSearchRetrieval"]);c!=null&&u(e,["googleSearchRetrieval"],sx(c)),s(n,["enterpriseWebSearch"])!=null&&u(e,["enterpriseWebSearch"],ux());const h=s(n,["googleMaps"]);h!=null&&u(e,["googleMaps"],dx(h)),s(n,["urlContext"])!=null&&u(e,["urlContext"],mx());const p=s(n,["codeExecution"]);p!=null&&u(e,["codeExecution"],p);const g=s(n,["computerUse"]);return g!=null&&u(e,["computerUse"],g),e}function hx(n){const e={},l=s(n,["mode"]);l!=null&&u(e,["mode"],l);const o=s(n,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function px(n){const e={},l=s(n,["latitude"]);l!=null&&u(e,["latitude"],l);const o=s(n,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function gx(n){const e={},l=s(n,["latLng"]);l!=null&&u(e,["latLng"],px(l));const o=s(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function yx(n){const e={},l=s(n,["functionCallingConfig"]);l!=null&&u(e,["functionCallingConfig"],hx(l));const o=s(n,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],gx(o)),e}function vx(n){const e={},l=s(n,["voiceName"]);return l!=null&&u(e,["voiceName"],l),e}function Tx(n){const e={},l=s(n,["prebuiltVoiceConfig"]);return l!=null&&u(e,["prebuiltVoiceConfig"],vx(l)),e}function Cx(n){const e={},l=s(n,["voiceConfig"]);if(l!=null&&u(e,["voiceConfig"],Tx(l)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=s(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function xx(n){const e={},l=s(n,["includeThoughts"]);l!=null&&u(e,["includeThoughts"],l);const o=s(n,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function Sx(n,e,l){const o={},r=s(e,["systemInstruction"]);l!==void 0&&r!=null&&u(l,["systemInstruction"],Sl(St(r)));const c=s(e,["temperature"]);c!=null&&u(o,["temperature"],c);const m=s(e,["topP"]);m!=null&&u(o,["topP"],m);const h=s(e,["topK"]);h!=null&&u(o,["topK"],h);const v=s(e,["candidateCount"]);v!=null&&u(o,["candidateCount"],v);const p=s(e,["maxOutputTokens"]);p!=null&&u(o,["maxOutputTokens"],p);const g=s(e,["stopSequences"]);g!=null&&u(o,["stopSequences"],g);const T=s(e,["responseLogprobs"]);T!=null&&u(o,["responseLogprobs"],T);const C=s(e,["logprobs"]);C!=null&&u(o,["logprobs"],C);const S=s(e,["presencePenalty"]);S!=null&&u(o,["presencePenalty"],S);const b=s(e,["frequencyPenalty"]);b!=null&&u(o,["frequencyPenalty"],b);const D=s(e,["seed"]);D!=null&&u(o,["seed"],D);const L=s(e,["responseMimeType"]);L!=null&&u(o,["responseMimeType"],L);const U=s(e,["responseSchema"]);U!=null&&u(o,["responseSchema"],tx(Ru(U)));const J=s(e,["responseJsonSchema"]);J!=null&&u(o,["responseJsonSchema"],J);const O=s(e,["routingConfig"]);O!=null&&u(o,["routingConfig"],O);const P=s(e,["modelSelectionConfig"]);P!=null&&u(o,["modelConfig"],nx(P));const H=s(e,["safetySettings"]);if(l!==void 0&&H!=null){let K=H;Array.isArray(K)&&(K=K.map(E=>ix(E))),u(l,["safetySettings"],K)}const k=s(e,["tools"]);if(l!==void 0&&k!=null){let K=Cl(k);Array.isArray(K)&&(K=K.map(E=>Ep(Tl(E)))),u(l,["tools"],K)}const W=s(e,["toolConfig"]);l!==void 0&&W!=null&&u(l,["toolConfig"],yx(W));const N=s(e,["labels"]);l!==void 0&&N!=null&&u(l,["labels"],N);const R=s(e,["cachedContent"]);l!==void 0&&R!=null&&u(l,["cachedContent"],In(n,R));const V=s(e,["responseModalities"]);V!=null&&u(o,["responseModalities"],V);const G=s(e,["mediaResolution"]);G!=null&&u(o,["mediaResolution"],G);const q=s(e,["speechConfig"]);q!=null&&u(o,["speechConfig"],Cx(Nu(q)));const X=s(e,["audioTimestamp"]);X!=null&&u(o,["audioTimestamp"],X);const z=s(e,["thinkingConfig"]);return z!=null&&u(o,["thinkingConfig"],xx(z)),o}function Bh(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","model"],Ve(n,o));const r=s(e,["contents"]);if(r!=null){let m=nn(r);Array.isArray(m)&&(m=m.map(h=>Sl(h))),u(l,["contents"],m)}const c=s(e,["config"]);return c!=null&&u(l,["generationConfig"],Sx(n,c,l)),l}function Ex(n,e){const l={},o=s(n,["taskType"]);e!==void 0&&o!=null&&u(e,["instances[]","task_type"],o);const r=s(n,["title"]);e!==void 0&&r!=null&&u(e,["instances[]","title"],r);const c=s(n,["outputDimensionality"]);e!==void 0&&c!=null&&u(e,["parameters","outputDimensionality"],c);const m=s(n,["mimeType"]);e!==void 0&&m!=null&&u(e,["instances[]","mimeType"],m);const h=s(n,["autoTruncate"]);return e!==void 0&&h!=null&&u(e,["parameters","autoTruncate"],h),l}function Ax(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","model"],Ve(n,o));const r=s(e,["contents"]);r!=null&&u(l,["instances[]","content"],op(n,r));const c=s(e,["config"]);return c!=null&&u(l,["config"],Ex(c,l)),l}function _x(n,e){const l={},o=s(n,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const r=s(n,["negativePrompt"]);e!==void 0&&r!=null&&u(e,["parameters","negativePrompt"],r);const c=s(n,["numberOfImages"]);e!==void 0&&c!=null&&u(e,["parameters","sampleCount"],c);const m=s(n,["aspectRatio"]);e!==void 0&&m!=null&&u(e,["parameters","aspectRatio"],m);const h=s(n,["guidanceScale"]);e!==void 0&&h!=null&&u(e,["parameters","guidanceScale"],h);const v=s(n,["seed"]);e!==void 0&&v!=null&&u(e,["parameters","seed"],v);const p=s(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&u(e,["parameters","safetySetting"],p);const g=s(n,["personGeneration"]);e!==void 0&&g!=null&&u(e,["parameters","personGeneration"],g);const T=s(n,["includeSafetyAttributes"]);e!==void 0&&T!=null&&u(e,["parameters","includeSafetyAttributes"],T);const C=s(n,["includeRaiReason"]);e!==void 0&&C!=null&&u(e,["parameters","includeRaiReason"],C);const S=s(n,["language"]);e!==void 0&&S!=null&&u(e,["parameters","language"],S);const b=s(n,["outputMimeType"]);e!==void 0&&b!=null&&u(e,["parameters","outputOptions","mimeType"],b);const D=s(n,["outputCompressionQuality"]);e!==void 0&&D!=null&&u(e,["parameters","outputOptions","compressionQuality"],D);const L=s(n,["addWatermark"]);e!==void 0&&L!=null&&u(e,["parameters","addWatermark"],L);const U=s(n,["enhancePrompt"]);return e!==void 0&&U!=null&&u(e,["parameters","enhancePrompt"],U),l}function Mx(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","model"],Ve(n,o));const r=s(e,["prompt"]);r!=null&&u(l,["instances[0]","prompt"],r);const c=s(e,["config"]);return c!=null&&u(l,["config"],_x(c,l)),l}function Wa(n){const e={},l=s(n,["gcsUri"]);l!=null&&u(e,["gcsUri"],l);const o=s(n,["imageBytes"]);o!=null&&u(e,["bytesBase64Encoded"],Ln(o));const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function bx(n){const e={},l=s(n,["maskMode"]);l!=null&&u(e,["maskMode"],l);const o=s(n,["segmentationClasses"]);o!=null&&u(e,["maskClasses"],o);const r=s(n,["maskDilation"]);return r!=null&&u(e,["dilation"],r),e}function wx(n){const e={},l=s(n,["controlType"]);l!=null&&u(e,["controlType"],l);const o=s(n,["enableControlImageComputation"]);return o!=null&&u(e,["computeControl"],o),e}function Rx(n){const e={},l=s(n,["styleDescription"]);return l!=null&&u(e,["styleDescription"],l),e}function Nx(n){const e={},l=s(n,["subjectType"]);l!=null&&u(e,["subjectType"],l);const o=s(n,["subjectDescription"]);return o!=null&&u(e,["subjectDescription"],o),e}function Dx(n){const e={},l=s(n,["referenceImage"]);l!=null&&u(e,["referenceImage"],Wa(l));const o=s(n,["referenceId"]);o!=null&&u(e,["referenceId"],o);const r=s(n,["referenceType"]);r!=null&&u(e,["referenceType"],r);const c=s(n,["maskImageConfig"]);c!=null&&u(e,["maskImageConfig"],bx(c));const m=s(n,["controlImageConfig"]);m!=null&&u(e,["controlImageConfig"],wx(m));const h=s(n,["styleImageConfig"]);h!=null&&u(e,["styleImageConfig"],Rx(h));const v=s(n,["subjectImageConfig"]);return v!=null&&u(e,["subjectImageConfig"],Nx(v)),e}function Ux(n,e){const l={},o=s(n,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const r=s(n,["negativePrompt"]);e!==void 0&&r!=null&&u(e,["parameters","negativePrompt"],r);const c=s(n,["numberOfImages"]);e!==void 0&&c!=null&&u(e,["parameters","sampleCount"],c);const m=s(n,["aspectRatio"]);e!==void 0&&m!=null&&u(e,["parameters","aspectRatio"],m);const h=s(n,["guidanceScale"]);e!==void 0&&h!=null&&u(e,["parameters","guidanceScale"],h);const v=s(n,["seed"]);e!==void 0&&v!=null&&u(e,["parameters","seed"],v);const p=s(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&u(e,["parameters","safetySetting"],p);const g=s(n,["personGeneration"]);e!==void 0&&g!=null&&u(e,["parameters","personGeneration"],g);const T=s(n,["includeSafetyAttributes"]);e!==void 0&&T!=null&&u(e,["parameters","includeSafetyAttributes"],T);const C=s(n,["includeRaiReason"]);e!==void 0&&C!=null&&u(e,["parameters","includeRaiReason"],C);const S=s(n,["language"]);e!==void 0&&S!=null&&u(e,["parameters","language"],S);const b=s(n,["outputMimeType"]);e!==void 0&&b!=null&&u(e,["parameters","outputOptions","mimeType"],b);const D=s(n,["outputCompressionQuality"]);e!==void 0&&D!=null&&u(e,["parameters","outputOptions","compressionQuality"],D);const L=s(n,["addWatermark"]);e!==void 0&&L!=null&&u(e,["parameters","addWatermark"],L);const U=s(n,["editMode"]);e!==void 0&&U!=null&&u(e,["parameters","editMode"],U);const J=s(n,["baseSteps"]);return e!==void 0&&J!=null&&u(e,["parameters","editConfig","baseSteps"],J),l}function kx(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","model"],Ve(n,o));const r=s(e,["prompt"]);r!=null&&u(l,["instances[0]","prompt"],r);const c=s(e,["referenceImages"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(v=>Dx(v))),u(l,["instances[0]","referenceImages"],h)}const m=s(e,["config"]);return m!=null&&u(l,["config"],Ux(m,l)),l}function Ix(n,e){const l={},o=s(n,["includeRaiReason"]);e!==void 0&&o!=null&&u(e,["parameters","includeRaiReason"],o);const r=s(n,["outputMimeType"]);e!==void 0&&r!=null&&u(e,["parameters","outputOptions","mimeType"],r);const c=s(n,["outputCompressionQuality"]);e!==void 0&&c!=null&&u(e,["parameters","outputOptions","compressionQuality"],c);const m=s(n,["enhanceInputImage"]);e!==void 0&&m!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],m);const h=s(n,["imagePreservationFactor"]);e!==void 0&&h!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const v=s(n,["numberOfImages"]);e!==void 0&&v!=null&&u(e,["parameters","sampleCount"],v);const p=s(n,["mode"]);return e!==void 0&&p!=null&&u(e,["parameters","mode"],p),l}function Lx(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","model"],Ve(n,o));const r=s(e,["image"]);r!=null&&u(l,["instances[0]","image"],Wa(r));const c=s(e,["upscaleFactor"]);c!=null&&u(l,["parameters","upscaleConfig","upscaleFactor"],c);const m=s(e,["config"]);return m!=null&&u(l,["config"],Ix(m,l)),l}function Vx(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","name"],Ve(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],r),l}function Gx(n,e,l){const o={},r=s(e,["pageSize"]);l!==void 0&&r!=null&&u(l,["_query","pageSize"],r);const c=s(e,["pageToken"]);l!==void 0&&c!=null&&u(l,["_query","pageToken"],c);const m=s(e,["filter"]);l!==void 0&&m!=null&&u(l,["_query","filter"],m);const h=s(e,["queryBase"]);return l!==void 0&&h!=null&&u(l,["_url","models_url"],sp(n,h)),o}function qx(n,e){const l={},o=s(e,["config"]);return o!=null&&u(l,["config"],Gx(n,o,l)),l}function Bx(n,e){const l={},o=s(n,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const r=s(n,["description"]);e!==void 0&&r!=null&&u(e,["description"],r);const c=s(n,["defaultCheckpointId"]);return e!==void 0&&c!=null&&u(e,["defaultCheckpointId"],c),l}function Px(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","model"],Ve(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],Bx(r,l)),l}function Hx(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","name"],Ve(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],r),l}function zx(n,e){const l={},o=s(n,["systemInstruction"]);e!==void 0&&o!=null&&u(e,["systemInstruction"],Sl(St(o)));const r=s(n,["tools"]);if(e!==void 0&&r!=null){let m=r;Array.isArray(m)&&(m=m.map(h=>Ep(h))),u(e,["tools"],m)}const c=s(n,["generationConfig"]);return e!==void 0&&c!=null&&u(e,["generationConfig"],c),l}function Fx(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","model"],Ve(n,o));const r=s(e,["contents"]);if(r!=null){let m=nn(r);Array.isArray(m)&&(m=m.map(h=>Sl(h))),u(l,["contents"],m)}const c=s(e,["config"]);return c!=null&&u(l,["config"],zx(c,l)),l}function Ox(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","model"],Ve(n,o));const r=s(e,["contents"]);if(r!=null){let m=nn(r);Array.isArray(m)&&(m=m.map(h=>Sl(h))),u(l,["contents"],m)}const c=s(e,["config"]);return c!=null&&u(l,["config"],c),l}function Yx(n){const e={},l=s(n,["uri"]);l!=null&&u(e,["gcsUri"],l);const o=s(n,["videoBytes"]);o!=null&&u(e,["bytesBase64Encoded"],Ln(o));const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function Jx(n,e){const l={},o=s(n,["numberOfVideos"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const r=s(n,["outputGcsUri"]);e!==void 0&&r!=null&&u(e,["parameters","storageUri"],r);const c=s(n,["fps"]);e!==void 0&&c!=null&&u(e,["parameters","fps"],c);const m=s(n,["durationSeconds"]);e!==void 0&&m!=null&&u(e,["parameters","durationSeconds"],m);const h=s(n,["seed"]);e!==void 0&&h!=null&&u(e,["parameters","seed"],h);const v=s(n,["aspectRatio"]);e!==void 0&&v!=null&&u(e,["parameters","aspectRatio"],v);const p=s(n,["resolution"]);e!==void 0&&p!=null&&u(e,["parameters","resolution"],p);const g=s(n,["personGeneration"]);e!==void 0&&g!=null&&u(e,["parameters","personGeneration"],g);const T=s(n,["pubsubTopic"]);e!==void 0&&T!=null&&u(e,["parameters","pubsubTopic"],T);const C=s(n,["negativePrompt"]);e!==void 0&&C!=null&&u(e,["parameters","negativePrompt"],C);const S=s(n,["enhancePrompt"]);e!==void 0&&S!=null&&u(e,["parameters","enhancePrompt"],S);const b=s(n,["generateAudio"]);e!==void 0&&b!=null&&u(e,["parameters","generateAudio"],b);const D=s(n,["lastFrame"]);e!==void 0&&D!=null&&u(e,["instances[0]","lastFrame"],Wa(D));const L=s(n,["compressionQuality"]);return e!==void 0&&L!=null&&u(e,["parameters","compressionQuality"],L),l}function Kx(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["_url","model"],Ve(n,o));const r=s(e,["prompt"]);r!=null&&u(l,["instances[0]","prompt"],r);const c=s(e,["image"]);c!=null&&u(l,["instances[0]","image"],Wa(c));const m=s(e,["video"]);m!=null&&u(l,["instances[0]","video"],Yx(m));const h=s(e,["config"]);return h!=null&&u(l,["config"],Jx(h,l)),l}function Qx(n){const e={},l=s(n,["fps"]);l!=null&&u(e,["fps"],l);const o=s(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const r=s(n,["startOffset"]);return r!=null&&u(e,["startOffset"],r),e}function Xx(n){const e={},l=s(n,["data"]);l!=null&&u(e,["data"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Zx(n){const e={},l=s(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function $x(n){const e={},l=s(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],Qx(l));const o=s(n,["thought"]);o!=null&&u(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&u(e,["inlineData"],Xx(r));const c=s(n,["fileData"]);c!=null&&u(e,["fileData"],Zx(c));const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=s(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const v=s(n,["executableCode"]);v!=null&&u(e,["executableCode"],v);const p=s(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const g=s(n,["functionResponse"]);g!=null&&u(e,["functionResponse"],g);const T=s(n,["text"]);return T!=null&&u(e,["text"],T),e}function Wx(n){const e={},l=s(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>$x(c))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function jx(n){const e={},l=s(n,["citationSources"]);return l!=null&&u(e,["citations"],l),e}function eS(n){const e={},l=s(n,["retrievedUrl"]);l!=null&&u(e,["retrievedUrl"],l);const o=s(n,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function tS(n){const e={},l=s(n,["urlMetadata"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>eS(r))),u(e,["urlMetadata"],o)}return e}function nS(n){const e={},l=s(n,["content"]);l!=null&&u(e,["content"],Wx(l));const o=s(n,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],jx(o));const r=s(n,["tokenCount"]);r!=null&&u(e,["tokenCount"],r);const c=s(n,["finishReason"]);c!=null&&u(e,["finishReason"],c);const m=s(n,["urlContextMetadata"]);m!=null&&u(e,["urlContextMetadata"],tS(m));const h=s(n,["avgLogprobs"]);h!=null&&u(e,["avgLogprobs"],h);const v=s(n,["groundingMetadata"]);v!=null&&u(e,["groundingMetadata"],v);const p=s(n,["index"]);p!=null&&u(e,["index"],p);const g=s(n,["logprobsResult"]);g!=null&&u(e,["logprobsResult"],g);const T=s(n,["safetyRatings"]);return T!=null&&u(e,["safetyRatings"],T),e}function Ph(n){const e={},l=s(n,["sdkHttpResponse"]);l!=null&&u(e,["sdkHttpResponse"],l);const o=s(n,["candidates"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(v=>nS(v))),u(e,["candidates"],h)}const r=s(n,["modelVersion"]);r!=null&&u(e,["modelVersion"],r);const c=s(n,["promptFeedback"]);c!=null&&u(e,["promptFeedback"],c);const m=s(n,["usageMetadata"]);return m!=null&&u(e,["usageMetadata"],m),e}function iS(n){const e={},l=s(n,["values"]);return l!=null&&u(e,["values"],l),e}function lS(){return{}}function oS(n){const e={},l=s(n,["embeddings"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>iS(c))),u(e,["embeddings"],r)}return s(n,["metadata"])!=null&&u(e,["metadata"],lS()),e}function aS(n){const e={},l=s(n,["bytesBase64Encoded"]);l!=null&&u(e,["imageBytes"],Ln(l));const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Ap(n){const e={},l=s(n,["safetyAttributes","categories"]);l!=null&&u(e,["categories"],l);const o=s(n,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const r=s(n,["contentType"]);return r!=null&&u(e,["contentType"],r),e}function rS(n){const e={},l=s(n,["_self"]);l!=null&&u(e,["image"],aS(l));const o=s(n,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const r=s(n,["_self"]);return r!=null&&u(e,["safetyAttributes"],Ap(r)),e}function sS(n){const e={},l=s(n,["predictions"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>rS(c))),u(e,["generatedImages"],r)}const o=s(n,["positivePromptSafetyAttributes"]);return o!=null&&u(e,["positivePromptSafetyAttributes"],Ap(o)),e}function uS(n){const e={},l=s(n,["baseModel"]);l!=null&&u(e,["baseModel"],l);const o=s(n,["createTime"]);o!=null&&u(e,["createTime"],o);const r=s(n,["updateTime"]);return r!=null&&u(e,["updateTime"],r),e}function Au(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const r=s(n,["description"]);r!=null&&u(e,["description"],r);const c=s(n,["version"]);c!=null&&u(e,["version"],c);const m=s(n,["_self"]);m!=null&&u(e,["tunedModelInfo"],uS(m));const h=s(n,["inputTokenLimit"]);h!=null&&u(e,["inputTokenLimit"],h);const v=s(n,["outputTokenLimit"]);v!=null&&u(e,["outputTokenLimit"],v);const p=s(n,["supportedGenerationMethods"]);return p!=null&&u(e,["supportedActions"],p),e}function fS(n){const e={},l=s(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=s(n,["_self"]);if(o!=null){let r=up(o);Array.isArray(r)&&(r=r.map(c=>Au(c))),u(e,["models"],r)}return e}function cS(){return{}}function dS(n){const e={},l=s(n,["totalTokens"]);l!=null&&u(e,["totalTokens"],l);const o=s(n,["cachedContentTokenCount"]);return o!=null&&u(e,["cachedContentTokenCount"],o),e}function mS(n){const e={},l=s(n,["video","uri"]);l!=null&&u(e,["uri"],l);const o=s(n,["video","encodedVideo"]);o!=null&&u(e,["videoBytes"],Ln(o));const r=s(n,["encoding"]);return r!=null&&u(e,["mimeType"],r),e}function hS(n){const e={},l=s(n,["_self"]);return l!=null&&u(e,["video"],mS(l)),e}function pS(n){const e={},l=s(n,["generatedSamples"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>hS(m))),u(e,["generatedVideos"],c)}const o=s(n,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const r=s(n,["raiMediaFilteredReasons"]);return r!=null&&u(e,["raiMediaFilteredReasons"],r),e}function gS(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["metadata"]);o!=null&&u(e,["metadata"],o);const r=s(n,["done"]);r!=null&&u(e,["done"],r);const c=s(n,["error"]);c!=null&&u(e,["error"],c);const m=s(n,["response","generateVideoResponse"]);return m!=null&&u(e,["response"],pS(m)),e}function yS(n){const e={},l=s(n,["fps"]);l!=null&&u(e,["fps"],l);const o=s(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const r=s(n,["startOffset"]);return r!=null&&u(e,["startOffset"],r),e}function vS(n){const e={},l=s(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=s(n,["data"]);o!=null&&u(e,["data"],o);const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function TS(n){const e={},l=s(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=s(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function CS(n){const e={},l=s(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],yS(l));const o=s(n,["thought"]);o!=null&&u(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&u(e,["inlineData"],vS(r));const c=s(n,["fileData"]);c!=null&&u(e,["fileData"],TS(c));const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=s(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const v=s(n,["executableCode"]);v!=null&&u(e,["executableCode"],v);const p=s(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const g=s(n,["functionResponse"]);g!=null&&u(e,["functionResponse"],g);const T=s(n,["text"]);return T!=null&&u(e,["text"],T),e}function xS(n){const e={},l=s(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>CS(c))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function SS(n){const e={},l=s(n,["citations"]);return l!=null&&u(e,["citations"],l),e}function ES(n){const e={},l=s(n,["retrievedUrl"]);l!=null&&u(e,["retrievedUrl"],l);const o=s(n,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function AS(n){const e={},l=s(n,["urlMetadata"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>ES(r))),u(e,["urlMetadata"],o)}return e}function _S(n){const e={},l=s(n,["content"]);l!=null&&u(e,["content"],xS(l));const o=s(n,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],SS(o));const r=s(n,["finishMessage"]);r!=null&&u(e,["finishMessage"],r);const c=s(n,["finishReason"]);c!=null&&u(e,["finishReason"],c);const m=s(n,["urlContextMetadata"]);m!=null&&u(e,["urlContextMetadata"],AS(m));const h=s(n,["avgLogprobs"]);h!=null&&u(e,["avgLogprobs"],h);const v=s(n,["groundingMetadata"]);v!=null&&u(e,["groundingMetadata"],v);const p=s(n,["index"]);p!=null&&u(e,["index"],p);const g=s(n,["logprobsResult"]);g!=null&&u(e,["logprobsResult"],g);const T=s(n,["safetyRatings"]);return T!=null&&u(e,["safetyRatings"],T),e}function Hh(n){const e={},l=s(n,["sdkHttpResponse"]);l!=null&&u(e,["sdkHttpResponse"],l);const o=s(n,["candidates"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(g=>_S(g))),u(e,["candidates"],p)}const r=s(n,["createTime"]);r!=null&&u(e,["createTime"],r);const c=s(n,["responseId"]);c!=null&&u(e,["responseId"],c);const m=s(n,["modelVersion"]);m!=null&&u(e,["modelVersion"],m);const h=s(n,["promptFeedback"]);h!=null&&u(e,["promptFeedback"],h);const v=s(n,["usageMetadata"]);return v!=null&&u(e,["usageMetadata"],v),e}function MS(n){const e={},l=s(n,["truncated"]);l!=null&&u(e,["truncated"],l);const o=s(n,["token_count"]);return o!=null&&u(e,["tokenCount"],o),e}function bS(n){const e={},l=s(n,["values"]);l!=null&&u(e,["values"],l);const o=s(n,["statistics"]);return o!=null&&u(e,["statistics"],MS(o)),e}function wS(n){const e={},l=s(n,["billableCharacterCount"]);return l!=null&&u(e,["billableCharacterCount"],l),e}function RS(n){const e={},l=s(n,["predictions[]","embeddings"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>bS(c))),u(e,["embeddings"],r)}const o=s(n,["metadata"]);return o!=null&&u(e,["metadata"],wS(o)),e}function NS(n){const e={},l=s(n,["gcsUri"]);l!=null&&u(e,["gcsUri"],l);const o=s(n,["bytesBase64Encoded"]);o!=null&&u(e,["imageBytes"],Ln(o));const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function _p(n){const e={},l=s(n,["safetyAttributes","categories"]);l!=null&&u(e,["categories"],l);const o=s(n,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const r=s(n,["contentType"]);return r!=null&&u(e,["contentType"],r),e}function Uu(n){const e={},l=s(n,["_self"]);l!=null&&u(e,["image"],NS(l));const o=s(n,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const r=s(n,["_self"]);r!=null&&u(e,["safetyAttributes"],_p(r));const c=s(n,["prompt"]);return c!=null&&u(e,["enhancedPrompt"],c),e}function DS(n){const e={},l=s(n,["predictions"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>Uu(c))),u(e,["generatedImages"],r)}const o=s(n,["positivePromptSafetyAttributes"]);return o!=null&&u(e,["positivePromptSafetyAttributes"],_p(o)),e}function US(n){const e={},l=s(n,["predictions"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>Uu(r))),u(e,["generatedImages"],o)}return e}function kS(n){const e={},l=s(n,["predictions"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>Uu(r))),u(e,["generatedImages"],o)}return e}function IS(n){const e={},l=s(n,["endpoint"]);l!=null&&u(e,["name"],l);const o=s(n,["deployedModelId"]);return o!=null&&u(e,["deployedModelId"],o),e}function LS(n){const e={},l=s(n,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&u(e,["baseModel"],l);const o=s(n,["createTime"]);o!=null&&u(e,["createTime"],o);const r=s(n,["updateTime"]);return r!=null&&u(e,["updateTime"],r),e}function VS(n){const e={},l=s(n,["checkpointId"]);l!=null&&u(e,["checkpointId"],l);const o=s(n,["epoch"]);o!=null&&u(e,["epoch"],o);const r=s(n,["step"]);return r!=null&&u(e,["step"],r),e}function _u(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["displayName"]);o!=null&&u(e,["displayName"],o);const r=s(n,["description"]);r!=null&&u(e,["description"],r);const c=s(n,["versionId"]);c!=null&&u(e,["version"],c);const m=s(n,["deployedModels"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(C=>IS(C))),u(e,["endpoints"],T)}const h=s(n,["labels"]);h!=null&&u(e,["labels"],h);const v=s(n,["_self"]);v!=null&&u(e,["tunedModelInfo"],LS(v));const p=s(n,["defaultCheckpointId"]);p!=null&&u(e,["defaultCheckpointId"],p);const g=s(n,["checkpoints"]);if(g!=null){let T=g;Array.isArray(T)&&(T=T.map(C=>VS(C))),u(e,["checkpoints"],T)}return e}function GS(n){const e={},l=s(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=s(n,["_self"]);if(o!=null){let r=up(o);Array.isArray(r)&&(r=r.map(c=>_u(c))),u(e,["models"],r)}return e}function qS(){return{}}function BS(n){const e={},l=s(n,["totalTokens"]);return l!=null&&u(e,["totalTokens"],l),e}function PS(n){const e={},l=s(n,["tokensInfo"]);return l!=null&&u(e,["tokensInfo"],l),e}function HS(n){const e={},l=s(n,["gcsUri"]);l!=null&&u(e,["uri"],l);const o=s(n,["bytesBase64Encoded"]);o!=null&&u(e,["videoBytes"],Ln(o));const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function zS(n){const e={},l=s(n,["_self"]);return l!=null&&u(e,["video"],HS(l)),e}function FS(n){const e={},l=s(n,["videos"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>zS(m))),u(e,["generatedVideos"],c)}const o=s(n,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const r=s(n,["raiMediaFilteredReasons"]);return r!=null&&u(e,["raiMediaFilteredReasons"],r),e}function OS(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["metadata"]);o!=null&&u(e,["metadata"],o);const r=s(n,["done"]);r!=null&&u(e,["done"],r);const c=s(n,["error"]);c!=null&&u(e,["error"],c);const m=s(n,["response"]);return m!=null&&u(e,["response"],FS(m)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YS="Content-Type",JS="X-Server-Timeout",KS="User-Agent",Mu="x-goog-api-client",QS="1.10.0",XS=`google-genai-sdk/${QS}`,ZS="v1beta1",$S="v1beta",zh=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class WS{constructor(e){var l,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:ZS,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:$S,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),l=new URL(e);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,l,o){const r=[this.getRequestUrlInternal(l)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let l=this.clientOptions.httpOptions;e.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,l,o);if(e.queryParams)for(const[m,h]of Object.entries(e.queryParams))r.searchParams.append(m,String(h));let c={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=e.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,l,e.abortSignal),this.unaryApiCall(r,c,e.httpMethod)}patchHttpOptions(e,l){const o=JSON.parse(JSON.stringify(e));for(const[r,c]of Object.entries(l))typeof c=="object"?o[r]=Object.assign(Object.assign({},o[r]),c):c!==void 0&&(o[r]=c);return o}async requestStream(e){let l=this.clientOptions.httpOptions;e.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,l,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let c={};return c.body=e.body,c=await this.includeExtraHttpOptionsToRequestInit(c,l,e.abortSignal),this.streamApiCall(r,c,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,l,o){if(l&&l.timeout||o){const r=new AbortController,c=r.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const m=setTimeout(()=>r.abort(),l.timeout);m&&typeof m.unref=="function"&&m.unref()}o&&o.addEventListener("abort",()=>{r.abort()}),e.signal=c}return l&&l.extraBody!==null&&jS(e,l.extraBody),e.headers=await this.getHeadersInternal(l),e}async unaryApiCall(e,l,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},l),{method:o})).then(async r=>(await Fh(r),new vu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,l,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},l),{method:o})).then(async r=>(await Fh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var l;return vl(this,arguments,function*(){const r=(l=e==null?void 0:e.body)===null||l===void 0?void 0:l.getReader(),c=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let m="";for(;;){const{done:h,value:v}=yield Ke(r.read());if(h){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=c.decode(v,{stream:!0});try{const T=JSON.parse(p);if("error"in T){const C=JSON.parse(JSON.stringify(T.error)),S=C.status,b=C.code,D=`got status: ${S}. ${JSON.stringify(T)}`;if(b>=400&&b<600)throw new Za({message:D,status:b})}}catch(T){if(T.name==="ApiError")throw T}m+=p;let g=m.match(zh);for(;g;){const T=g[1];try{const C=new Response(T,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ke(new vu(C)),m=m.slice(g[0].length),g=m.match(zh)}catch(C){throw new Error(`exception parsing stream chunk ${T}. ${C}`)}}}}finally{r.releaseLock()}})}async apiCall(e,l){return fetch(e,l).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},l=XS+" "+this.clientOptions.userAgentExtra;return e[KS]=l,e[Mu]=l,e[YS]="application/json",e}async getHeadersInternal(e){const l=new Headers;if(e&&e.headers){for(const[o,r]of Object.entries(e.headers))l.append(o,r);e.timeout&&e.timeout>0&&l.append(JS,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l),l}async uploadFile(e,l){var o;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const c=this.clientOptions.uploader,m=await c.stat(e);r.sizeBytes=String(m.size);const h=(o=l==null?void 0:l.mimeType)!==null&&o!==void 0?o:m.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=h;const v=await this.fetchUploadUrl(r,l);return c.upload(e,v,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,l){var o;let r={};l!=null&&l.httpOptions?r=l.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const c={file:e},m=await this.request({path:he("upload/v1beta/files",c._url),body:JSON.stringify(c),httpMethod:"POST",httpOptions:r});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(o=m==null?void 0:m.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function Fh(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const l=n.status;let o;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await n.json():o={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(o);throw l>=400&&l<600?new Za({message:r,status:l}):new Error(r)}}function jS(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof n.body=="string"&&n.body.length>0)try{const c=JSON.parse(n.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))l=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(c,m){const h=Object.assign({},c);for(const v in m)if(Object.prototype.hasOwnProperty.call(m,v)){const p=m[v],g=h[v];p&&typeof p=="object"&&!Array.isArray(p)&&g&&typeof g=="object"&&!Array.isArray(g)?h[v]=o(g,p):(g&&p&&typeof g!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${v}". Original type: ${typeof g}, New type: ${typeof p}. Overwriting.`),h[v]=p)}return h}const r=o(l,e);n.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eE="mcp_used/unknown";let tE=!1;function Mp(n){for(const e of n)if(ku(e)||typeof e=="object"&&"inputSchema"in e)return!0;return tE}function bp(n){var e;const l=(e=n[Mu])!==null&&e!==void 0?e:"";n[Mu]=(l+` ${eE}`).trimStart()}function nE(n){var e,l,o;return(o=(l=(e=n.config)===null||e===void 0?void 0:e.tools)===null||l===void 0?void 0:l.some(r=>ku(r)))!==null&&o!==void 0?o:!1}function iE(n){var e,l,o;return(o=(l=(e=n.config)===null||e===void 0?void 0:e.tools)===null||l===void 0?void 0:l.some(r=>!ku(r)))!==null&&o!==void 0?o:!1}function ku(n){return n!==null&&typeof n=="object"&&n instanceof Iu}function lE(n,e=100){return vl(this,arguments,function*(){let o,r=0;for(;r<e;){const c=yield Ke(n.listTools({cursor:o}));for(const m of c.tools)yield yield Ke(m),r++;if(!c.nextCursor)break;o=c.nextCursor}})}class Iu{constructor(e=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=l}static create(e,l){return new Iu(e,l)}async initialize(){var e,l,o,r;if(this.mcpTools.length>0)return;const c={},m=[];for(const g of this.mcpClients)try{for(var h=!0,v=(l=void 0,Ao(lE(g))),p;p=await v.next(),e=p.done,!e;h=!0){r=p.value,h=!1;const T=r;m.push(T);const C=T.name;if(c[C])throw new Error(`Duplicate function name ${C} found in MCP tools. Please ensure function names are unique.`);c[C]=g}}catch(T){l={error:T}}finally{try{!h&&!e&&(o=v.return)&&await o.call(v)}finally{if(l)throw l.error}}this.mcpTools=m,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),Wy(this.mcpTools,this.config)}async callTool(e){await this.initialize();const l=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const m=await r.callTool({name:o.name,arguments:o.args},void 0,c);l.push({functionResponse:{name:o.name,response:m.isError?{error:m}:m}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function oE(n,e,l){const o=new Oy;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data);const c=W2(r);Object.assign(o,c),e(o)}class aE{constructor(e,l,o){this.apiClient=e,this.auth=l,this.webSocketFactory=o}async connect(e){var l,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),m=uE(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),v=`${r}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${h}`;let p=()=>{};const g=new Promise(O=>{p=O}),T=e.callbacks,C=function(){p({})},S=this.apiClient,b={onopen:C,onmessage:O=>{oE(S,T.onmessage,O)},onerror:(l=T==null?void 0:T.onerror)!==null&&l!==void 0?l:function(O){},onclose:(o=T==null?void 0:T.onclose)!==null&&o!==void 0?o:function(O){}},D=this.webSocketFactory.create(v,sE(m),b);D.connect(),await g;const L=Ve(this.apiClient,e.model),U=Cp({model:L}),J=Eu({setup:U});return D.send(JSON.stringify(J)),new rE(D,this.apiClient)}}class rE{constructor(e,l){this.conn=e,this.apiClient=l}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=ZT(e),o=xp(l);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const l=$T(e),o=Eu(l);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const l=Eu({playbackControl:e});this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(pl.PLAY)}pause(){this.sendPlaybackControl(pl.PAUSE)}stop(){this.sendPlaybackControl(pl.STOP)}resetContext(){this.sendPlaybackControl(pl.RESET_CONTEXT)}close(){this.conn.close()}}function sE(n){const e={};return n.forEach((l,o)=>{e[o]=l}),e}function uE(n){const e=new Headers;for(const[l,o]of Object.entries(n))e.append(l,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function cE(n,e,l){const o=new Fy;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const c=JSON.parse(r);if(n.isVertexAI()){const m=dC(c);Object.assign(o,m)}else{const m=F2(c);Object.assign(o,m)}e(o)}class dE{constructor(e,l,o){this.apiClient=e,this.auth=l,this.webSocketFactory=o,this.music=new aE(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var l,o,r,c,m,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const v=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let g;const T=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&Mp(e.config.tools)&&bp(T);const C=gE(T);if(this.apiClient.isVertexAI())g=`${v}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C);else{const R=this.apiClient.getApiKey();let V="BidiGenerateContent",G="key";R!=null&&R.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),V="BidiGenerateContentConstrained",G="access_token"),g=`${v}/ws/google.ai.generativelanguage.${p}.GenerativeService.${V}?${G}=${R}`}let S=()=>{};const b=new Promise(R=>{S=R}),D=e.callbacks,L=function(){var R;(R=D==null?void 0:D.onopen)===null||R===void 0||R.call(D),S({})},U=this.apiClient,J={onopen:L,onmessage:R=>{cE(U,D.onmessage,R)},onerror:(l=D==null?void 0:D.onerror)!==null&&l!==void 0?l:function(R){},onclose:(o=D==null?void 0:D.onclose)!==null&&o!==void 0?o:function(R){}},O=this.webSocketFactory.create(g,pE(C),J);O.connect(),await b;let P=Ve(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&P.startsWith("publishers/")){const R=this.apiClient.getProject(),V=this.apiClient.getLocation();P=`projects/${R}/locations/${V}/`+P}let H={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Fa.AUDIO]}:e.config.responseModalities=[Fa.AUDIO]),!((c=e.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const k=(h=(m=e.config)===null||m===void 0?void 0:m.tools)!==null&&h!==void 0?h:[],W=[];for(const R of k)if(this.isCallableTool(R)){const V=R;W.push(await V.tool())}else W.push(R);W.length>0&&(e.config.tools=W);const N={model:P,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?H=A2(this.apiClient,N):H=JT(this.apiClient,N),delete H.config,O.send(JSON.stringify(H)),new hE(O,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const mE={turnComplete:!0};class hE{constructor(e,l){this.conn=e,this.apiClient=l}tLiveClientContent(e,l){if(l.turns!==null&&l.turns!==void 0){let o=[];try{o=nn(l.turns),e.isVertexAI()?o=o.map(r=>Sl(r)):o=o.map(r=>$a(r))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:o,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(e,l){let o=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?o=l.functionResponses:o=[l.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const c of o){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!e.isVertexAI()&&!("id"in c))throw new Error(fE)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},mE),e);const l=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(l))}sendRealtimeInput(e){let l={};this.apiClient.isVertexAI()?l={realtimeInput:b2(e)}:l={realtimeInput:XT(e)},this.conn.send(JSON.stringify(l))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function pE(n){const e={};return n.forEach((l,o)=>{e[o]=l}),e}function gE(n){const e=new Headers;for(const[l,o]of Object.entries(n))e.append(l,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Oh=10;function Yh(n){var e,l,o;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const m of(l=n==null?void 0:n.tools)!==null&&l!==void 0?l:[])if(Ha(m)){r=!0;break}if(!r)return!0;const c=(o=n==null?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function Ha(n){return"callTool"in n&&typeof n.callTool=="function"}function Jh(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yE extends wi{constructor(e){super(),this.apiClient=e,this.generateContent=async l=>{var o,r,c,m,h;const v=await this.processParamsForMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!nE(l)||Yh(l.config))return await this.generateContentInternal(v);if(iE(l))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,g;const T=nn(v.contents),C=(c=(r=(o=v.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&c!==void 0?c:Oh;let S=0;for(;S<C&&(p=await this.generateContentInternal(v),!(!p.functionCalls||p.functionCalls.length===0));){const b=p.candidates[0].content,D=[];for(const L of(h=(m=l.config)===null||m===void 0?void 0:m.tools)!==null&&h!==void 0?h:[])if(Ha(L)){const J=await L.callTool(p.functionCalls);D.push(...J)}S++,g={role:"user",parts:D},v.contents=nn(v.contents),v.contents.push(b),v.contents.push(g),Jh(v.config)&&(T.push(b),T.push(g))}return Jh(v.config)&&(p.automaticFunctionCallingHistory=T),p},this.generateContentStream=async l=>{if(this.maybeMoveToResponseJsonSchem(l),Yh(l.config)){const o=await this.processParamsForMcpUsage(l);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(o=>{var r;let c;const m=[];if(o!=null&&o.generatedImages)for(const v of o.generatedImages)v&&(v!=null&&v.safetyAttributes)&&((r=v==null?void 0:v.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?c=v==null?void 0:v.safetyAttributes:m.push(v);let h;return c?h={generatedImages:m,positivePromptSafetyAttributes:c}:h={generatedImages:m},h}),this.list=async l=>{var o;const m={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((o=m.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new _o(bi.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(m),m)},this.editImage=async l=>{const o={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(o.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async l=>{let o={numberOfImages:1,mode:"upscale"};l.config&&(o=Object.assign(Object.assign({},o),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:o};return await this.upscaleImageInternal(r)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsForMcpUsage(e){var l,o,r;const c=(l=e.config)===null||l===void 0?void 0:l.tools;if(!c)return e;const m=await Promise.all(c.map(async v=>Ha(v)?await v.tool():v)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:m})};if(h.config.tools=m,e.config&&e.config.tools&&Mp(e.config.tools)){const v=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let p=Object.assign({},v);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),bp(p),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return h}async initAfcToolsMap(e){var l,o,r;const c=new Map;for(const m of(o=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&o!==void 0?o:[])if(Ha(m)){const h=m,v=await h.tool();for(const p of(r=v.functionDeclarations)!==null&&r!==void 0?r:[]){if(!p.name)throw new Error("Function declaration name is required.");if(c.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);c.set(p.name,h)}}return c}async processAfcStream(e){var l,o,r;const c=(r=(o=(l=e.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:Oh;let m=!1,h=0;const v=await this.initAfcToolsMap(e);return function(p,g,T){var C,S;return vl(this,arguments,function*(){for(var b,D,L,U;h<c;){m&&(h++,m=!1);const H=yield Ke(p.processParamsForMcpUsage(T)),k=yield Ke(p.generateContentStreamInternal(H)),W=[],N=[];try{for(var J=!0,O=(D=void 0,Ao(k)),P;P=yield Ke(O.next()),b=P.done,!b;J=!0){U=P.value,J=!1;const R=U;if(yield yield Ke(R),R.candidates&&(!((C=R.candidates[0])===null||C===void 0)&&C.content)){N.push(R.candidates[0].content);for(const V of(S=R.candidates[0].content.parts)!==null&&S!==void 0?S:[])if(h<c&&V.functionCall){if(!V.functionCall.name)throw new Error("Function call name was not returned by the model.");if(g.has(V.functionCall.name)){const G=yield Ke(g.get(V.functionCall.name).callTool([V.functionCall]));W.push(...G)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${g.keys()}, mising tool: ${V.functionCall.name}`)}}}}catch(R){D={error:R}}finally{try{!J&&!b&&(L=O.return)&&(yield Ke(L.call(O)))}finally{if(D)throw D.error}}if(W.length>0){m=!0;const R=new Eo;R.candidates=[{content:{role:"user",parts:W}}],yield yield Ke(R);const V=[];V.push(...N),V.push({role:"user",parts:W});const G=nn(T.contents).concat(V);T.contents=G}else break}})}(this,v,e)}async generateContentInternal(e){var l,o,r,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const p=Bh(this.apiClient,e);return h=he("{model}:generateContent",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:g.headers},C})),m.then(g=>{const T=Hh(g),C=new Eo;return Object.assign(C,T),C})}else{const p=qh(this.apiClient,e);return h=he("{model}:generateContent",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(g=>g.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:g.headers},C})),m.then(g=>{const T=Ph(g),C=new Eo;return Object.assign(C,T),C})}}async generateContentStreamInternal(e){var l,o,r,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const p=Bh(this.apiClient,e);return h=he("{model}:streamGenerateContent?alt=sse",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.requestStream({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),m.then(function(T){return vl(this,arguments,function*(){var C,S,b,D;try{for(var L=!0,U=Ao(T),J;J=yield Ke(U.next()),C=J.done,!C;L=!0){D=J.value,L=!1;const O=D,P=Hh(yield Ke(O.json()));P.sdkHttpResponse={headers:O.headers};const H=new Eo;Object.assign(H,P),yield yield Ke(H)}}catch(O){S={error:O}}finally{try{!L&&!C&&(b=U.return)&&(yield Ke(b.call(U)))}finally{if(S)throw S.error}}})})}else{const p=qh(this.apiClient,e);return h=he("{model}:streamGenerateContent?alt=sse",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.requestStream({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}),m.then(function(T){return vl(this,arguments,function*(){var C,S,b,D;try{for(var L=!0,U=Ao(T),J;J=yield Ke(U.next()),C=J.done,!C;L=!0){D=J.value,L=!1;const O=D,P=Ph(yield Ke(O.json()));P.sdkHttpResponse={headers:O.headers};const H=new Eo;Object.assign(H,P),yield yield Ke(H)}}catch(O){S={error:O}}finally{try{!L&&!C&&(b=U.return)&&(yield Ke(b.call(U)))}finally{if(S)throw S.error}}})})}}async embedContent(e){var l,o,r,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const p=Ax(this.apiClient,e);return h=he("{model}:predict",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),m.then(g=>{const T=RS(g),C=new vh;return Object.assign(C,T),C})}else{const p=GC(this.apiClient,e);return h=he("{model}:batchEmbedContents",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(g=>g.json()),m.then(g=>{const T=oS(g),C=new vh;return Object.assign(C,T),C})}}async generateImagesInternal(e){var l,o,r,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const p=Mx(this.apiClient,e);return h=he("{model}:predict",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),m.then(g=>{const T=DS(g),C=new Th;return Object.assign(C,T),C})}else{const p=BC(this.apiClient,e);return h=he("{model}:predict",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(g=>g.json()),m.then(g=>{const T=sS(g),C=new Th;return Object.assign(C,T),C})}}async editImageInternal(e){var l,o;let r,c="",m={};if(this.apiClient.isVertexAI()){const h=kx(this.apiClient,e);return c=he("{model}:predict",h._url),m=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),r.then(v=>{const p=US(v),g=new Gy;return Object.assign(g,p),g})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var l,o;let r,c="",m={};if(this.apiClient.isVertexAI()){const h=Lx(this.apiClient,e);return c=he("{model}:predict",h._url),m=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),r.then(v=>{const p=kS(v),g=new qy;return Object.assign(g,p),g})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var l,o,r,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const p=Vx(this.apiClient,e);return h=he("{name}",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),m.then(g=>_u(g))}else{const p=PC(this.apiClient,e);return h=he("{name}",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(g=>g.json()),m.then(g=>Au(g))}}async listInternal(e){var l,o,r,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const p=qx(this.apiClient,e);return h=he("{models_url}",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),m.then(g=>{const T=GS(g),C=new Ch;return Object.assign(C,T),C})}else{const p=zC(this.apiClient,e);return h=he("{models_url}",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(g=>g.json()),m.then(g=>{const T=fS(g),C=new Ch;return Object.assign(C,T),C})}}async update(e){var l,o,r,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const p=Px(this.apiClient,e);return h=he("{model}",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),m.then(g=>_u(g))}else{const p=OC(this.apiClient,e);return h=he("{name}",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(g=>g.json()),m.then(g=>Au(g))}}async delete(e){var l,o,r,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const p=Hx(this.apiClient,e);return h=he("{name}",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),m.then(()=>{const g=qS(),T=new xh;return Object.assign(T,g),T})}else{const p=YC(this.apiClient,e);return h=he("{name}",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(g=>g.json()),m.then(()=>{const g=cS(),T=new xh;return Object.assign(T,g),T})}}async countTokens(e){var l,o,r,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const p=Fx(this.apiClient,e);return h=he("{model}:countTokens",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),m.then(g=>{const T=BS(g),C=new Sh;return Object.assign(C,T),C})}else{const p=KC(this.apiClient,e);return h=he("{model}:countTokens",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(g=>g.json()),m.then(g=>{const T=dS(g),C=new Sh;return Object.assign(C,T),C})}}async computeTokens(e){var l,o;let r,c="",m={};if(this.apiClient.isVertexAI()){const h=Ox(this.apiClient,e);return c=he("{model}:computeTokens",h._url),m=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),r.then(v=>{const p=PS(v),g=new By;return Object.assign(g,p),g})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var l,o,r,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const p=Kx(this.apiClient,e);return h=he("{model}:predictLongRunning",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),m.then(g=>OS(g))}else{const p=ZC(this.apiClient,e);return h=he("{model}:predictLongRunning",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(g=>g.json()),m.then(g=>gS(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vE(n){const e={},l=s(n,["operationName"]);l!=null&&u(e,["_url","operationName"],l);const o=s(n,["config"]);return o!=null&&u(e,["config"],o),e}function TE(n){const e={},l=s(n,["operationName"]);l!=null&&u(e,["_url","operationName"],l);const o=s(n,["config"]);return o!=null&&u(e,["config"],o),e}function CE(n){const e={},l=s(n,["operationName"]);l!=null&&u(e,["operationName"],l);const o=s(n,["resourceName"]);o!=null&&u(e,["_url","resourceName"],o);const r=s(n,["config"]);return r!=null&&u(e,["config"],r),e}function xE(n){const e={},l=s(n,["video","uri"]);l!=null&&u(e,["uri"],l);const o=s(n,["video","encodedVideo"]);o!=null&&u(e,["videoBytes"],Ln(o));const r=s(n,["encoding"]);return r!=null&&u(e,["mimeType"],r),e}function SE(n){const e={},l=s(n,["_self"]);return l!=null&&u(e,["video"],xE(l)),e}function EE(n){const e={},l=s(n,["generatedSamples"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>SE(m))),u(e,["generatedVideos"],c)}const o=s(n,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const r=s(n,["raiMediaFilteredReasons"]);return r!=null&&u(e,["raiMediaFilteredReasons"],r),e}function AE(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["metadata"]);o!=null&&u(e,["metadata"],o);const r=s(n,["done"]);r!=null&&u(e,["done"],r);const c=s(n,["error"]);c!=null&&u(e,["error"],c);const m=s(n,["response","generateVideoResponse"]);return m!=null&&u(e,["response"],EE(m)),e}function _E(n){const e={},l=s(n,["gcsUri"]);l!=null&&u(e,["uri"],l);const o=s(n,["bytesBase64Encoded"]);o!=null&&u(e,["videoBytes"],Ln(o));const r=s(n,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function ME(n){const e={},l=s(n,["_self"]);return l!=null&&u(e,["video"],_E(l)),e}function bE(n){const e={},l=s(n,["videos"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>ME(m))),u(e,["generatedVideos"],c)}const o=s(n,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const r=s(n,["raiMediaFilteredReasons"]);return r!=null&&u(e,["raiMediaFilteredReasons"],r),e}function Kh(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["metadata"]);o!=null&&u(e,["metadata"],o);const r=s(n,["done"]);r!=null&&u(e,["done"],r);const c=s(n,["error"]);c!=null&&u(e,["error"],c);const m=s(n,["response"]);return m!=null&&u(e,["response"],bE(m)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wE extends wi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const l=e.operation,o=e.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let c;return o&&"httpOptions"in o&&(c=o.httpOptions),this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:c}})}else return this.getVideosOperationInternal({operationName:l.name,config:o})}async getVideosOperationInternal(e){var l,o,r,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const p=TE(e);return h=he("{operationName}",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),m.then(g=>Kh(g))}else{const p=vE(e);return h=he("{operationName}",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(g=>g.json()),m.then(g=>AE(g))}}async fetchPredictVideosOperationInternal(e){var l,o;let r,c="",m={};if(this.apiClient.isVertexAI()){const h=CE(e);return c=he("{resourceName}:fetchPredictOperation",h._url),m=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),r.then(v=>Kh(v))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RE(n){const e={},l=s(n,["voiceName"]);return l!=null&&u(e,["voiceName"],l),e}function wp(n){const e={},l=s(n,["prebuiltVoiceConfig"]);return l!=null&&u(e,["prebuiltVoiceConfig"],RE(l)),e}function NE(n){const e={},l=s(n,["speaker"]);l!=null&&u(e,["speaker"],l);const o=s(n,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],wp(o)),e}function DE(n){const e={},l=s(n,["speakerVoiceConfigs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>NE(r))),u(e,["speakerVoiceConfigs"],o)}return e}function UE(n){const e={},l=s(n,["voiceConfig"]);l!=null&&u(e,["voiceConfig"],wp(l));const o=s(n,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],DE(o));const r=s(n,["languageCode"]);return r!=null&&u(e,["languageCode"],r),e}function kE(n){const e={},l=s(n,["fps"]);l!=null&&u(e,["fps"],l);const o=s(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const r=s(n,["startOffset"]);return r!=null&&u(e,["startOffset"],r),e}function IE(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["data"]);l!=null&&u(e,["data"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function LE(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=s(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function VE(n){const e={},l=s(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],kE(l));const o=s(n,["thought"]);o!=null&&u(e,["thought"],o);const r=s(n,["inlineData"]);r!=null&&u(e,["inlineData"],IE(r));const c=s(n,["fileData"]);c!=null&&u(e,["fileData"],LE(c));const m=s(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=s(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const v=s(n,["executableCode"]);v!=null&&u(e,["executableCode"],v);const p=s(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const g=s(n,["functionResponse"]);g!=null&&u(e,["functionResponse"],g);const T=s(n,["text"]);return T!=null&&u(e,["text"],T),e}function GE(n){const e={},l=s(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>VE(c))),u(e,["parts"],r)}const o=s(n,["role"]);return o!=null&&u(e,["role"],o),e}function qE(n){const e={},l=s(n,["behavior"]);l!=null&&u(e,["behavior"],l);const o=s(n,["description"]);o!=null&&u(e,["description"],o);const r=s(n,["name"]);r!=null&&u(e,["name"],r);const c=s(n,["parameters"]);c!=null&&u(e,["parameters"],c);const m=s(n,["parametersJsonSchema"]);m!=null&&u(e,["parametersJsonSchema"],m);const h=s(n,["response"]);h!=null&&u(e,["response"],h);const v=s(n,["responseJsonSchema"]);return v!=null&&u(e,["responseJsonSchema"],v),e}function BE(n){const e={},l=s(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=s(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function PE(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],BE(l)),e}function HE(n){const e={},l=s(n,["mode"]);l!=null&&u(e,["mode"],l);const o=s(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function zE(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],HE(l)),e}function FE(){return{}}function OE(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(p=>qE(p))),u(e,["functionDeclarations"],v)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(n,["googleSearch"]);o!=null&&u(e,["googleSearch"],PE(o));const r=s(n,["googleSearchRetrieval"]);if(r!=null&&u(e,["googleSearchRetrieval"],zE(r)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&u(e,["urlContext"],FE());const m=s(n,["codeExecution"]);m!=null&&u(e,["codeExecution"],m);const h=s(n,["computerUse"]);return h!=null&&u(e,["computerUse"],h),e}function YE(n){const e={},l=s(n,["handle"]);if(l!=null&&u(e,["handle"],l),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Qh(){return{}}function JE(n){const e={},l=s(n,["disabled"]);l!=null&&u(e,["disabled"],l);const o=s(n,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const r=s(n,["endOfSpeechSensitivity"]);r!=null&&u(e,["endOfSpeechSensitivity"],r);const c=s(n,["prefixPaddingMs"]);c!=null&&u(e,["prefixPaddingMs"],c);const m=s(n,["silenceDurationMs"]);return m!=null&&u(e,["silenceDurationMs"],m),e}function KE(n){const e={},l=s(n,["automaticActivityDetection"]);l!=null&&u(e,["automaticActivityDetection"],JE(l));const o=s(n,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const r=s(n,["turnCoverage"]);return r!=null&&u(e,["turnCoverage"],r),e}function QE(n){const e={},l=s(n,["targetTokens"]);return l!=null&&u(e,["targetTokens"],l),e}function XE(n){const e={},l=s(n,["triggerTokens"]);l!=null&&u(e,["triggerTokens"],l);const o=s(n,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],QE(o)),e}function ZE(n){const e={},l=s(n,["proactiveAudio"]);return l!=null&&u(e,["proactiveAudio"],l),e}function $E(n,e){const l={},o=s(n,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const r=s(n,["responseModalities"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig","responseModalities"],r);const c=s(n,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const m=s(n,["topP"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","topP"],m);const h=s(n,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const v=s(n,["maxOutputTokens"]);e!==void 0&&v!=null&&u(e,["setup","generationConfig","maxOutputTokens"],v);const p=s(n,["mediaResolution"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","mediaResolution"],p);const g=s(n,["seed"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","seed"],g);const T=s(n,["speechConfig"]);e!==void 0&&T!=null&&u(e,["setup","generationConfig","speechConfig"],UE(Du(T)));const C=s(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],C);const S=s(n,["systemInstruction"]);e!==void 0&&S!=null&&u(e,["setup","systemInstruction"],GE(St(S)));const b=s(n,["tools"]);if(e!==void 0&&b!=null){let H=Cl(b);Array.isArray(H)&&(H=H.map(k=>OE(Tl(k)))),u(e,["setup","tools"],H)}const D=s(n,["sessionResumption"]);e!==void 0&&D!=null&&u(e,["setup","sessionResumption"],YE(D));const L=s(n,["inputAudioTranscription"]);e!==void 0&&L!=null&&u(e,["setup","inputAudioTranscription"],Qh());const U=s(n,["outputAudioTranscription"]);e!==void 0&&U!=null&&u(e,["setup","outputAudioTranscription"],Qh());const J=s(n,["realtimeInputConfig"]);e!==void 0&&J!=null&&u(e,["setup","realtimeInputConfig"],KE(J));const O=s(n,["contextWindowCompression"]);e!==void 0&&O!=null&&u(e,["setup","contextWindowCompression"],XE(O));const P=s(n,["proactivity"]);return e!==void 0&&P!=null&&u(e,["setup","proactivity"],ZE(P)),l}function WE(n,e){const l={},o=s(e,["model"]);o!=null&&u(l,["setup","model"],Ve(n,o));const r=s(e,["config"]);return r!=null&&u(l,["config"],$E(r,l)),l}function jE(n,e,l){const o={},r=s(e,["expireTime"]);l!==void 0&&r!=null&&u(l,["expireTime"],r);const c=s(e,["newSessionExpireTime"]);l!==void 0&&c!=null&&u(l,["newSessionExpireTime"],c);const m=s(e,["uses"]);l!==void 0&&m!=null&&u(l,["uses"],m);const h=s(e,["liveConnectConstraints"]);l!==void 0&&h!=null&&u(l,["bidiGenerateContentSetup"],WE(n,h));const v=s(e,["lockAdditionalFields"]);return l!==void 0&&v!=null&&u(l,["fieldMask"],v),o}function eA(n,e){const l={},o=s(e,["config"]);return o!=null&&u(l,["config"],jE(n,o,l)),l}function tA(n){const e={},l=s(n,["name"]);return l!=null&&u(e,["name"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nA(n){const e=[];for(const l in n)if(Object.prototype.hasOwnProperty.call(n,l)){const o=n[l];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(c=>`${l}.${c}`);e.push(...r)}else e.push(l)}return e.join(",")}function iA(n,e){let l=null;const o=n.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const c=o.setup;typeof c=="object"&&c!==null?(n.bidiGenerateContentSetup=c,l=c):delete n.bidiGenerateContentSetup}else o!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(l){const c=nA(l);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)c?n.fieldMask=c:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];r.length>0&&(h=r.map(p=>m.includes(p)?`generationConfig.${p}`:p));const v=[];c&&v.push(c),h.length>0&&v.push(...h),v.length>0?n.fieldMask=v.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class lA extends wi{constructor(e){super(),this.apiClient=e}async create(e){var l,o;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=eA(this.apiClient,e);c=he("auth_tokens",h._url),m=h._query,delete h.config,delete h._url,delete h._query;const v=iA(h,e.config);return r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>tA(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oA(n){const e={},l=s(n,["name"]);l!=null&&u(e,["_url","name"],l);const o=s(n,["config"]);return o!=null&&u(e,["config"],o),e}function aA(n,e){const l={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);e!==void 0&&r!=null&&u(e,["_query","pageToken"],r);const c=s(n,["filter"]);return e!==void 0&&c!=null&&u(e,["_query","filter"],c),l}function rA(n){const e={},l=s(n,["config"]);return l!=null&&u(e,["config"],aA(l,e)),e}function sA(n){const e={},l=s(n,["textInput"]);l!=null&&u(e,["textInput"],l);const o=s(n,["output"]);return o!=null&&u(e,["output"],o),e}function uA(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const l=s(n,["examples"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>sA(r))),u(e,["examples","examples"],o)}return e}function fA(n,e){const l={};if(s(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=s(n,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&u(e,["displayName"],o),s(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=s(n,["epochCount"]);e!==void 0&&r!=null&&u(e,["tuningTask","hyperparameters","epochCount"],r);const c=s(n,["learningRateMultiplier"]);if(c!=null&&u(l,["tuningTask","hyperparameters","learningRateMultiplier"],c),s(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=s(n,["batchSize"]);e!==void 0&&m!=null&&u(e,["tuningTask","hyperparameters","batchSize"],m);const h=s(n,["learningRate"]);return e!==void 0&&h!=null&&u(e,["tuningTask","hyperparameters","learningRate"],h),l}function cA(n){const e={},l=s(n,["baseModel"]);l!=null&&u(e,["baseModel"],l);const o=s(n,["trainingDataset"]);o!=null&&u(e,["tuningTask","trainingData"],uA(o));const r=s(n,["config"]);return r!=null&&u(e,["config"],fA(r,e)),e}function dA(n){const e={},l=s(n,["name"]);l!=null&&u(e,["_url","name"],l);const o=s(n,["config"]);return o!=null&&u(e,["config"],o),e}function mA(n,e){const l={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const r=s(n,["pageToken"]);e!==void 0&&r!=null&&u(e,["_query","pageToken"],r);const c=s(n,["filter"]);return e!==void 0&&c!=null&&u(e,["_query","filter"],c),l}function hA(n){const e={},l=s(n,["config"]);return l!=null&&u(e,["config"],mA(l,e)),e}function pA(n,e){const l={},o=s(n,["gcsUri"]);e!==void 0&&o!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],o);const r=s(n,["vertexDatasetResource"]);if(e!==void 0&&r!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],r),s(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function gA(n,e){const l={},o=s(n,["gcsUri"]);o!=null&&u(l,["validationDatasetUri"],o);const r=s(n,["vertexDatasetResource"]);return e!==void 0&&r!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],r),l}function yA(n,e){const l={},o=s(n,["validationDataset"]);e!==void 0&&o!=null&&u(e,["supervisedTuningSpec"],gA(o,l));const r=s(n,["tunedModelDisplayName"]);e!==void 0&&r!=null&&u(e,["tunedModelDisplayName"],r);const c=s(n,["description"]);e!==void 0&&c!=null&&u(e,["description"],c);const m=s(n,["epochCount"]);e!==void 0&&m!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],m);const h=s(n,["learningRateMultiplier"]);e!==void 0&&h!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const v=s(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v);const p=s(n,["adapterSize"]);if(e!==void 0&&p!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],p),s(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return l}function vA(n){const e={},l=s(n,["baseModel"]);l!=null&&u(e,["baseModel"],l);const o=s(n,["trainingDataset"]);o!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],pA(o,e));const r=s(n,["config"]);return r!=null&&u(e,["config"],yA(r,e)),e}function TA(n){const e={},l=s(n,["name"]);l!=null&&u(e,["model"],l);const o=s(n,["name"]);return o!=null&&u(e,["endpoint"],o),e}function Rp(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["state"]);o!=null&&u(e,["state"],ap(o));const r=s(n,["createTime"]);r!=null&&u(e,["createTime"],r);const c=s(n,["tuningTask","startTime"]);c!=null&&u(e,["startTime"],c);const m=s(n,["tuningTask","completeTime"]);m!=null&&u(e,["endTime"],m);const h=s(n,["updateTime"]);h!=null&&u(e,["updateTime"],h);const v=s(n,["description"]);v!=null&&u(e,["description"],v);const p=s(n,["baseModel"]);p!=null&&u(e,["baseModel"],p);const g=s(n,["_self"]);g!=null&&u(e,["tunedModel"],TA(g));const T=s(n,["distillationSpec"]);T!=null&&u(e,["distillationSpec"],T);const C=s(n,["experiment"]);C!=null&&u(e,["experiment"],C);const S=s(n,["labels"]);S!=null&&u(e,["labels"],S);const b=s(n,["pipelineJob"]);b!=null&&u(e,["pipelineJob"],b);const D=s(n,["satisfiesPzi"]);D!=null&&u(e,["satisfiesPzi"],D);const L=s(n,["satisfiesPzs"]);L!=null&&u(e,["satisfiesPzs"],L);const U=s(n,["serviceAccount"]);U!=null&&u(e,["serviceAccount"],U);const J=s(n,["tunedModelDisplayName"]);return J!=null&&u(e,["tunedModelDisplayName"],J),e}function CA(n){const e={},l=s(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=s(n,["tunedModels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>Rp(c))),u(e,["tuningJobs"],r)}return e}function xA(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["metadata"]);o!=null&&u(e,["metadata"],o);const r=s(n,["done"]);r!=null&&u(e,["done"],r);const c=s(n,["error"]);return c!=null&&u(e,["error"],c),e}function SA(n){const e={},l=s(n,["checkpointId"]);l!=null&&u(e,["checkpointId"],l);const o=s(n,["epoch"]);o!=null&&u(e,["epoch"],o);const r=s(n,["step"]);r!=null&&u(e,["step"],r);const c=s(n,["endpoint"]);return c!=null&&u(e,["endpoint"],c),e}function EA(n){const e={},l=s(n,["model"]);l!=null&&u(e,["model"],l);const o=s(n,["endpoint"]);o!=null&&u(e,["endpoint"],o);const r=s(n,["checkpoints"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>SA(m))),u(e,["checkpoints"],c)}return e}function bu(n){const e={},l=s(n,["name"]);l!=null&&u(e,["name"],l);const o=s(n,["state"]);o!=null&&u(e,["state"],ap(o));const r=s(n,["createTime"]);r!=null&&u(e,["createTime"],r);const c=s(n,["startTime"]);c!=null&&u(e,["startTime"],c);const m=s(n,["endTime"]);m!=null&&u(e,["endTime"],m);const h=s(n,["updateTime"]);h!=null&&u(e,["updateTime"],h);const v=s(n,["error"]);v!=null&&u(e,["error"],v);const p=s(n,["description"]);p!=null&&u(e,["description"],p);const g=s(n,["baseModel"]);g!=null&&u(e,["baseModel"],g);const T=s(n,["tunedModel"]);T!=null&&u(e,["tunedModel"],EA(T));const C=s(n,["supervisedTuningSpec"]);C!=null&&u(e,["supervisedTuningSpec"],C);const S=s(n,["tuningDataStats"]);S!=null&&u(e,["tuningDataStats"],S);const b=s(n,["encryptionSpec"]);b!=null&&u(e,["encryptionSpec"],b);const D=s(n,["partnerModelTuningSpec"]);D!=null&&u(e,["partnerModelTuningSpec"],D);const L=s(n,["distillationSpec"]);L!=null&&u(e,["distillationSpec"],L);const U=s(n,["experiment"]);U!=null&&u(e,["experiment"],U);const J=s(n,["labels"]);J!=null&&u(e,["labels"],J);const O=s(n,["pipelineJob"]);O!=null&&u(e,["pipelineJob"],O);const P=s(n,["satisfiesPzi"]);P!=null&&u(e,["satisfiesPzi"],P);const H=s(n,["satisfiesPzs"]);H!=null&&u(e,["satisfiesPzs"],H);const k=s(n,["serviceAccount"]);k!=null&&u(e,["serviceAccount"],k);const W=s(n,["tunedModelDisplayName"]);return W!=null&&u(e,["tunedModelDisplayName"],W),e}function AA(n){const e={},l=s(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=s(n,["tuningJobs"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>bu(c))),u(e,["tuningJobs"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _A extends wi{constructor(e){super(),this.apiClient=e,this.get=async l=>await this.getInternal(l),this.list=async(l={})=>new _o(bi.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(l),l),this.tune=async l=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(l);{const o=await this.tuneMldevInternal(l);let r="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?r=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(r=o.name.split("/operations/")[0]),{name:r,state:yu.JOB_STATE_QUEUED}}}}async getInternal(e){var l,o,r,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const p=dA(e);return h=he("{name}",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),m.then(g=>bu(g))}else{const p=oA(e);return h=he("{name}",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(g=>g.json()),m.then(g=>Rp(g))}}async listInternal(e){var l,o,r,c;let m,h="",v={};if(this.apiClient.isVertexAI()){const p=hA(e);return h=he("tuningJobs",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),m.then(g=>{const T=AA(g),C=new Eh;return Object.assign(C,T),C})}else{const p=rA(e);return h=he("tunedModels",p._url),v=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(g=>g.json()),m.then(g=>{const T=CA(g),C=new Eh;return Object.assign(C,T),C})}}async tuneInternal(e){var l,o;let r,c="",m={};if(this.apiClient.isVertexAI()){const h=vA(e);return c=he("tuningJobs",h._url),m=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),r.then(v=>bu(v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var l,o;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=cA(e);return c=he("tunedModels",h._url),m=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),r.then(v=>xA(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MA{async download(e,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const bA=1024*1024*8,wA=3,RA=1e3,NA=2,hu="x-goog-upload-status";async function DA(n,e,l){var o,r,c;let m=0,h=0,v=new vu(new Response),p="upload";for(m=n.size;h<m;){const T=Math.min(bA,m-h),C=n.slice(h,h+T);h+T>=m&&(p+=", finalize");let S=0,b=RA;for(;S<wA&&(v=await l.request({path:"",body:C,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(h),"Content-Length":String(T)}}}),!(!((o=v==null?void 0:v.headers)===null||o===void 0)&&o[hu]));)S++,await kA(b),b=b*NA;if(h+=T,((r=v==null?void 0:v.headers)===null||r===void 0?void 0:r[hu])!=="active")break;if(m<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const g=await(v==null?void 0:v.json());if(((c=v==null?void 0:v.headers)===null||c===void 0?void 0:c[hu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return g.file}async function UA(n){return{size:n.size,type:n.type}}function kA(n){return new Promise(e=>setTimeout(e,n))}class IA{async upload(e,l,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await DA(e,l,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await UA(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LA{create(e,l,o){return new VA(e,l,o)}}class VA{constructor(e,l,o){this.url=e,this.headers=l,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xh="x-goog-api-key";class GA{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Xh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Xh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qA="gl-node/";class BA{constructor(e){var l;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=e.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=e.apiKey;const o=Vy(e,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const r=new GA(this.apiKey);this.apiClient=new WS({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:qA+"web",uploader:new IA,downloader:new MA}),this.models=new yE(this.apiClient),this.live=new dE(this.apiClient,r,new LA),this.batches=new o1(this.apiClient),this.chats=new uT(this.models,this.apiClient),this.caches=new aT(this.apiClient),this.files=new ST(this.apiClient),this.operations=new wE(this.apiClient),this.authTokens=new lA(this.apiClient),this.tunings=new _A(this.apiClient)}}const PA=async n=>({inlineData:{data:await new Promise(l=>{const o=new FileReader;o.onloadend=()=>l(o.result.split(",")[1]),o.readAsDataURL(n)}),mimeType:n.type}}),HA={type:tn.OBJECT,properties:{title:{type:tn.STRING,description:"A highly marketable, descriptive title in English, focusing on the image's core concept and potential commercial use from a buyer's perspective."},keywords:{type:tn.ARRAY,description:"An array of exactly 45 high-value, single-word SEO keywords in English, strategically ordered by commercial importance.",items:{type:tn.STRING}}},required:["title","keywords"]},zA=async(n,e,l)=>{if(!e)throw new Error("Kunci API Gemini tidak disediakan.");const o=new BA({apiKey:e}),r=await PA(n),c=`You are an expert Senior Metadata Editor and SEO strategist for a top-tier microstock agency like Getty Images or Adobe Stock. Your primary goal is to maximize the commercial discoverability and sales potential of an image.

**Analysis & Strategy:**
Analyze the provided image and generate a highly marketable title and a list of exactly 45 strategically chosen keywords.

**1. Title Generation:**
- Craft a highly marketable, descriptive title in English.
- Think from a buyer's perspective: What would they search for to find this exact image?
- The title must be both accurate and enticing, highlighting the core concept and potential usage.

**2. Keyword Generation (Exactly 45 Single-Word Keywords):**

- **Crucial Rule:** Every keyword MUST be a single word. Compound words should be merged (e.g., 'workspace', 'lifestyle', 'backlit'). No multi-word phrases.
- **Prioritization is Key:** The first 10-15 keywords must be the most powerful, high-intent terms that a commercial buyer would use. The subsequent keywords can cover broader concepts and secondary details.
- **Keyword Strategy Mix:**
    - **Primary Concepts:** The absolute core subject and theme (e.g., 'business', 'technology', 'success', 'communication').
    - **Literal Objects & Subjects:** Clearly visible elements (e.g., 'laptop', 'desk', 'woman', 'cityscape').
    - **Action & Emotion:** What is happening and the mood (e.g., 'working', 'typing', 'smiling', 'focus', 'determination', 'calm').
    - **Composition & Style:** How the shot is composed (e.g., 'copyspace', 'closeup', 'mockup', 'flatlay', 'minimalist', 'cinematic').
    - **Abstract & Metaphorical:** Ideas the image represents (e.g., 'growth', 'innovation', 'strategy', 'connection').
- **What to AVOID (Strictly):**
    - Do not use subjective or overly generic words ('beautiful', 'nice', 'great').
    - Do not describe colors unless it is a defining feature (e.g., 'reddress').
    - Avoid spammy or irrelevant terms. Every single keyword must be directly justifiable from the image content and its commercial potential.

Your output must be a valid JSON object with two keys: "title" (a string) and "keywords" (an array of exactly 45 single-word strings).`,m={responseMimeType:"application/json",responseSchema:HA};l==="fast"&&(m.thinkingConfig={thinkingBudget:0});const v=(await o.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{text:c},r]},config:m})).text.trim();try{const p=JSON.parse(v);if(p.title&&Array.isArray(p.keywords))return p;throw new Error("Invalid JSON structure received from API.")}catch{throw console.error("Failed to parse JSON response:",v),new Error("Could not parse the response from the AI. The format might be incorrect.")}},FA=()=>A.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-500/20 dark:to-purple-500/20 flex items-center justify-center rounded-lg text-blue-600 dark:text-blue-300",children:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-7 h-7",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[A.jsx("path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"}),A.jsx("path",{d:"M5 3v4"}),A.jsx("path",{d:"M19 17v4"}),A.jsx("path",{d:"M3 5h4"}),A.jsx("path",{d:"M17 19h4"})]})}),OA=()=>A.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-500/20 dark:to-purple-500/20 flex items-center justify-center rounded-lg text-blue-600 dark:text-blue-300",children:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-7 h-7",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[A.jsx("rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",ry:"2"}),A.jsx("path",{d:"M7 11h4a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2z"}),A.jsx("path",{d:"M11 7h4a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2z"})]})}),YA=()=>A.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-500/20 dark:to-purple-500/20 flex items-center justify-center rounded-lg text-blue-600 dark:text-blue-300",children:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-7 h-7",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[A.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),A.jsx("polyline",{points:"14 2 14 8 20 8"}),A.jsx("path",{d:"M12 18v-6"}),A.jsx("path",{d:"m9 15 3 3 3-3"})]})}),JA=()=>A.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-500/20 dark:to-purple-500/20 flex items-center justify-center rounded-lg text-blue-600 dark:text-blue-300",children:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-7 h-7",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[A.jsx("rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}),A.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),pu=({step:n,title:e,description:l,illustration:o})=>A.jsxs("div",{className:"group text-center flex flex-col items-center p-6 bg-white/50 dark:bg-slate-800/40 border border-slate-200 dark:border-slate-700/50 rounded-2xl transition-all duration-300 hover:shadow-xl hover:border-blue-300/50 dark:hover:border-blue-500/30 hover:-translate-y-1",children:[A.jsx("div",{className:"relative w-full h-32 flex items-center justify-center mb-4",children:o}),A.jsx("div",{className:"w-12 h-12 mb-4 flex items-center justify-center bg-blue-100 dark:bg-blue-900/40 rounded-full text-xl font-bold text-blue-600 dark:text-blue-300 border border-blue-200 dark:border-blue-700/60",children:n}),A.jsx("h4",{className:"font-bold text-xl text-slate-800 dark:text-slate-100",children:e}),A.jsx("p",{className:"text-slate-600 dark:text-slate-300 mt-2 text-sm max-w-xs mx-auto",children:l})]}),KA=()=>A.jsxs("svg",{viewBox:"0 0 150 100",className:"h-full w-auto max-h-32 transition-transform duration-300 group-hover:scale-105",children:[A.jsx("rect",{x:"5",y:"5",width:"140",height:"90",rx:"10",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"6",fill:"transparent",className:"text-slate-300 dark:text-slate-600"}),A.jsx("path",{d:"M75 35 L75 65 M60 50 L75 35 L90 50",stroke:"currentColor",strokeWidth:"2",fill:"none",className:"text-blue-500",strokeLinecap:"round",strokeLinejoin:"round"}),A.jsx("rect",{x:"20",y:"70",width:"20",height:"15",rx:"2",fill:"currentColor",className:"text-slate-400/50 dark:text-slate-500/50"}),A.jsx("rect",{x:"45",y:"70",width:"20",height:"15",rx:"2",fill:"currentColor",className:"text-slate-400/50 dark:text-slate-500/50"})]}),QA=()=>A.jsxs("svg",{viewBox:"0 0 150 100",className:"h-full w-auto max-h-32 transition-transform duration-300 group-hover:scale-105",children:[A.jsx("path",{d:"M15 20 L55 20 L55 80 L15 80 Z M15,30 L25,20 L35,30 L45,20",stroke:"currentColor",strokeWidth:"2",fill:"transparent",className:"text-slate-400 dark:text-slate-500"}),A.jsx("path",{d:"M65 50 L90 50",stroke:"currentColor",strokeWidth:"2",fill:"none",className:"text-slate-300 dark:text-slate-600",strokeDasharray:"4"}),A.jsx("path",{d:"M85 45 L90 50 L85 55",stroke:"currentColor",strokeWidth:"2",fill:"none",className:"text-slate-300 dark:text-slate-600"}),A.jsx("path",{d:"M77.5 40 l-1.912 5.813a1 1 0 0 1-0.637 0.637L70 48.36l2.906 0.956a1 1 0 0 1 0.637 0.637L75.456 55.76l0.956-2.906a1 1 0 0 1 0.637-0.637L80 49.36l-2.906-0.956a1 1 0 0 1-0.637-0.637Z",fill:"currentColor",className:"text-purple-500"}),A.jsx("rect",{x:"100",y:"20",width:"40",height:"60",rx:"4",stroke:"currentColor",strokeWidth:"2",fill:"transparent",className:"text-slate-400 dark:text-slate-500"}),A.jsx("line",{x1:"108",y1:"35",x2:"132",y2:"35",stroke:"currentColor",strokeWidth:"2",className:"text-slate-300 dark:text-slate-600"}),A.jsx("line",{x1:"108",y1:"45",x2:"132",y2:"45",stroke:"currentColor",strokeWidth:"2",className:"text-slate-300 dark:text-slate-600"}),A.jsx("line",{x1:"108",y1:"55",x2:"122",y2:"55",stroke:"currentColor",strokeWidth:"2",className:"text-slate-300 dark:text-slate-600"})]}),XA=()=>A.jsxs("svg",{viewBox:"0 0 150 100",className:"h-full w-auto max-h-32 transition-transform duration-300 group-hover:scale-105",children:[A.jsx("path",{d:"M40 10 H90 V25 H110 L110 90 H40 Z",stroke:"currentColor",strokeWidth:"2",fill:"transparent",className:"text-slate-400 dark:text-slate-500"}),A.jsx("path",{d:"M90 10 L90 25 H110",stroke:"currentColor",strokeWidth:"2",fill:"none",className:"text-slate-400 dark:text-slate-500"}),A.jsx("path",{d:"M55 45 L75 65 L95 45",stroke:"currentColor",strokeWidth:"2",fill:"none",className:"text-green-500",strokeLinecap:"round",strokeLinejoin:"round"}),A.jsx("text",{x:"75",y:"80",textAnchor:"middle",fontSize:"12",fontWeight:"bold",fill:"currentColor",className:"text-slate-500 dark:text-slate-400",children:"CSV"})]}),ZA=()=>A.jsx("style",{children:`
      @keyframes scroll {
        0% { transform: translateX(0); }
        100% { transform: translateX(-50%); }
      }
      .animate-scroll {
        animation: scroll 40s linear infinite;
      }
      .group:hover .animate-scroll {
        animation-play-state: paused;
      }
    `}),$A=({name:n})=>A.jsxs("div",{className:"mx-4 flex flex-shrink-0 items-center justify-center py-3 px-6 bg-white dark:bg-slate-800/50 border border-slate-200/80 dark:border-slate-700/60 rounded-xl shadow-sm transition-shadow duration-300 hover:shadow-md",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 mr-3 text-slate-400 dark:text-slate-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[A.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),A.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),A.jsx("polyline",{points:"21 15 16 10 5 21"})]}),A.jsx("span",{className:"text-lg font-bold text-slate-600 dark:text-slate-300 whitespace-nowrap",children:n})]}),WA=({onLaunchApp:n,theme:e,toggleTheme:l})=>{const o=["Adobe Stock","Getty Images","Shutterstock","iStock","Alamy","Dreamstime"];return A.jsxs("div",{className:"animate-fade-in overflow-x-hidden",children:[A.jsx(ZA,{}),A.jsx("header",{className:"fixed top-0 left-0 right-0 z-30 bg-white/80 dark:bg-slate-900/80 backdrop-blur-lg border-b border-slate-200 dark:border-slate-700/50",children:A.jsx("nav",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:A.jsxs("div",{className:"flex items-center justify-between h-20",children:[A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-500 dark:text-blue-400",viewBox:"0 0 24 24",fill:"currentColor",children:A.jsx("path",{d:"M11.25,4.5A6.75,6.75,0,0,0,4.5,11.25v8.5A1.25,1.25,0,0,0,6,21a1.2,1.2,0,0,0,.5-.11l5.5-2.5a.75.75,0,0,1,.69,0l5.5,2.5a1.2,1.2,0,0,0,.5.11,1.25,1.25,0,0,0,1.25-1.25v-8.5A6.75,6.75,0,0,0,12.75,4.5Zm0,1.5a5.25,5.25,0,0,1,5.25,5.25v7.61l-4.66-2.12a2.25,2.25,0,0,0,-2.08,0L5.1,18.86V11.25A5.25,5.25,0,0,1,10.35,6Z",transform:"translate(-1.5 -1.5)"})}),A.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-800 dark:text-slate-100 tracking-tight",children:"AI Microstock Pro"})]}),A.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[A.jsx(jh,{theme:e,toggleTheme:l}),A.jsx("button",{onClick:n,className:"hidden sm:inline-flex items-center justify-center px-5 py-2.5 text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",children:"Launch Tool"})]})]})})}),A.jsxs("main",{className:"pt-20",children:[A.jsxs("section",{className:"relative py-20 sm:py-28 lg:py-32",children:[A.jsx("div",{className:"absolute top-0 left-0 -translate-x-1/3 -translate-y-1/3 w-96 h-96 bg-purple-200/50 dark:bg-purple-900/30 rounded-full filter blur-3xl opacity-50"}),A.jsx("div",{className:"absolute bottom-0 right-0 translate-x-1/4 translate-y-1/4 w-96 h-96 bg-blue-200/50 dark:bg-blue-900/30 rounded-full filter blur-3xl opacity-50"}),A.jsxs("div",{className:"relative w-full max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[A.jsx("span",{className:"text-sm font-bold uppercase tracking-widest text-blue-500 dark:text-blue-400",children:"The Ultimate Time-Saver for Creators"}),A.jsxs("h2",{className:"text-4xl sm:text-5xl lg:text-6xl font-extrabold text-slate-900 dark:text-white mt-4 leading-tight tracking-tighter",children:["Supercharge Your ",A.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-500",children:"Microstock"})," Workflow"]}),A.jsx("p",{className:"max-w-2xl mx-auto mt-6 text-lg text-slate-600 dark:text-slate-300",children:"Generate SEO-optimized titles and keywords for your images in seconds. Boost visibility and sales on platforms like Adobe Stock, Shutterstock, and Getty Images."}),A.jsx("div",{className:"mt-10 flex justify-center",children:A.jsx("button",{onClick:n,className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white font-bold py-4 px-8 rounded-lg hover:from-blue-500 hover:to-purple-500 transition-all duration-300 ease-in-out transform hover:scale-105 shadow-lg shadow-blue-500/30 dark:shadow-blue-500/20 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-slate-900",children:"Launch AI Generator Now"})})]})]}),A.jsx("section",{className:"py-16 sm:py-20 bg-slate-50/50 dark:bg-slate-900/50",children:A.jsxs("div",{className:"w-full max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[A.jsx("p",{className:"text-center text-sm font-semibold text-slate-500 dark:text-slate-400 tracking-widest uppercase",children:"Works with your favorite platforms"}),A.jsx("div",{className:"group relative mt-8 w-full overflow-hidden [mask-image:linear-gradient(to_right,transparent,white_10%,white_90%,transparent)]",children:A.jsx("div",{className:"flex w-max animate-scroll",children:[...o,...o].map((r,c)=>A.jsx($A,{name:r},c))})})]})}),A.jsx("section",{id:"features",className:"py-20 sm:py-24 border-y border-slate-200 dark:border-slate-800",children:A.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[A.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[A.jsx("h3",{className:"text-3xl sm:text-4xl font-extrabold text-slate-900 dark:text-white",children:"Everything You Need to Succeed"}),A.jsx("p",{className:"mt-4 text-lg text-slate-600 dark:text-slate-300",children:"Stop guessing keywords. Start selling more photos."})]}),A.jsxs("div",{className:"mt-16 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[A.jsxs("div",{className:"flex flex-col items-start text-left bg-white dark:bg-slate-800/50 p-6 rounded-xl border border-slate-200 dark:border-slate-700/50",children:[A.jsx(FA,{}),A.jsx("h4",{className:"font-bold text-lg text-slate-800 dark:text-slate-100 mt-4",children:"Smart AI Generation"}),A.jsx("p",{className:"text-slate-600 dark:text-slate-300 mt-1",children:"Leverage Gemini to create commercial titles and 45 high-value keywords."})]}),A.jsxs("div",{className:"flex flex-col items-start text-left bg-white dark:bg-slate-800/50 p-6 rounded-xl border border-slate-200 dark:border-slate-700/50",children:[A.jsx(OA,{}),A.jsx("h4",{className:"font-bold text-lg text-slate-800 dark:text-slate-100 mt-4",children:"Bulk Processing"}),A.jsx("p",{className:"text-slate-600 dark:text-slate-300 mt-1",children:"Upload multiple images at once and generate metadata for your entire photoshoot."})]}),A.jsxs("div",{className:"flex flex-col items-start text-left bg-white dark:bg-slate-800/50 p-6 rounded-xl border border-slate-200 dark:border-slate-700/50",children:[A.jsx(YA,{}),A.jsx("h4",{className:"font-bold text-lg text-slate-800 dark:text-slate-100 mt-4",children:"Easy Export"}),A.jsx("p",{className:"text-slate-600 dark:text-slate-300 mt-1",children:"Download all data as a single CSV file, ready for any microstock agency."})]}),A.jsxs("div",{className:"flex flex-col items-start text-left bg-white dark:bg-slate-800/50 p-6 rounded-xl border border-slate-200 dark:border-slate-700/50",children:[A.jsx(JA,{}),A.jsx("h4",{className:"font-bold text-lg text-slate-800 dark:text-slate-100 mt-4",children:"Your Data is Yours"}),A.jsx("p",{className:"text-slate-600 dark:text-slate-300 mt-1",children:"Your API key is stored only in your browser and your images are never saved."})]})]})]})}),A.jsx("section",{id:"how-it-works",className:"py-20 sm:py-24",children:A.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[A.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[A.jsx("h3",{className:"text-3xl sm:text-4xl font-extrabold text-slate-900 dark:text-white",children:"Get Started in 3 Easy Steps"}),A.jsx("p",{className:"mt-4 text-lg text-slate-600 dark:text-slate-300",children:"From photo to profit in under a minute."})]}),A.jsxs("div",{className:"mt-16 grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-12",children:[A.jsx(pu,{step:1,title:"Upload Images",description:"Drag and drop one or multiple photos to get started.",illustration:A.jsx(KA,{})}),A.jsx(pu,{step:2,title:"Click Generate",description:"Our AI analyzes your images and generates the metadata.",illustration:A.jsx(QA,{})}),A.jsx(pu,{step:3,title:"Export & Upload",description:"Copy keywords or export everything as a handy CSV file.",illustration:A.jsx(XA,{})})]})]})}),A.jsx("footer",{className:"py-12 bg-slate-50/50 dark:bg-slate-900/50 border-t border-slate-200 dark:border-slate-800",children:A.jsx("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center text-slate-500 dark:text-slate-400",children:A.jsxs("p",{children:[" ",new Date().getFullYear()," AI Microstock Pro. All Rights Reserved."]})})})]})]})},jA=()=>A.jsx("svg",{className:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:A.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e_=({modelMode:n,setModelMode:e})=>{const l=[{id:"high_quality",title:"Kualitas Tinggi",description:"Hasil terbaik, mungkin lebih lambat."},{id:"fast",title:"Cepat & Efisien",description:"Hasil lebih cepat, ideal untuk draf."}];return A.jsx("div",{className:"w-full",children:A.jsxs("fieldset",{children:[A.jsx("legend",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300 mb-3 block",children:"Pilih Mode Generator"}),A.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:l.map(o=>A.jsxs("div",{children:[A.jsx("input",{type:"radio",name:"model_mode",id:o.id,value:o.id,checked:n===o.id,onChange:()=>e(o.id),className:"sr-only"}),A.jsxs("label",{htmlFor:o.id,className:`relative flex flex-col text-left p-4 rounded-lg cursor-pointer border-2 transition-all duration-200 ${n===o.id?"border-blue-500 bg-blue-50 dark:bg-blue-500/10 shadow-lg":"border-slate-300 dark:border-slate-700 bg-white/50 dark:bg-slate-800/50 hover:border-slate-400 dark:hover:border-slate-500"}`,children:[A.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-100",children:o.title}),A.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:o.description}),n===o.id&&A.jsx("div",{className:"absolute top-2 right-2 flex h-6 w-6 items-center justify-center rounded-full bg-blue-500",children:A.jsx(jA,{})})]})]},o.id))})]})})},t_=()=>A.jsxs("svg",{className:"w-24 h-24 text-white drop-shadow-lg",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1",children:[A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M12 12v9"}),A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12l-3.5 3.5M12 12l3.5 3.5"})]}),n_=()=>A.jsx("div",{className:"fixed inset-0 z-40 flex flex-col items-center justify-center bg-slate-900/70 backdrop-blur-sm transition-opacity duration-300 animate-fade-in","aria-hidden":"true",children:A.jsxs("div",{className:"flex flex-col items-center justify-center p-8 border-4 border-dashed border-white/50 rounded-3xl",children:[A.jsx(t_,{}),A.jsx("h2",{className:"mt-6 text-3xl font-bold text-white drop-shadow-md",children:"Lepaskan gambar di mana saja"}),A.jsx("p",{className:"mt-2 text-lg text-white/80 drop-shadow-md",children:"Gambar Anda akan ditambahkan untuk diproses."})]})}),i_=()=>A.jsx("svg",{className:"h-6 w-6 text-green-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),l_=()=>A.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),o_=({message:n,onClose:e,type:l="success"})=>A.jsx("div",{role:"alert",className:"fixed bottom-5 right-5 z-50 w-full max-w-sm animate-fade-in-up",children:A.jsxs("div",{className:"flex items-start p-4 rounded-xl shadow-2xl bg-white/70 dark:bg-slate-800/70 backdrop-blur-lg border border-slate-200 dark:border-slate-700",children:[A.jsx("div",{className:"flex-shrink-0",children:A.jsx(i_,{})}),A.jsxs("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:[A.jsx("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-100",children:"Proses Selesai"}),A.jsx("p",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300",children:n})]}),A.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:A.jsx("button",{onClick:e,className:"inline-flex rounded-md text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-slate-800","aria-label":"Tutup notifikasi",children:A.jsx(l_,{})})})]})}),a_=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),r_=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-slate-500 dark:text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),s_=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),u_=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),f_=()=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-16 w-16 text-slate-400 dark:text-slate-500 opacity-50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),c_=n=>{const e=n.imageData;if(!e||e.length===0){alert("Tidak ada data yang dihasilkan untuk diekspor dari entri riwayat ini.");return}const l=["filename","title","keywords"],o=v=>{const p=Array.isArray(v)?v.join(", "):v;return/[",\n\r]/.test(p)?`"${p.replace(/"/g,'""')}"`:p},r=e.map(v=>[o(v.fileName),o(v.title),o(v.keywords)].join(",")),c=[l.join(","),...r].join(`
`),m=new Blob([c],{type:"text/csv;charset=utf-8;"}),h=document.createElement("a");h.href=URL.createObjectURL(m),h.download=`ai_microstock_history_${n.timestamp}.csv`,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(h.href)},d_=({isOpen:n,onClose:e,history:l,onClearHistory:o})=>(Ne.useEffect(()=>{const r=c=>{c.key==="Escape"&&e()};return n&&window.addEventListener("keydown",r),()=>{window.removeEventListener("keydown",r)}},[n,e]),n?A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/80 backdrop-blur-sm animate-fade-in",onClick:e,"aria-modal":"true",role:"dialog",children:A.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl m-4 border border-slate-200 dark:border-slate-700 flex flex-col",style:{maxHeight:"80vh"},onClick:r=>r.stopPropagation(),children:[A.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-200 dark:border-slate-700 flex-shrink-0",children:[A.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center",children:[A.jsx(a_,{}),"Riwayat Generasi"]}),A.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-800 dark:text-slate-500 dark:hover:text-white transition-colors","aria-label":"Tutup modal",children:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),A.jsx("div",{className:"p-6 overflow-y-auto",children:l.length>0?A.jsx("div",{className:"space-y-4",children:l.map(r=>{var c,m;return A.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg border border-slate-200 dark:border-slate-700/50 text-sm",children:[A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsxs("div",{children:[A.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-100",children:new Date(r.timestamp).toLocaleString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}),A.jsxs("div",{className:"flex items-center flex-wrap gap-x-4 gap-y-1 mt-2 text-slate-600 dark:text-slate-300",children:[A.jsxs("span",{title:"Total Files",className:"flex items-center",children:[A.jsx(r_,{}),A.jsxs("span",{className:"ml-1.5 font-medium",children:[r.totalFiles," File"]})]}),A.jsxs("span",{title:"Success",className:"flex items-center",children:[A.jsx(s_,{}),A.jsxs("span",{className:"ml-1.5 font-medium text-green-600 dark:text-green-400",children:[r.successCount," Berhasil"]})]}),A.jsxs("span",{title:"Failed",className:"flex items-center",children:[A.jsx(u_,{}),A.jsxs("span",{className:"ml-1.5 font-medium text-red-600 dark:text-red-400",children:[r.errorCount," Gagal"]})]})]})]}),r.imageData&&r.imageData.length>0&&A.jsxs("button",{onClick:()=>c_(r),className:"flex-shrink-0 ml-4 flex items-center justify-center px-3 py-1.5 text-xs font-semibold text-blue-600 dark:text-blue-400 bg-blue-100/60 dark:bg-blue-500/20 rounded-md hover:bg-blue-100 dark:hover:bg-blue-500/30 transition-all duration-200","aria-label":"Ekspor entri riwayat ini sebagai CSV",children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),A.jsx("span",{children:"Export CSV"})]})]}),(r.imageData||r.images)&&((((c=r.imageData)==null?void 0:c.length)??0)>0||(((m=r.images)==null?void 0:m.length)??0)>0)&&A.jsx("div",{className:"mt-4 pt-3 border-t border-slate-200 dark:border-slate-700/60",children:A.jsx("div",{className:"grid grid-cols-5 sm:grid-cols-7 md:grid-cols-9 gap-2",children:(r.imageData||r.images).map((h,v)=>A.jsx("img",{src:h.thumbnailUrl||h.dataUrl,title:h.fileName,alt:`Thumbnail for ${h.fileName}`,className:"aspect-square w-full h-full object-cover rounded-md shadow-sm bg-slate-200 dark:bg-slate-700"},v))})})]},r.id)})}):A.jsxs("div",{className:"text-center py-12",children:[A.jsx(f_,{}),A.jsx("h3",{className:"text-xl font-semibold mt-4 text-slate-600 dark:text-slate-300",children:"Belum Ada Riwayat"}),A.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"Selesaikan sebuah sesi generasi untuk melihat riwayat Anda di sini."})]})}),l.length>0&&A.jsx("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex-shrink-0 flex justify-end",children:A.jsx("button",{onClick:()=>{confirm("Apakah Anda yakin ingin menghapus semua riwayat? Tindakan ini tidak dapat diurungkan.")&&o()},className:"px-4 py-2 text-sm font-bold text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500",children:"Bersihkan Semua Riwayat"})})]})}):null);function m_(n,e){return e.forEach(function(l){l&&typeof l!="string"&&!Array.isArray(l)&&Object.keys(l).forEach(function(o){if(o!=="default"&&!(o in n)){var r=Object.getOwnPropertyDescriptor(l,o);Object.defineProperty(n,o,r.get?r:{enumerable:!0,get:function(){return l[o]}})}})}),Object.freeze(n)}function Np(n,e){return new Promise(function(l,o){let r;return h_(n).then(function(c){try{return r=c,l(new Blob([e.slice(0,2),r,e.slice(2)],{type:"image/jpeg"}))}catch(m){return o(m)}},o)})}const h_=n=>new Promise((e,l)=>{const o=new FileReader;o.addEventListener("load",({target:{result:r}})=>{const c=new DataView(r);let m=0;if(c.getUint16(m)!==65496)return l("not a valid JPEG");for(m+=2;;){const h=c.getUint16(m);if(h===65498)break;const v=c.getUint16(m+2);if(h===65505&&c.getUint32(m+4)===1165519206){const p=m+10;let g;switch(c.getUint16(p)){case 18761:g=!0;break;case 19789:g=!1;break;default:return l("TIFF header contains invalid endian")}if(c.getUint16(p+2,g)!==42)return l("TIFF header contains invalid version");const T=c.getUint32(p+4,g),C=p+T+2+12*c.getUint16(p+T,g);for(let S=p+T+2;S<C;S+=12)if(c.getUint16(S,g)==274){if(c.getUint16(S+2,g)!==3)return l("Orientation data type is invalid");if(c.getUint32(S+4,g)!==1)return l("Orientation data count is invalid");c.setUint16(S+8,1,g);break}return e(r.slice(m,m+2+v))}m+=2+v}return e(new Blob)}),o.readAsArrayBuffer(n)});var Ya={},p_={get exports(){return Ya},set exports(n){Ya=n}};(function(n){var e,l,o={};p_.exports=o,o.parse=function(r,c){for(var m=o.bin.readUshort,h=o.bin.readUint,v=0,p={},g=new Uint8Array(r),T=g.length-4;h(g,T)!=101010256;)T--;v=T,v+=4;var C=m(g,v+=4);m(g,v+=2);var S=h(g,v+=2),b=h(g,v+=4);v+=4,v=b;for(var D=0;D<C;D++){h(g,v),v+=4,v+=4,v+=4,h(g,v+=4),S=h(g,v+=4);var L=h(g,v+=4),U=m(g,v+=4),J=m(g,v+2),O=m(g,v+4);v+=6;var P=h(g,v+=8);v+=4,v+=U+J+O,o._readLocal(g,P,p,S,L,c)}return p},o._readLocal=function(r,c,m,h,v,p){var g=o.bin.readUshort,T=o.bin.readUint;T(r,c),g(r,c+=4),g(r,c+=2);var C=g(r,c+=2);T(r,c+=2),T(r,c+=4),c+=4;var S=g(r,c+=8),b=g(r,c+=2);c+=2;var D=o.bin.readUTF8(r,c,S);if(c+=S,c+=b,p)m[D]={size:v,csize:h};else{var L=new Uint8Array(r.buffer,c);if(C==0)m[D]=new Uint8Array(L.buffer.slice(c,c+h));else{if(C!=8)throw"unknown compression method: "+C;var U=new Uint8Array(v);o.inflateRaw(L,U),m[D]=U}}},o.inflateRaw=function(r,c){return o.F.inflate(r,c)},o.inflate=function(r,c){return r[0],r[1],o.inflateRaw(new Uint8Array(r.buffer,r.byteOffset+2,r.length-6),c)},o.deflate=function(r,c){c==null&&(c={level:6});var m=0,h=new Uint8Array(50+Math.floor(1.1*r.length));h[m]=120,h[m+1]=156,m+=2,m=o.F.deflateRaw(r,h,m,c.level);var v=o.adler(r,0,r.length);return h[m+0]=v>>>24&255,h[m+1]=v>>>16&255,h[m+2]=v>>>8&255,h[m+3]=v>>>0&255,new Uint8Array(h.buffer,0,m+4)},o.deflateRaw=function(r,c){c==null&&(c={level:6});var m=new Uint8Array(50+Math.floor(1.1*r.length)),h=o.F.deflateRaw(r,m,h,c.level);return new Uint8Array(m.buffer,0,h)},o.encode=function(r,c){c==null&&(c=!1);var m=0,h=o.bin.writeUint,v=o.bin.writeUshort,p={};for(var g in r){var T=!o._noNeed(g)&&!c,C=r[g],S=o.crc.crc(C,0,C.length);p[g]={cpr:T,usize:C.length,crc:S,file:T?o.deflateRaw(C):C}}for(var g in p)m+=p[g].file.length+30+46+2*o.bin.sizeUTF8(g);m+=22;var b=new Uint8Array(m),D=0,L=[];for(var g in p){var U=p[g];L.push(D),D=o._writeHeader(b,D,g,U,0)}var J=0,O=D;for(var g in p)U=p[g],L.push(D),D=o._writeHeader(b,D,g,U,1,L[J++]);var P=D-O;return h(b,D,101010256),D+=4,v(b,D+=4,J),v(b,D+=2,J),h(b,D+=2,P),h(b,D+=4,O),D+=4,D+=2,b.buffer},o._noNeed=function(r){var c=r.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(c)!=-1},o._writeHeader=function(r,c,m,h,v,p){var g=o.bin.writeUint,T=o.bin.writeUshort,C=h.file;return g(r,c,v==0?67324752:33639248),c+=4,v==1&&(c+=2),T(r,c,20),T(r,c+=2,0),T(r,c+=2,h.cpr?8:0),g(r,c+=2,0),g(r,c+=4,h.crc),g(r,c+=4,C.length),g(r,c+=4,h.usize),T(r,c+=4,o.bin.sizeUTF8(m)),T(r,c+=2,0),c+=2,v==1&&(c+=2,c+=2,g(r,c+=6,p),c+=4),c+=o.bin.writeUTF8(r,c,m),v==0&&(r.set(C,c),c+=C.length),c},o.crc={table:function(){for(var r=new Uint32Array(256),c=0;c<256;c++){for(var m=c,h=0;h<8;h++)1&m?m=3988292384^m>>>1:m>>>=1;r[c]=m}return r}(),update:function(r,c,m,h){for(var v=0;v<h;v++)r=o.crc.table[255&(r^c[m+v])]^r>>>8;return r},crc:function(r,c,m){return 4294967295^o.crc.update(4294967295,r,c,m)}},o.adler=function(r,c,m){for(var h=1,v=0,p=c,g=c+m;p<g;){for(var T=Math.min(p+5552,g);p<T;)v+=h+=r[p++];h%=65521,v%=65521}return v<<16|h},o.bin={readUshort:function(r,c){return r[c]|r[c+1]<<8},writeUshort:function(r,c,m){r[c]=255&m,r[c+1]=m>>8&255},readUint:function(r,c){return 16777216*r[c+3]+(r[c+2]<<16|r[c+1]<<8|r[c])},writeUint:function(r,c,m){r[c]=255&m,r[c+1]=m>>8&255,r[c+2]=m>>16&255,r[c+3]=m>>24&255},readASCII:function(r,c,m){for(var h="",v=0;v<m;v++)h+=String.fromCharCode(r[c+v]);return h},writeASCII:function(r,c,m){for(var h=0;h<m.length;h++)r[c+h]=m.charCodeAt(h)},pad:function(r){return r.length<2?"0"+r:r},readUTF8:function(r,c,m){for(var h,v="",p=0;p<m;p++)v+="%"+o.bin.pad(r[c+p].toString(16));try{h=decodeURIComponent(v)}catch{return o.bin.readASCII(r,c,m)}return h},writeUTF8:function(r,c,m){for(var h=m.length,v=0,p=0;p<h;p++){var g=m.charCodeAt(p);if((4294967168&g)==0)r[c+v]=g,v++;else if((4294965248&g)==0)r[c+v]=192|g>>6,r[c+v+1]=128|g>>0&63,v+=2;else if((4294901760&g)==0)r[c+v]=224|g>>12,r[c+v+1]=128|g>>6&63,r[c+v+2]=128|g>>0&63,v+=3;else{if((4292870144&g)!=0)throw"e";r[c+v]=240|g>>18,r[c+v+1]=128|g>>12&63,r[c+v+2]=128|g>>6&63,r[c+v+3]=128|g>>0&63,v+=4}}return v},sizeUTF8:function(r){for(var c=r.length,m=0,h=0;h<c;h++){var v=r.charCodeAt(h);if((4294967168&v)==0)m++;else if((4294965248&v)==0)m+=2;else if((4294901760&v)==0)m+=3;else{if((4292870144&v)!=0)throw"e";m+=4}}return m}},o.F={},o.F.deflateRaw=function(r,c,m,h){var v=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][h],p=o.F.U,g=o.F._goodIndex;o.F._hash;var T=o.F._putsE,C=0,S=m<<3,b=0,D=r.length;if(h==0){for(;C<D;)T(c,S,C+(G=Math.min(65535,D-C))==D?1:0),S=o.F._copyExact(r,C,G,c,S+8),C+=G;return S>>>3}var L=p.lits,U=p.strt,J=p.prev,O=0,P=0,H=0,k=0,W=0,N=0;for(D>2&&(U[N=o.F._hash(r,0)]=0),C=0;C<D;C++){if(W=N,C+1<D-2){N=o.F._hash(r,C+1);var R=C+1&32767;J[R]=U[N],U[N]=R}if(b<=C){(O>14e3||P>26697)&&D-C>100&&(b<C&&(L[O]=C-b,O+=2,b=C),S=o.F._writeBlock(C==D-1||b==D?1:0,L,O,k,r,H,C-H,c,S),O=P=k=0,H=C);var V=0;C<D-2&&(V=o.F._bestMatch(r,C,J,W,Math.min(v[2],D-C),v[3]));var G=V>>>16,q=65535&V;if(V!=0){q=65535&V;var X=g(G=V>>>16,p.of0);p.lhst[257+X]++;var z=g(q,p.df0);p.dhst[z]++,k+=p.exb[X]+p.dxb[z],L[O]=G<<23|C-b,L[O+1]=q<<16|X<<8|z,O+=2,b=C+G}else p.lhst[r[C]]++;P++}}for(H==C&&r.length!=0||(b<C&&(L[O]=C-b,O+=2,b=C),S=o.F._writeBlock(1,L,O,k,r,H,C-H,c,S),O=0,P=0,O=P=k=0,H=C);(7&S)!=0;)S++;return S>>>3},o.F._bestMatch=function(r,c,m,h,v,p){var g=32767&c,T=m[g],C=g-T+32768&32767;if(T==g||h!=o.F._hash(r,c-C))return 0;for(var S=0,b=0,D=Math.min(32767,c);C<=D&&--p!=0&&T!=g;){if(S==0||r[c+S]==r[c+S-C]){var L=o.F._howLong(r,c,C);if(L>S){if(b=C,(S=L)>=v)break;C+2<L&&(L=C+2);for(var U=0,J=0;J<L-2;J++){var O=c-C+J+32768&32767,P=O-m[O]+32768&32767;P>U&&(U=P,T=O)}}}C+=(g=T)-(T=m[g])+32768&32767}return S<<16|b},o.F._howLong=function(r,c,m){if(r[c]!=r[c-m]||r[c+1]!=r[c+1-m]||r[c+2]!=r[c+2-m])return 0;var h=c,v=Math.min(r.length,c+258);for(c+=3;c<v&&r[c]==r[c-m];)c++;return c-h},o.F._hash=function(r,c){return(r[c]<<8|r[c+1])+(r[c+2]<<4)&65535},o.saved=0,o.F._writeBlock=function(r,c,m,h,v,p,g,T,C){var S,b,D,L,U,J,O,P,H,k=o.F.U,W=o.F._putsF,N=o.F._putsE;k.lhst[256]++,b=(S=o.F.getTrees())[0],D=S[1],L=S[2],U=S[3],J=S[4],O=S[5],P=S[6],H=S[7];var R=32+((C+3&7)==0?0:8-(C+3&7))+(g<<3),V=h+o.F.contSize(k.fltree,k.lhst)+o.F.contSize(k.fdtree,k.dhst),G=h+o.F.contSize(k.ltree,k.lhst)+o.F.contSize(k.dtree,k.dhst);G+=14+3*O+o.F.contSize(k.itree,k.ihst)+(2*k.ihst[16]+3*k.ihst[17]+7*k.ihst[18]);for(var q=0;q<286;q++)k.lhst[q]=0;for(q=0;q<30;q++)k.dhst[q]=0;for(q=0;q<19;q++)k.ihst[q]=0;var X=R<V&&R<G?0:V<G?1:2;if(W(T,C,r),W(T,C+1,X),C+=3,X==0){for(;(7&C)!=0;)C++;C=o.F._copyExact(v,p,g,T,C)}else{var z,K;if(X==1&&(z=k.fltree,K=k.fdtree),X==2){o.F.makeCodes(k.ltree,b),o.F.revCodes(k.ltree,b),o.F.makeCodes(k.dtree,D),o.F.revCodes(k.dtree,D),o.F.makeCodes(k.itree,L),o.F.revCodes(k.itree,L),z=k.ltree,K=k.dtree,N(T,C,U-257),N(T,C+=5,J-1),N(T,C+=5,O-4),C+=4;for(var E=0;E<O;E++)N(T,C+3*E,k.itree[1+(k.ordr[E]<<1)]);C+=3*O,C=o.F._codeTiny(P,k.itree,T,C),C=o.F._codeTiny(H,k.itree,T,C)}for(var _=p,ee=0;ee<m;ee+=2){for(var Q=c[ee],w=Q>>>23,$=_+(8388607&Q);_<$;)C=o.F._writeLit(v[_++],z,T,C);if(w!=0){var ne=c[ee+1],oe=ne>>16,le=ne>>8&255,F=255&ne;N(T,C=o.F._writeLit(257+le,z,T,C),w-k.of0[le]),C+=k.exb[le],W(T,C=o.F._writeLit(F,K,T,C),oe-k.df0[F]),C+=k.dxb[F],_+=w}}C=o.F._writeLit(256,z,T,C)}return C},o.F._copyExact=function(r,c,m,h,v){var p=v>>>3;return h[p]=m,h[p+1]=m>>>8,h[p+2]=255-h[p],h[p+3]=255-h[p+1],p+=4,h.set(new Uint8Array(r.buffer,c,m),p),v+(m+4<<3)},o.F.getTrees=function(){for(var r=o.F.U,c=o.F._hufTree(r.lhst,r.ltree,15),m=o.F._hufTree(r.dhst,r.dtree,15),h=[],v=o.F._lenCodes(r.ltree,h),p=[],g=o.F._lenCodes(r.dtree,p),T=0;T<h.length;T+=2)r.ihst[h[T]]++;for(T=0;T<p.length;T+=2)r.ihst[p[T]]++;for(var C=o.F._hufTree(r.ihst,r.itree,7),S=19;S>4&&r.itree[1+(r.ordr[S-1]<<1)]==0;)S--;return[c,m,C,v,g,S,h,p]},o.F.getSecond=function(r){for(var c=[],m=0;m<r.length;m+=2)c.push(r[m+1]);return c},o.F.nonZero=function(r){for(var c="",m=0;m<r.length;m+=2)r[m+1]!=0&&(c+=(m>>1)+",");return c},o.F.contSize=function(r,c){for(var m=0,h=0;h<c.length;h++)m+=c[h]*r[1+(h<<1)];return m},o.F._codeTiny=function(r,c,m,h){for(var v=0;v<r.length;v+=2){var p=r[v],g=r[v+1];h=o.F._writeLit(p,c,m,h);var T=p==16?2:p==17?3:7;p>15&&(o.F._putsE(m,h,g,T),h+=T)}return h},o.F._lenCodes=function(r,c){for(var m=r.length;m!=2&&r[m-1]==0;)m-=2;for(var h=0;h<m;h+=2){var v=r[h+1],p=h+3<m?r[h+3]:-1,g=h+5<m?r[h+5]:-1,T=h==0?-1:r[h-1];if(v==0&&p==v&&g==v){for(var C=h+5;C+2<m&&r[C+2]==v;)C+=2;(S=Math.min(C+1-h>>>1,138))<11?c.push(17,S-3):c.push(18,S-11),h+=2*S-2}else if(v==T&&p==v&&g==v){for(C=h+5;C+2<m&&r[C+2]==v;)C+=2;var S=Math.min(C+1-h>>>1,6);c.push(16,S-3),h+=2*S-2}else c.push(v,0)}return m>>>1},o.F._hufTree=function(r,c,m){var h=[],v=r.length,p=c.length,g=0;for(g=0;g<p;g+=2)c[g]=0,c[g+1]=0;for(g=0;g<v;g++)r[g]!=0&&h.push({lit:g,f:r[g]});var T=h.length,C=h.slice(0);if(T==0)return 0;if(T==1){var S=h[0].lit;return C=S==0?1:0,c[1+(S<<1)]=1,c[1+(C<<1)]=1,1}h.sort(function(P,H){return P.f-H.f});var b=h[0],D=h[1],L=0,U=1,J=2;for(h[0]={lit:-1,f:b.f+D.f,l:b,r:D,d:0};U!=T-1;)b=L!=U&&(J==T||h[L].f<h[J].f)?h[L++]:h[J++],D=L!=U&&(J==T||h[L].f<h[J].f)?h[L++]:h[J++],h[U++]={lit:-1,f:b.f+D.f,l:b,r:D};var O=o.F.setDepth(h[U-1],0);for(O>m&&(o.F.restrictDepth(C,m,O),O=m),g=0;g<T;g++)c[1+(C[g].lit<<1)]=C[g].d;return O},o.F.setDepth=function(r,c){return r.lit!=-1?(r.d=c,c):Math.max(o.F.setDepth(r.l,c+1),o.F.setDepth(r.r,c+1))},o.F.restrictDepth=function(r,c,m){var h=0,v=1<<m-c,p=0;for(r.sort(function(T,C){return C.d==T.d?T.f-C.f:C.d-T.d}),h=0;h<r.length&&r[h].d>c;h++){var g=r[h].d;r[h].d=c,p+=v-(1<<m-g)}for(p>>>=m-c;p>0;)(g=r[h].d)<c?(r[h].d++,p-=1<<c-g-1):h++;for(;h>=0;h--)r[h].d==c&&p<0&&(r[h].d--,p++);p!=0&&console.log("debt left")},o.F._goodIndex=function(r,c){var m=0;return c[16|m]<=r&&(m|=16),c[8|m]<=r&&(m|=8),c[4|m]<=r&&(m|=4),c[2|m]<=r&&(m|=2),c[1|m]<=r&&(m|=1),m},o.F._writeLit=function(r,c,m,h){return o.F._putsF(m,h,c[r<<1]),h+c[1+(r<<1)]},o.F.inflate=function(r,c){var m=Uint8Array;if(r[0]==3&&r[1]==0)return c||new m(0);var h=o.F,v=h._bitsF,p=h._bitsE,g=h._decodeTiny,T=h.makeCodes,C=h.codes2map,S=h._get17,b=h.U,D=c==null;D&&(c=new m(r.length>>>2<<3));for(var L,U,J=0,O=0,P=0,H=0,k=0,W=0,N=0,R=0,V=0;J==0;)if(J=v(r,V,1),O=v(r,V+1,2),V+=3,O!=0){if(D&&(c=o.F._check(c,R+(1<<17))),O==1&&(L=b.flmap,U=b.fdmap,W=511,N=31),O==2){P=p(r,V,5)+257,H=p(r,V+5,5)+1,k=p(r,V+10,4)+4,V+=14;for(var G=0;G<38;G+=2)b.itree[G]=0,b.itree[G+1]=0;var q=1;for(G=0;G<k;G++){var X=p(r,V+3*G,3);b.itree[1+(b.ordr[G]<<1)]=X,X>q&&(q=X)}V+=3*k,T(b.itree,q),C(b.itree,q,b.imap),L=b.lmap,U=b.dmap,V=g(b.imap,(1<<q)-1,P+H,r,V,b.ttree);var z=h._copyOut(b.ttree,0,P,b.ltree);W=(1<<z)-1;var K=h._copyOut(b.ttree,P,H,b.dtree);N=(1<<K)-1,T(b.ltree,z),C(b.ltree,z,L),T(b.dtree,K),C(b.dtree,K,U)}for(;;){var E=L[S(r,V)&W];V+=15&E;var _=E>>>4;if(!(_>>>8))c[R++]=_;else{if(_==256)break;var ee=R+_-254;if(_>264){var Q=b.ldef[_-257];ee=R+(Q>>>3)+p(r,V,7&Q),V+=7&Q}var w=U[S(r,V)&N];V+=15&w;var $=w>>>4,ne=b.ddef[$],oe=(ne>>>4)+v(r,V,15&ne);for(V+=15&ne,D&&(c=o.F._check(c,R+(1<<17)));R<ee;)c[R]=c[R++-oe],c[R]=c[R++-oe],c[R]=c[R++-oe],c[R]=c[R++-oe];R=ee}}}else{(7&V)!=0&&(V+=8-(7&V));var le=4+(V>>>3),F=r[le-4]|r[le-3]<<8;D&&(c=o.F._check(c,R+F)),c.set(new m(r.buffer,r.byteOffset+le,F),R),V=le+F<<3,R+=F}return c.length==R?c:c.slice(0,R)},o.F._check=function(r,c){var m=r.length;if(c<=m)return r;var h=new Uint8Array(Math.max(m<<1,c));return h.set(r,0),h},o.F._decodeTiny=function(r,c,m,h,v,p){for(var g=o.F._bitsE,T=o.F._get17,C=0;C<m;){var S=r[T(h,v)&c];v+=15&S;var b=S>>>4;if(b<=15)p[C]=b,C++;else{var D=0,L=0;b==16?(L=3+g(h,v,2),v+=2,D=p[C-1]):b==17?(L=3+g(h,v,3),v+=3):b==18&&(L=11+g(h,v,7),v+=7);for(var U=C+L;C<U;)p[C]=D,C++}}return v},o.F._copyOut=function(r,c,m,h){for(var v=0,p=0,g=h.length>>>1;p<m;){var T=r[p+c];h[p<<1]=0,h[1+(p<<1)]=T,T>v&&(v=T),p++}for(;p<g;)h[p<<1]=0,h[1+(p<<1)]=0,p++;return v},o.F.makeCodes=function(r,c){for(var m,h,v,p,g=o.F.U,T=r.length,C=g.bl_count,S=0;S<=c;S++)C[S]=0;for(S=1;S<T;S+=2)C[r[S]]++;var b=g.next_code;for(m=0,C[0]=0,h=1;h<=c;h++)m=m+C[h-1]<<1,b[h]=m;for(v=0;v<T;v+=2)(p=r[v+1])!=0&&(r[v]=b[p],b[p]++)},o.F.codes2map=function(r,c,m){for(var h=r.length,v=o.F.U.rev15,p=0;p<h;p+=2)if(r[p+1]!=0)for(var g=p>>1,T=r[p+1],C=g<<4|T,S=c-T,b=r[p]<<S,D=b+(1<<S);b!=D;)m[v[b]>>>15-c]=C,b++},o.F.revCodes=function(r,c){for(var m=o.F.U.rev15,h=15-c,v=0;v<r.length;v+=2){var p=r[v]<<c-r[v+1];r[v]=m[p]>>>h}},o.F._putsE=function(r,c,m){m<<=7&c;var h=c>>>3;r[h]|=m,r[h+1]|=m>>>8},o.F._putsF=function(r,c,m){m<<=7&c;var h=c>>>3;r[h]|=m,r[h+1]|=m>>>8,r[h+2]|=m>>>16},o.F._bitsE=function(r,c,m){return(r[c>>>3]|r[1+(c>>>3)]<<8)>>>(7&c)&(1<<m)-1},o.F._bitsF=function(r,c,m){return(r[c>>>3]|r[1+(c>>>3)]<<8|r[2+(c>>>3)]<<16)>>>(7&c)&(1<<m)-1},o.F._get17=function(r,c){return(r[c>>>3]|r[1+(c>>>3)]<<8|r[2+(c>>>3)]<<16)>>>(7&c)},o.F._get25=function(r,c){return(r[c>>>3]|r[1+(c>>>3)]<<8|r[2+(c>>>3)]<<16|r[3+(c>>>3)]<<24)>>>(7&c)},o.F.U=(e=Uint16Array,l=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new l(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new l(286),dhst:new l(30),ihst:new l(19),lits:new l(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var r=o.F.U,c=0;c<32768;c++){var m=c;m=(4278255360&(m=(4042322160&(m=(3435973836&(m=(2863311530&m)>>>1|(1431655765&m)<<1))>>>2|(858993459&m)<<2))>>>4|(252645135&m)<<4))>>>8|(16711935&m)<<8,r.rev15[c]=(m>>>16|m<<16)>>>17}function h(v,p,g){for(;p--!=0;)v.push(0,g)}for(c=0;c<32;c++)r.ldef[c]=r.of0[c]<<3|r.exb[c],r.ddef[c]=r.df0[c]<<4|r.dxb[c];h(r.fltree,144,8),h(r.fltree,112,9),h(r.fltree,24,7),h(r.fltree,8,8),o.F.makeCodes(r.fltree,9),o.F.codes2map(r.fltree,9,r.flmap),o.F.revCodes(r.fltree,9),h(r.fdtree,32,5),o.F.makeCodes(r.fdtree,5),o.F.codes2map(r.fdtree,5,r.fdmap),o.F.revCodes(r.fdtree,5),h(r.itree,19,0),h(r.ltree,286,0),h(r.dtree,30,0),h(r.ttree,320,0)}()})();var g_=m_({__proto__:null,default:Ya},[Ya]);const sn=function(){var n={nextZero(g,T){for(;g[T]!=0;)T++;return T},readUshort:(g,T)=>g[T]<<8|g[T+1],writeUshort(g,T,C){g[T]=C>>8&255,g[T+1]=255&C},readUint:(g,T)=>16777216*g[T]+(g[T+1]<<16|g[T+2]<<8|g[T+3]),writeUint(g,T,C){g[T]=C>>24&255,g[T+1]=C>>16&255,g[T+2]=C>>8&255,g[T+3]=255&C},readASCII(g,T,C){let S="";for(let b=0;b<C;b++)S+=String.fromCharCode(g[T+b]);return S},writeASCII(g,T,C){for(let S=0;S<C.length;S++)g[T+S]=C.charCodeAt(S)},readBytes(g,T,C){const S=[];for(let b=0;b<C;b++)S.push(g[T+b]);return S},pad:g=>g.length<2?`0${g}`:g,readUTF8(g,T,C){let S,b="";for(let D=0;D<C;D++)b+=`%${n.pad(g[T+D].toString(16))}`;try{S=decodeURIComponent(b)}catch{return n.readASCII(g,T,C)}return S}};function e(g,T,C,S){const b=T*C,D=c(S),L=Math.ceil(T*D/8),U=new Uint8Array(4*b),J=new Uint32Array(U.buffer),{ctype:O}=S,{depth:P}=S,H=n.readUshort;if(O==6){const Q=b<<2;if(P==8)for(var k=0;k<Q;k+=4)U[k]=g[k],U[k+1]=g[k+1],U[k+2]=g[k+2],U[k+3]=g[k+3];if(P==16)for(k=0;k<Q;k++)U[k]=g[k<<1]}else if(O==2){const Q=S.tabs.tRNS;if(Q==null){if(P==8)for(k=0;k<b;k++){var W=3*k;J[k]=255<<24|g[W+2]<<16|g[W+1]<<8|g[W]}if(P==16)for(k=0;k<b;k++)W=6*k,J[k]=255<<24|g[W+4]<<16|g[W+2]<<8|g[W]}else{var N=Q[0];const w=Q[1],$=Q[2];if(P==8)for(k=0;k<b;k++){var R=k<<2;W=3*k,J[k]=255<<24|g[W+2]<<16|g[W+1]<<8|g[W],g[W]==N&&g[W+1]==w&&g[W+2]==$&&(U[R+3]=0)}if(P==16)for(k=0;k<b;k++)R=k<<2,W=6*k,J[k]=255<<24|g[W+4]<<16|g[W+2]<<8|g[W],H(g,W)==N&&H(g,W+2)==w&&H(g,W+4)==$&&(U[R+3]=0)}}else if(O==3){const Q=S.tabs.PLTE,w=S.tabs.tRNS,$=w?w.length:0;if(P==1)for(var V=0;V<C;V++){var G=V*L,q=V*T;for(k=0;k<T;k++){R=q+k<<2;var X=3*(z=g[G+(k>>3)]>>7-((7&k)<<0)&1);U[R]=Q[X],U[R+1]=Q[X+1],U[R+2]=Q[X+2],U[R+3]=z<$?w[z]:255}}if(P==2)for(V=0;V<C;V++)for(G=V*L,q=V*T,k=0;k<T;k++)R=q+k<<2,X=3*(z=g[G+(k>>2)]>>6-((3&k)<<1)&3),U[R]=Q[X],U[R+1]=Q[X+1],U[R+2]=Q[X+2],U[R+3]=z<$?w[z]:255;if(P==4)for(V=0;V<C;V++)for(G=V*L,q=V*T,k=0;k<T;k++)R=q+k<<2,X=3*(z=g[G+(k>>1)]>>4-((1&k)<<2)&15),U[R]=Q[X],U[R+1]=Q[X+1],U[R+2]=Q[X+2],U[R+3]=z<$?w[z]:255;if(P==8)for(k=0;k<b;k++){var z;R=k<<2,X=3*(z=g[k]),U[R]=Q[X],U[R+1]=Q[X+1],U[R+2]=Q[X+2],U[R+3]=z<$?w[z]:255}}else if(O==4){if(P==8)for(k=0;k<b;k++){R=k<<2;var K=g[E=k<<1];U[R]=K,U[R+1]=K,U[R+2]=K,U[R+3]=g[E+1]}if(P==16)for(k=0;k<b;k++){var E;R=k<<2,K=g[E=k<<2],U[R]=K,U[R+1]=K,U[R+2]=K,U[R+3]=g[E+2]}}else if(O==0)for(N=S.tabs.tRNS?S.tabs.tRNS:-1,V=0;V<C;V++){const Q=V*L,w=V*T;if(P==1)for(var _=0;_<T;_++){var ee=(K=255*(g[Q+(_>>>3)]>>>7-(7&_)&1))==255*N?0:255;J[w+_]=ee<<24|K<<16|K<<8|K}else if(P==2)for(_=0;_<T;_++)ee=(K=85*(g[Q+(_>>>2)]>>>6-((3&_)<<1)&3))==85*N?0:255,J[w+_]=ee<<24|K<<16|K<<8|K;else if(P==4)for(_=0;_<T;_++)ee=(K=17*(g[Q+(_>>>1)]>>>4-((1&_)<<2)&15))==17*N?0:255,J[w+_]=ee<<24|K<<16|K<<8|K;else if(P==8)for(_=0;_<T;_++)ee=(K=g[Q+_])==N?0:255,J[w+_]=ee<<24|K<<16|K<<8|K;else if(P==16)for(_=0;_<T;_++)K=g[Q+(_<<1)],ee=H(g,Q+(_<<1))==N?0:255,J[w+_]=ee<<24|K<<16|K<<8|K}return U}function l(g,T,C,S){const b=c(g),D=Math.ceil(C*b/8),L=new Uint8Array((D+1+g.interlace)*S);return T=g.tabs.CgBI?r(T,L):o(T,L),g.interlace==0?T=m(T,g,0,C,S):g.interlace==1&&(T=function(J,O){const P=O.width,H=O.height,k=c(O),W=k>>3,N=Math.ceil(P*k/8),R=new Uint8Array(H*N);let V=0;const G=[0,0,4,0,2,0,1],q=[0,4,0,2,0,1,0],X=[8,8,8,4,4,2,2],z=[8,8,4,4,2,2,1];let K=0;for(;K<7;){const _=X[K],ee=z[K];let Q=0,w=0,$=G[K];for(;$<H;)$+=_,w++;let ne=q[K];for(;ne<P;)ne+=ee,Q++;const oe=Math.ceil(Q*k/8);m(J,O,V,Q,w);let le=0,F=G[K];for(;F<H;){let ae=q[K],ce=V+le*oe<<3;for(;ae<P;){var E;if(k==1&&(E=(E=J[ce>>3])>>7-(7&ce)&1,R[F*N+(ae>>3)]|=E<<7-((7&ae)<<0)),k==2&&(E=(E=J[ce>>3])>>6-(7&ce)&3,R[F*N+(ae>>2)]|=E<<6-((3&ae)<<1)),k==4&&(E=(E=J[ce>>3])>>4-(7&ce)&15,R[F*N+(ae>>1)]|=E<<4-((1&ae)<<2)),k>=8){const fe=F*N+ae*W;for(let de=0;de<W;de++)R[fe+de]=J[(ce>>3)+de]}ce+=k,ae+=ee}le++,F+=_}Q*w!=0&&(V+=w*(1+oe)),K+=1}return R}(T,g)),T}function o(g,T){return r(new Uint8Array(g.buffer,2,g.length-6),T)}var r=function(){const g={H:{}};return g.H.N=function(T,C){const S=Uint8Array;let b,D,L=0,U=0,J=0,O=0,P=0,H=0,k=0,W=0,N=0;if(T[0]==3&&T[1]==0)return C||new S(0);const R=g.H,V=R.b,G=R.e,q=R.R,X=R.n,z=R.A,K=R.Z,E=R.m,_=C==null;for(_&&(C=new S(T.length>>>2<<5));L==0;)if(L=V(T,N,1),U=V(T,N+1,2),N+=3,U!=0){if(_&&(C=g.H.W(C,W+(1<<17))),U==1&&(b=E.J,D=E.h,H=511,k=31),U==2){J=G(T,N,5)+257,O=G(T,N+5,5)+1,P=G(T,N+10,4)+4,N+=14;let Q=1;for(var ee=0;ee<38;ee+=2)E.Q[ee]=0,E.Q[ee+1]=0;for(ee=0;ee<P;ee++){const ne=G(T,N+3*ee,3);E.Q[1+(E.X[ee]<<1)]=ne,ne>Q&&(Q=ne)}N+=3*P,X(E.Q,Q),z(E.Q,Q,E.u),b=E.w,D=E.d,N=q(E.u,(1<<Q)-1,J+O,T,N,E.v);const w=R.V(E.v,0,J,E.C);H=(1<<w)-1;const $=R.V(E.v,J,O,E.D);k=(1<<$)-1,X(E.C,w),z(E.C,w,b),X(E.D,$),z(E.D,$,D)}for(;;){const Q=b[K(T,N)&H];N+=15&Q;const w=Q>>>4;if(!(w>>>8))C[W++]=w;else{if(w==256)break;{let $=W+w-254;if(w>264){const ae=E.q[w-257];$=W+(ae>>>3)+G(T,N,7&ae),N+=7&ae}const ne=D[K(T,N)&k];N+=15&ne;const oe=ne>>>4,le=E.c[oe],F=(le>>>4)+V(T,N,15&le);for(N+=15&le;W<$;)C[W]=C[W++-F],C[W]=C[W++-F],C[W]=C[W++-F],C[W]=C[W++-F];W=$}}}}else{(7&N)!=0&&(N+=8-(7&N));const Q=4+(N>>>3),w=T[Q-4]|T[Q-3]<<8;_&&(C=g.H.W(C,W+w)),C.set(new S(T.buffer,T.byteOffset+Q,w),W),N=Q+w<<3,W+=w}return C.length==W?C:C.slice(0,W)},g.H.W=function(T,C){const S=T.length;if(C<=S)return T;const b=new Uint8Array(S<<1);return b.set(T,0),b},g.H.R=function(T,C,S,b,D,L){const U=g.H.e,J=g.H.Z;let O=0;for(;O<S;){const P=T[J(b,D)&C];D+=15&P;const H=P>>>4;if(H<=15)L[O]=H,O++;else{let k=0,W=0;H==16?(W=3+U(b,D,2),D+=2,k=L[O-1]):H==17?(W=3+U(b,D,3),D+=3):H==18&&(W=11+U(b,D,7),D+=7);const N=O+W;for(;O<N;)L[O]=k,O++}}return D},g.H.V=function(T,C,S,b){let D=0,L=0;const U=b.length>>>1;for(;L<S;){const J=T[L+C];b[L<<1]=0,b[1+(L<<1)]=J,J>D&&(D=J),L++}for(;L<U;)b[L<<1]=0,b[1+(L<<1)]=0,L++;return D},g.H.n=function(T,C){const S=g.H.m,b=T.length;let D,L,U,J;const O=S.j;for(var P=0;P<=C;P++)O[P]=0;for(P=1;P<b;P+=2)O[T[P]]++;const H=S.K;for(D=0,O[0]=0,L=1;L<=C;L++)D=D+O[L-1]<<1,H[L]=D;for(U=0;U<b;U+=2)J=T[U+1],J!=0&&(T[U]=H[J],H[J]++)},g.H.A=function(T,C,S){const b=T.length,D=g.H.m.r;for(let L=0;L<b;L+=2)if(T[L+1]!=0){const U=L>>1,J=T[L+1],O=U<<4|J,P=C-J;let H=T[L]<<P;const k=H+(1<<P);for(;H!=k;)S[D[H]>>>15-C]=O,H++}},g.H.l=function(T,C){const S=g.H.m.r,b=15-C;for(let D=0;D<T.length;D+=2){const L=T[D]<<C-T[D+1];T[D]=S[L]>>>b}},g.H.M=function(T,C,S){S<<=7&C;const b=C>>>3;T[b]|=S,T[b+1]|=S>>>8},g.H.I=function(T,C,S){S<<=7&C;const b=C>>>3;T[b]|=S,T[b+1]|=S>>>8,T[b+2]|=S>>>16},g.H.e=function(T,C,S){return(T[C>>>3]|T[1+(C>>>3)]<<8)>>>(7&C)&(1<<S)-1},g.H.b=function(T,C,S){return(T[C>>>3]|T[1+(C>>>3)]<<8|T[2+(C>>>3)]<<16)>>>(7&C)&(1<<S)-1},g.H.Z=function(T,C){return(T[C>>>3]|T[1+(C>>>3)]<<8|T[2+(C>>>3)]<<16)>>>(7&C)},g.H.i=function(T,C){return(T[C>>>3]|T[1+(C>>>3)]<<8|T[2+(C>>>3)]<<16|T[3+(C>>>3)]<<24)>>>(7&C)},g.H.m=function(){const T=Uint16Array,C=Uint32Array;return{K:new T(16),j:new T(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new T(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new C(32),J:new T(512),_:[],h:new T(32),$:[],w:new T(32768),C:[],v:[],d:new T(32768),D:[],u:new T(512),Q:[],r:new T(32768),s:new C(286),Y:new C(30),a:new C(19),t:new C(15e3),k:new T(65536),g:new T(32768)}}(),function(){const T=g.H.m;for(var C=0;C<32768;C++){let b=C;b=(2863311530&b)>>>1|(1431655765&b)<<1,b=(3435973836&b)>>>2|(858993459&b)<<2,b=(4042322160&b)>>>4|(252645135&b)<<4,b=(4278255360&b)>>>8|(16711935&b)<<8,T.r[C]=(b>>>16|b<<16)>>>17}function S(b,D,L){for(;D--!=0;)b.push(0,L)}for(C=0;C<32;C++)T.q[C]=T.S[C]<<3|T.T[C],T.c[C]=T.p[C]<<4|T.z[C];S(T._,144,8),S(T._,112,9),S(T._,24,7),S(T._,8,8),g.H.n(T._,9),g.H.A(T._,9,T.J),g.H.l(T._,9),S(T.$,32,5),g.H.n(T.$,5),g.H.A(T.$,5,T.h),g.H.l(T.$,5),S(T.Q,19,0),S(T.C,286,0),S(T.D,30,0),S(T.v,320,0)}(),g.H.N}();function c(g){return[1,null,3,1,2,null,4][g.ctype]*g.depth}function m(g,T,C,S,b){let D=c(T);const L=Math.ceil(S*D/8);let U,J;D=Math.ceil(D/8);let O=g[C],P=0;if(O>1&&(g[C]=[0,0,1][O-2]),O==3)for(P=D;P<L;P++)g[P+1]=g[P+1]+(g[P+1-D]>>>1)&255;for(let H=0;H<b;H++)if(U=C+H*L,J=U+H+1,O=g[J-1],P=0,O==0)for(;P<L;P++)g[U+P]=g[J+P];else if(O==1){for(;P<D;P++)g[U+P]=g[J+P];for(;P<L;P++)g[U+P]=g[J+P]+g[U+P-D]}else if(O==2)for(;P<L;P++)g[U+P]=g[J+P]+g[U+P-L];else if(O==3){for(;P<D;P++)g[U+P]=g[J+P]+(g[U+P-L]>>>1);for(;P<L;P++)g[U+P]=g[J+P]+(g[U+P-L]+g[U+P-D]>>>1)}else{for(;P<D;P++)g[U+P]=g[J+P]+h(0,g[U+P-L],0);for(;P<L;P++)g[U+P]=g[J+P]+h(g[U+P-D],g[U+P-L],g[U+P-D-L])}return g}function h(g,T,C){const S=g+T-C,b=S-g,D=S-T,L=S-C;return b*b<=D*D&&b*b<=L*L?g:D*D<=L*L?T:C}function v(g,T,C){C.width=n.readUint(g,T),T+=4,C.height=n.readUint(g,T),T+=4,C.depth=g[T],T++,C.ctype=g[T],T++,C.compress=g[T],T++,C.filter=g[T],T++,C.interlace=g[T],T++}function p(g,T,C,S,b,D,L,U,J){const O=Math.min(T,b),P=Math.min(C,D);let H=0,k=0;for(let K=0;K<P;K++)for(let E=0;E<O;E++)if(L>=0&&U>=0?(H=K*T+E<<2,k=(U+K)*b+L+E<<2):(H=(-U+K)*T-L+E<<2,k=K*b+E<<2),J==0)S[k]=g[H],S[k+1]=g[H+1],S[k+2]=g[H+2],S[k+3]=g[H+3];else if(J==1){var W=g[H+3]*.00392156862745098,N=g[H]*W,R=g[H+1]*W,V=g[H+2]*W,G=S[k+3]*(1/255),q=S[k]*G,X=S[k+1]*G,z=S[k+2]*G;const _=1-W,ee=W+G*_,Q=ee==0?0:1/ee;S[k+3]=255*ee,S[k+0]=(N+q*_)*Q,S[k+1]=(R+X*_)*Q,S[k+2]=(V+z*_)*Q}else if(J==2)W=g[H+3],N=g[H],R=g[H+1],V=g[H+2],G=S[k+3],q=S[k],X=S[k+1],z=S[k+2],W==G&&N==q&&R==X&&V==z?(S[k]=0,S[k+1]=0,S[k+2]=0,S[k+3]=0):(S[k]=N,S[k+1]=R,S[k+2]=V,S[k+3]=W);else if(J==3){if(W=g[H+3],N=g[H],R=g[H+1],V=g[H+2],G=S[k+3],q=S[k],X=S[k+1],z=S[k+2],W==G&&N==q&&R==X&&V==z)continue;if(W<220&&G>20)return!1}return!0}return{decode:function(T){const C=new Uint8Array(T);let S=8;const b=n,D=b.readUshort,L=b.readUint,U={tabs:{},frames:[]},J=new Uint8Array(C.length);let O,P=0,H=0;const k=[137,80,78,71,13,10,26,10];for(var W=0;W<8;W++)if(C[W]!=k[W])throw"The input is not a PNG file!";for(;S<C.length;){const K=b.readUint(C,S);S+=4;const E=b.readASCII(C,S,4);if(S+=4,E=="IHDR")v(C,S,U);else if(E=="iCCP"){for(var N=S;C[N]!=0;)N++;b.readASCII(C,S,N-S),C[N+1];const _=C.slice(N+2,S+K);let ee=null;try{ee=o(_)}catch{ee=r(_)}U.tabs[E]=ee}else if(E=="CgBI")U.tabs[E]=C.slice(S,S+4);else if(E=="IDAT"){for(W=0;W<K;W++)J[P+W]=C[S+W];P+=K}else if(E=="acTL")U.tabs[E]={num_frames:L(C,S),num_plays:L(C,S+4)},O=new Uint8Array(C.length);else if(E=="fcTL"){H!=0&&((z=U.frames[U.frames.length-1]).data=l(U,O.slice(0,H),z.rect.width,z.rect.height),H=0);const _={x:L(C,S+12),y:L(C,S+16),width:L(C,S+4),height:L(C,S+8)};let ee=D(C,S+22);ee=D(C,S+20)/(ee==0?100:ee);const Q={rect:_,delay:Math.round(1e3*ee),dispose:C[S+24],blend:C[S+25]};U.frames.push(Q)}else if(E=="fdAT"){for(W=0;W<K-4;W++)O[H+W]=C[S+W+4];H+=K-4}else if(E=="pHYs")U.tabs[E]=[b.readUint(C,S),b.readUint(C,S+4),C[S+8]];else if(E=="cHRM")for(U.tabs[E]=[],W=0;W<8;W++)U.tabs[E].push(b.readUint(C,S+4*W));else if(E=="tEXt"||E=="zTXt"){U.tabs[E]==null&&(U.tabs[E]={});var R=b.nextZero(C,S),V=b.readASCII(C,S,R-S),G=S+K-R-1;if(E=="tEXt")X=b.readASCII(C,R+1,G);else{var q=o(C.slice(R+2,R+2+G));X=b.readUTF8(q,0,q.length)}U.tabs[E][V]=X}else if(E=="iTXt"){U.tabs[E]==null&&(U.tabs[E]={}),R=0,N=S,R=b.nextZero(C,N),V=b.readASCII(C,N,R-N);const _=C[N=R+1];var X;C[N+1],N+=2,R=b.nextZero(C,N),b.readASCII(C,N,R-N),N=R+1,R=b.nextZero(C,N),b.readUTF8(C,N,R-N),G=K-((N=R+1)-S),_==0?X=b.readUTF8(C,N,G):(q=o(C.slice(N,N+G)),X=b.readUTF8(q,0,q.length)),U.tabs[E][V]=X}else if(E=="PLTE")U.tabs[E]=b.readBytes(C,S,K);else if(E=="hIST"){const _=U.tabs.PLTE.length/3;for(U.tabs[E]=[],W=0;W<_;W++)U.tabs[E].push(D(C,S+2*W))}else if(E=="tRNS")U.ctype==3?U.tabs[E]=b.readBytes(C,S,K):U.ctype==0?U.tabs[E]=D(C,S):U.ctype==2&&(U.tabs[E]=[D(C,S),D(C,S+2),D(C,S+4)]);else if(E=="gAMA")U.tabs[E]=b.readUint(C,S)/1e5;else if(E=="sRGB")U.tabs[E]=C[S];else if(E=="bKGD")U.ctype==0||U.ctype==4?U.tabs[E]=[D(C,S)]:U.ctype==2||U.ctype==6?U.tabs[E]=[D(C,S),D(C,S+2),D(C,S+4)]:U.ctype==3&&(U.tabs[E]=C[S]);else if(E=="IEND")break;S+=K,b.readUint(C,S),S+=4}var z;return H!=0&&((z=U.frames[U.frames.length-1]).data=l(U,O.slice(0,H),z.rect.width,z.rect.height)),U.data=l(U,J,U.width,U.height),delete U.compress,delete U.interlace,delete U.filter,U},toRGBA8:function(T){const C=T.width,S=T.height;if(T.tabs.acTL==null)return[e(T.data,C,S,T).buffer];const b=[];T.frames[0].data==null&&(T.frames[0].data=T.data);const D=C*S*4,L=new Uint8Array(D),U=new Uint8Array(D),J=new Uint8Array(D);for(let P=0;P<T.frames.length;P++){const H=T.frames[P],k=H.rect.x,W=H.rect.y,N=H.rect.width,R=H.rect.height,V=e(H.data,N,R,T);if(P!=0)for(var O=0;O<D;O++)J[O]=L[O];if(H.blend==0?p(V,N,R,L,C,S,k,W,0):H.blend==1&&p(V,N,R,L,C,S,k,W,1),b.push(L.buffer.slice(0)),H.dispose!=0){if(H.dispose==1)p(U,N,R,L,C,S,k,W,0);else if(H.dispose==2)for(O=0;O<D;O++)L[O]=J[O]}}return b},_paeth:h,_copyTile:p,_bin:n}}();(function(){const{_copyTile:n}=sn,{_bin:e}=sn,l=sn._paeth;var o={table:function(){const N=new Uint32Array(256);for(let R=0;R<256;R++){let V=R;for(let G=0;G<8;G++)1&V?V=3988292384^V>>>1:V>>>=1;N[R]=V}return N}(),update(N,R,V,G){for(let q=0;q<G;q++)N=o.table[255&(N^R[V+q])]^N>>>8;return N},crc:(N,R,V)=>4294967295^o.update(4294967295,N,R,V)};function r(N,R,V,G){R[V]+=N[0]*G>>4,R[V+1]+=N[1]*G>>4,R[V+2]+=N[2]*G>>4,R[V+3]+=N[3]*G>>4}function c(N){return Math.max(0,Math.min(255,N))}function m(N,R){const V=N[0]-R[0],G=N[1]-R[1],q=N[2]-R[2],X=N[3]-R[3];return V*V+G*G+q*q+X*X}function h(N,R,V,G,q,X,z){z==null&&(z=1);const K=G.length,E=[];for(var _=0;_<K;_++){const F=G[_];E.push([F>>>0&255,F>>>8&255,F>>>16&255,F>>>24&255])}for(_=0;_<K;_++){let F=4294967295;for(var ee=0,Q=0;Q<K;Q++){var w=m(E[_],E[Q]);Q!=_&&w<F&&(F=w,ee=Q)}}const $=new Uint32Array(q.buffer),ne=new Int16Array(R*V*4),oe=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(_=0;_<oe.length;_++)oe[_]=255*((oe[_]+.5)/16-.5);for(let F=0;F<V;F++)for(let ae=0;ae<R;ae++){var le;_=4*(F*R+ae),z!=2?le=[c(N[_]+ne[_]),c(N[_+1]+ne[_+1]),c(N[_+2]+ne[_+2]),c(N[_+3]+ne[_+3])]:(w=oe[4*(3&F)+(3&ae)],le=[c(N[_]+w),c(N[_+1]+w),c(N[_+2]+w),c(N[_+3]+w)]),ee=0;let ce=16777215;for(Q=0;Q<K;Q++){const ve=m(le,E[Q]);ve<ce&&(ce=ve,ee=Q)}const fe=E[ee],de=[le[0]-fe[0],le[1]-fe[1],le[2]-fe[2],le[3]-fe[3]];z==1&&(ae!=R-1&&r(de,ne,_+4,7),F!=V-1&&(ae!=0&&r(de,ne,_+4*R-4,3),r(de,ne,_+4*R,5),ae!=R-1&&r(de,ne,_+4*R+4,1))),X[_>>2]=ee,$[_>>2]=G[ee]}}function v(N,R,V,G,q){q==null&&(q={});const{crc:X}=o,z=e.writeUint,K=e.writeUshort,E=e.writeASCII;let _=8;const ee=N.frames.length>1;let Q,w=!1,$=33+(ee?20:0);if(q.sRGB!=null&&($+=13),q.pHYs!=null&&($+=21),q.iCCP!=null&&(Q=pako.deflate(q.iCCP),$+=21+Q.length+4),N.ctype==3){for(var ne=N.plte.length,oe=0;oe<ne;oe++)N.plte[oe]>>>24!=255&&(w=!0);$+=8+3*ne+4+(w?8+1*ne+4:0)}for(var le=0;le<N.frames.length;le++)ee&&($+=38),$+=(fe=N.frames[le]).cimg.length+12,le!=0&&($+=4);$+=12;const F=new Uint8Array($),ae=[137,80,78,71,13,10,26,10];for(oe=0;oe<8;oe++)F[oe]=ae[oe];if(z(F,_,13),_+=4,E(F,_,"IHDR"),_+=4,z(F,_,R),_+=4,z(F,_,V),_+=4,F[_]=N.depth,_++,F[_]=N.ctype,_++,F[_]=0,_++,F[_]=0,_++,F[_]=0,_++,z(F,_,X(F,_-17,17)),_+=4,q.sRGB!=null&&(z(F,_,1),_+=4,E(F,_,"sRGB"),_+=4,F[_]=q.sRGB,_++,z(F,_,X(F,_-5,5)),_+=4),q.iCCP!=null){const de=13+Q.length;z(F,_,de),_+=4,E(F,_,"iCCP"),_+=4,E(F,_,"ICC profile"),_+=11,_+=2,F.set(Q,_),_+=Q.length,z(F,_,X(F,_-(de+4),de+4)),_+=4}if(q.pHYs!=null&&(z(F,_,9),_+=4,E(F,_,"pHYs"),_+=4,z(F,_,q.pHYs[0]),_+=4,z(F,_,q.pHYs[1]),_+=4,F[_]=q.pHYs[2],_++,z(F,_,X(F,_-13,13)),_+=4),ee&&(z(F,_,8),_+=4,E(F,_,"acTL"),_+=4,z(F,_,N.frames.length),_+=4,z(F,_,q.loop!=null?q.loop:0),_+=4,z(F,_,X(F,_-12,12)),_+=4),N.ctype==3){for(z(F,_,3*(ne=N.plte.length)),_+=4,E(F,_,"PLTE"),_+=4,oe=0;oe<ne;oe++){const de=3*oe,ve=N.plte[oe],Ae=255&ve,xe=ve>>>8&255,nt=ve>>>16&255;F[_+de+0]=Ae,F[_+de+1]=xe,F[_+de+2]=nt}if(_+=3*ne,z(F,_,X(F,_-3*ne-4,3*ne+4)),_+=4,w){for(z(F,_,ne),_+=4,E(F,_,"tRNS"),_+=4,oe=0;oe<ne;oe++)F[_+oe]=N.plte[oe]>>>24&255;_+=ne,z(F,_,X(F,_-ne-4,ne+4)),_+=4}}let ce=0;for(le=0;le<N.frames.length;le++){var fe=N.frames[le];ee&&(z(F,_,26),_+=4,E(F,_,"fcTL"),_+=4,z(F,_,ce++),_+=4,z(F,_,fe.rect.width),_+=4,z(F,_,fe.rect.height),_+=4,z(F,_,fe.rect.x),_+=4,z(F,_,fe.rect.y),_+=4,K(F,_,G[le]),_+=2,K(F,_,1e3),_+=2,F[_]=fe.dispose,_++,F[_]=fe.blend,_++,z(F,_,X(F,_-30,30)),_+=4);const de=fe.cimg;z(F,_,(ne=de.length)+(le==0?0:4)),_+=4;const ve=_;E(F,_,le==0?"IDAT":"fdAT"),_+=4,le!=0&&(z(F,_,ce++),_+=4),F.set(de,_),_+=ne,z(F,_,X(F,ve,_-ve)),_+=4}return z(F,_,0),_+=4,E(F,_,"IEND"),_+=4,z(F,_,X(F,_-4,4)),_+=4,F.buffer}function p(N,R,V){for(let G=0;G<N.frames.length;G++){const q=N.frames[G];q.rect.width;const X=q.rect.height,z=new Uint8Array(X*q.bpl+X);q.cimg=S(q.img,X,q.bpp,q.bpl,z,R,V)}}function g(N,R,V,G,q){const X=q[0],z=q[1],K=q[2],E=q[3],_=q[4],ee=q[5];let Q=6,w=8,$=255;for(var ne=0;ne<N.length;ne++){const Oe=new Uint8Array(N[ne]);for(var oe=Oe.length,le=0;le<oe;le+=4)$&=Oe[le+3]}const F=$!=255,ae=function(_e,Pe,it,st,Ye,Et){const Xe=[];for(var He=0;He<_e.length;He++){const pt=new Uint8Array(_e[He]),qt=new Uint32Array(pt.buffer);var At;let Rt=0,Nt=0,_t=Pe,Mt=it,Vn=st?1:0;if(He!=0){const si=Et||st||He==1||Xe[He-2].dispose!=0?1:2;let El=0,Al=1e9;for(let Gn=0;Gn<si;Gn++){var wt=new Uint8Array(_e[He-1-Gn]);const _l=new Uint32Array(_e[He-1-Gn]);let Dt=Pe,un=it,vn=-1,qn=-1;for(let ln=0;ln<it;ln++)for(let fn=0;fn<Pe;fn++)qt[Je=ln*Pe+fn]!=_l[Je]&&(fn<Dt&&(Dt=fn),fn>vn&&(vn=fn),ln<un&&(un=ln),ln>qn&&(qn=ln));vn==-1&&(Dt=un=vn=qn=0),Ye&&((1&Dt)==1&&Dt--,(1&un)==1&&un--);const Ri=(vn-Dt+1)*(qn-un+1);Ri<Al&&(Al=Ri,El=Gn,Rt=Dt,Nt=un,_t=vn-Dt+1,Mt=qn-un+1)}wt=new Uint8Array(_e[He-1-El]),El==1&&(Xe[He-1].dispose=2),At=new Uint8Array(_t*Mt*4),n(wt,Pe,it,At,_t,Mt,-Rt,-Nt,0),Vn=n(pt,Pe,it,At,_t,Mt,-Rt,-Nt,3)?1:0,Vn==1?C(pt,Pe,it,At,{x:Rt,y:Nt,width:_t,height:Mt}):n(pt,Pe,it,At,_t,Mt,-Rt,-Nt,0)}else At=pt.slice(0);Xe.push({rect:{x:Rt,y:Nt,width:_t,height:Mt},img:At,blend:Vn,dispose:0})}if(st)for(He=0;He<Xe.length;He++){if((je=Xe[He]).blend==1)continue;const pt=je.rect,qt=Xe[He-1].rect,Rt=Math.min(pt.x,qt.x),Nt=Math.min(pt.y,qt.y),_t={x:Rt,y:Nt,width:Math.max(pt.x+pt.width,qt.x+qt.width)-Rt,height:Math.max(pt.y+pt.height,qt.y+qt.height)-Nt};Xe[He-1].dispose=1,He-1!=0&&T(_e,Pe,it,Xe,He-1,_t,Ye),T(_e,Pe,it,Xe,He,_t,Ye)}let ut=0;if(_e.length!=1)for(var Je=0;Je<Xe.length;Je++){var je;ut+=(je=Xe[Je]).rect.width*je.rect.height}return Xe}(N,R,V,X,z,K),ce={},fe=[],de=[];if(G!=0){const Oe=[];for(le=0;le<ae.length;le++)Oe.push(ae[le].img.buffer);const _e=function(Ye){let Et=0;for(var Xe=0;Xe<Ye.length;Xe++)Et+=Ye[Xe].byteLength;const He=new Uint8Array(Et);let At=0;for(Xe=0;Xe<Ye.length;Xe++){const wt=new Uint8Array(Ye[Xe]),ut=wt.length;for(let Je=0;Je<ut;Je+=4){let je=wt[Je],pt=wt[Je+1],qt=wt[Je+2];const Rt=wt[Je+3];Rt==0&&(je=pt=qt=0),He[At+Je]=je,He[At+Je+1]=pt,He[At+Je+2]=qt,He[At+Je+3]=Rt}At+=ut}return He.buffer}(Oe),Pe=D(_e,G);for(le=0;le<Pe.plte.length;le++)fe.push(Pe.plte[le].est.rgba);let it=0;for(le=0;le<ae.length;le++){const st=(Ae=ae[le]).img.length;var ve=new Uint8Array(Pe.inds.buffer,it>>2,st>>2);de.push(ve);const Ye=new Uint8Array(Pe.abuf,it,st);ee&&h(Ae.img,Ae.rect.width,Ae.rect.height,fe,Ye,ve),Ae.img.set(Ye),it+=st}}else for(ne=0;ne<ae.length;ne++){var Ae=ae[ne];const Oe=new Uint32Array(Ae.img.buffer);var xe=Ae.rect.width;for(oe=Oe.length,ve=new Uint8Array(oe),de.push(ve),le=0;le<oe;le++){const _e=Oe[le];if(le!=0&&_e==Oe[le-1])ve[le]=ve[le-1];else if(le>xe&&_e==Oe[le-xe])ve[le]=ve[le-xe];else{let Pe=ce[_e];if(Pe==null&&(ce[_e]=Pe=fe.length,fe.push(_e),fe.length>=300))break;ve[le]=Pe}}}const nt=fe.length;for(nt<=256&&_==0&&(w=nt<=2?1:nt<=4?2:nt<=16?4:8,w=Math.max(w,E)),ne=0;ne<ae.length;ne++){(Ae=ae[ne]).rect.x,Ae.rect.y,xe=Ae.rect.width;const Oe=Ae.rect.height;let _e=Ae.img;new Uint32Array(_e.buffer);let Pe=4*xe,it=4;if(nt<=256&&_==0){Pe=Math.ceil(w*xe/8);var we=new Uint8Array(Pe*Oe);const st=de[ne];for(let Ye=0;Ye<Oe;Ye++){le=Ye*Pe;const Et=Ye*xe;if(w==8)for(var ke=0;ke<xe;ke++)we[le+ke]=st[Et+ke];else if(w==4)for(ke=0;ke<xe;ke++)we[le+(ke>>1)]|=st[Et+ke]<<4-4*(1&ke);else if(w==2)for(ke=0;ke<xe;ke++)we[le+(ke>>2)]|=st[Et+ke]<<6-2*(3&ke);else if(w==1)for(ke=0;ke<xe;ke++)we[le+(ke>>3)]|=st[Et+ke]<<7-1*(7&ke)}_e=we,Q=3,it=1}else if(F==0&&ae.length==1){we=new Uint8Array(xe*Oe*3);const st=xe*Oe;for(le=0;le<st;le++){const Ye=3*le,Et=4*le;we[Ye]=_e[Et],we[Ye+1]=_e[Et+1],we[Ye+2]=_e[Et+2]}_e=we,Q=2,it=3,Pe=3*xe}Ae.img=_e,Ae.bpl=Pe,Ae.bpp=it}return{ctype:Q,depth:w,plte:fe,frames:ae}}function T(N,R,V,G,q,X,z){const K=Uint8Array,E=Uint32Array,_=new K(N[q-1]),ee=new E(N[q-1]),Q=q+1<N.length?new K(N[q+1]):null,w=new K(N[q]),$=new E(w.buffer);let ne=R,oe=V,le=-1,F=-1;for(let ce=0;ce<X.height;ce++)for(let fe=0;fe<X.width;fe++){const de=X.x+fe,ve=X.y+ce,Ae=ve*R+de,xe=$[Ae];xe==0||G[q-1].dispose==0&&ee[Ae]==xe&&(Q==null||Q[4*Ae+3]!=0)||(de<ne&&(ne=de),de>le&&(le=de),ve<oe&&(oe=ve),ve>F&&(F=ve))}le==-1&&(ne=oe=le=F=0),z&&((1&ne)==1&&ne--,(1&oe)==1&&oe--),X={x:ne,y:oe,width:le-ne+1,height:F-oe+1};const ae=G[q];ae.rect=X,ae.blend=1,ae.img=new Uint8Array(X.width*X.height*4),G[q-1].dispose==0?(n(_,R,V,ae.img,X.width,X.height,-X.x,-X.y,0),C(w,R,V,ae.img,X)):n(w,R,V,ae.img,X.width,X.height,-X.x,-X.y,0)}function C(N,R,V,G,q){n(N,R,V,G,q.width,q.height,-q.x,-q.y,2)}function S(N,R,V,G,q,X,z){const K=[];let E,_=[0,1,2,3,4];X!=-1?_=[X]:(R*G>5e5||V==1)&&(_=[0]),z&&(E={level:0});const ee=g_;for(var Q=0;Q<_.length;Q++){for(let ne=0;ne<R;ne++)b(q,N,ne,G,V,_[Q]);K.push(ee.deflate(q,E))}let w,$=1e9;for(Q=0;Q<K.length;Q++)K[Q].length<$&&(w=Q,$=K[Q].length);return K[w]}function b(N,R,V,G,q,X){const z=V*G;let K=z+V;if(N[K]=X,K++,X==0)if(G<500)for(var E=0;E<G;E++)N[K+E]=R[z+E];else N.set(new Uint8Array(R.buffer,z,G),K);else if(X==1){for(E=0;E<q;E++)N[K+E]=R[z+E];for(E=q;E<G;E++)N[K+E]=R[z+E]-R[z+E-q]+256&255}else if(V==0){for(E=0;E<q;E++)N[K+E]=R[z+E];if(X==2)for(E=q;E<G;E++)N[K+E]=R[z+E];if(X==3)for(E=q;E<G;E++)N[K+E]=R[z+E]-(R[z+E-q]>>1)+256&255;if(X==4)for(E=q;E<G;E++)N[K+E]=R[z+E]-l(R[z+E-q],0,0)+256&255}else{if(X==2)for(E=0;E<G;E++)N[K+E]=R[z+E]+256-R[z+E-G]&255;if(X==3){for(E=0;E<q;E++)N[K+E]=R[z+E]+256-(R[z+E-G]>>1)&255;for(E=q;E<G;E++)N[K+E]=R[z+E]+256-(R[z+E-G]+R[z+E-q]>>1)&255}if(X==4){for(E=0;E<q;E++)N[K+E]=R[z+E]+256-l(0,R[z+E-G],0)&255;for(E=q;E<G;E++)N[K+E]=R[z+E]+256-l(R[z+E-q],R[z+E-G],R[z+E-q-G])&255}}}function D(N,R){const V=new Uint8Array(N),G=V.slice(0),q=new Uint32Array(G.buffer),X=L(G,R),z=X[0],K=X[1],E=V.length,_=new Uint8Array(E>>2);let ee;if(V.length<2e7)for(var Q=0;Q<E;Q+=4)ee=U(z,w=V[Q]*(1/255),$=V[Q+1]*(1/255),ne=V[Q+2]*(1/255),oe=V[Q+3]*(1/255)),_[Q>>2]=ee.ind,q[Q>>2]=ee.est.rgba;else for(Q=0;Q<E;Q+=4){var w=V[Q]*.00392156862745098,$=V[Q+1]*(1/255),ne=V[Q+2]*(1/255),oe=V[Q+3]*(1/255);for(ee=z;ee.left;)ee=J(ee.est,w,$,ne,oe)<=0?ee.left:ee.right;_[Q>>2]=ee.ind,q[Q>>2]=ee.est.rgba}return{abuf:G.buffer,inds:_,plte:K}}function L(N,R,V){V==null&&(V=1e-4);const G=new Uint32Array(N.buffer),q={i0:0,i1:N.length,bst:null,est:null,tdst:0,left:null,right:null};q.bst=H(N,q.i0,q.i1),q.est=k(q.bst);const X=[q];for(;X.length<R;){let K=0,E=0;for(var z=0;z<X.length;z++)X[z].est.L>K&&(K=X[z].est.L,E=z);if(K<V)break;const _=X[E],ee=O(N,G,_.i0,_.i1,_.est.e,_.est.eMq255);if(_.i0>=ee||_.i1<=ee){_.est.L=0;continue}const Q={i0:_.i0,i1:ee,bst:null,est:null,tdst:0,left:null,right:null};Q.bst=H(N,Q.i0,Q.i1),Q.est=k(Q.bst);const w={i0:ee,i1:_.i1,bst:null,est:null,tdst:0,left:null,right:null};for(w.bst={R:[],m:[],N:_.bst.N-Q.bst.N},z=0;z<16;z++)w.bst.R[z]=_.bst.R[z]-Q.bst.R[z];for(z=0;z<4;z++)w.bst.m[z]=_.bst.m[z]-Q.bst.m[z];w.est=k(w.bst),_.left=Q,_.right=w,X[E]=Q,X.push(w)}for(X.sort((K,E)=>E.bst.N-K.bst.N),z=0;z<X.length;z++)X[z].ind=z;return[q,X]}function U(N,R,V,G,q){if(N.left==null)return N.tdst=function(Q,w,$,ne,oe){const le=w-Q[0],F=$-Q[1],ae=ne-Q[2],ce=oe-Q[3];return le*le+F*F+ae*ae+ce*ce}(N.est.q,R,V,G,q),N;const X=J(N.est,R,V,G,q);let z=N.left,K=N.right;X>0&&(z=N.right,K=N.left);const E=U(z,R,V,G,q);if(E.tdst<=X*X)return E;const _=U(K,R,V,G,q);return _.tdst<E.tdst?_:E}function J(N,R,V,G,q){const{e:X}=N;return X[0]*R+X[1]*V+X[2]*G+X[3]*q-N.eMq}function O(N,R,V,G,q,X){for(G-=4;V<G;){for(;P(N,V,q)<=X;)V+=4;for(;P(N,G,q)>X;)G-=4;if(V>=G)break;const z=R[V>>2];R[V>>2]=R[G>>2],R[G>>2]=z,V+=4,G-=4}for(;P(N,V,q)>X;)V-=4;return V+4}function P(N,R,V){return N[R]*V[0]+N[R+1]*V[1]+N[R+2]*V[2]+N[R+3]*V[3]}function H(N,R,V){const G=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],q=[0,0,0,0],X=V-R>>2;for(let z=R;z<V;z+=4){const K=N[z]*.00392156862745098,E=N[z+1]*(1/255),_=N[z+2]*(1/255),ee=N[z+3]*(1/255);q[0]+=K,q[1]+=E,q[2]+=_,q[3]+=ee,G[0]+=K*K,G[1]+=K*E,G[2]+=K*_,G[3]+=K*ee,G[5]+=E*E,G[6]+=E*_,G[7]+=E*ee,G[10]+=_*_,G[11]+=_*ee,G[15]+=ee*ee}return G[4]=G[1],G[8]=G[2],G[9]=G[6],G[12]=G[3],G[13]=G[7],G[14]=G[11],{R:G,m:q,N:X}}function k(N){const{R}=N,{m:V}=N,{N:G}=N,q=V[0],X=V[1],z=V[2],K=V[3],E=G==0?0:1/G,_=[R[0]-q*q*E,R[1]-q*X*E,R[2]-q*z*E,R[3]-q*K*E,R[4]-X*q*E,R[5]-X*X*E,R[6]-X*z*E,R[7]-X*K*E,R[8]-z*q*E,R[9]-z*X*E,R[10]-z*z*E,R[11]-z*K*E,R[12]-K*q*E,R[13]-K*X*E,R[14]-K*z*E,R[15]-K*K*E],ee=_,Q=W;let w=[Math.random(),Math.random(),Math.random(),Math.random()],$=0,ne=0;if(G!=0)for(let le=0;le<16&&(w=Q.multVec(ee,w),ne=Math.sqrt(Q.dot(w,w)),w=Q.sml(1/ne,w),!(le!=0&&Math.abs(ne-$)<1e-9));le++)$=ne;const oe=[q*E,X*E,z*E,K*E];return{Cov:_,q:oe,e:w,L:$,eMq255:Q.dot(Q.sml(255,oe),w),eMq:Q.dot(w,oe),rgba:(Math.round(255*oe[3])<<24|Math.round(255*oe[2])<<16|Math.round(255*oe[1])<<8|Math.round(255*oe[0])<<0)>>>0}}var W={multVec:(N,R)=>[N[0]*R[0]+N[1]*R[1]+N[2]*R[2]+N[3]*R[3],N[4]*R[0]+N[5]*R[1]+N[6]*R[2]+N[7]*R[3],N[8]*R[0]+N[9]*R[1]+N[10]*R[2]+N[11]*R[3],N[12]*R[0]+N[13]*R[1]+N[14]*R[2]+N[15]*R[3]],dot:(N,R)=>N[0]*R[0]+N[1]*R[1]+N[2]*R[2]+N[3]*R[3],sml:(N,R)=>[N*R[0],N*R[1],N*R[2],N*R[3]]};sn.encode=function(R,V,G,q,X,z,K){q==null&&(q=0),K==null&&(K=!1);const E=g(R,V,G,q,[!1,!1,!1,0,K,!1]);return p(E,-1),v(E,V,G,X,z)},sn.encodeLL=function(R,V,G,q,X,z,K,E){const _={ctype:0+(q==1?0:2)+(X==0?0:4),depth:z,frames:[]},ee=(q+X)*z,Q=ee*V;for(let w=0;w<R.length;w++)_.frames.push({rect:{x:0,y:0,width:V,height:G},img:new Uint8Array(R[w]),blend:0,dispose:1,bpp:Math.ceil(ee/8),bpl:Math.ceil(Q/8)});return p(_,0,!0),v(_,V,G,K,E)},sn.encode.compress=g,sn.encode.dither=h,sn.quantize=D,sn.quantize.getKDtree=L,sn.quantize.getNearest=U})();const Dp={toArrayBuffer(n,e){const l=n.width,o=n.height,r=l<<2,c=n.getContext("2d").getImageData(0,0,l,o),m=new Uint32Array(c.data.buffer),h=(32*l+31)/32<<2,v=h*o,p=122+v,g=new ArrayBuffer(p),T=new DataView(g),C=1<<20;let S,b,D,L,U=C,J=0,O=0,P=0;function H(N){T.setUint16(O,N,!0),O+=2}function k(N){T.setUint32(O,N,!0),O+=4}function W(N){O+=N}H(19778),k(p),W(4),k(122),k(108),k(l),k(-o>>>0),H(1),H(32),k(3),k(v),k(2835),k(2835),W(8),k(16711680),k(65280),k(255),k(4278190080),k(1466527264),function N(){for(;J<o&&U>0;){for(L=122+J*h,S=0;S<r;)U--,b=m[P++],D=b>>>24,T.setUint32(L+S,b<<8|D),S+=4;J++}P<m.length?(U=C,setTimeout(N,Dp._dly)):e(g)}()},toBlob(n,e){this.toArrayBuffer(n,l=>{e(new Blob([l],{type:"image/bmp"}))})},_dly:9};var Gt={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},y_={[Gt.CHROME]:16384,[Gt.FIREFOX]:11180,[Gt.DESKTOP_SAFARI]:16384,[Gt.IE]:8192,[Gt.IOS]:4096,[Gt.ETC]:8192};const Lu=typeof window<"u",Up=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Ja=Lu&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),v_=(Lu||Up)&&(Ja&&Ja.getOriginalSymbol(window,"File")||typeof File<"u"&&File),kp=(Lu||Up)&&(Ja&&Ja.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Vu(n,e,l=Date.now()){return new Promise(o=>{const r=n.split(","),c=r[0].match(/:(.*?);/)[1],m=globalThis.atob(r[1]);let h=m.length;const v=new Uint8Array(h);for(;h--;)v[h]=m.charCodeAt(h);const p=new Blob([v],{type:c});p.name=e,p.lastModified=l,o(p)})}function Ip(n){return new Promise((e,l)=>{const o=new kp;o.onload=()=>e(o.result),o.onerror=r=>l(r),o.readAsDataURL(n)})}function Lp(n){return new Promise((e,l)=>{const o=new Image;o.onload=()=>e(o),o.onerror=r=>l(r),o.src=n})}function Mi(){if(Mi.cachedResult!==void 0)return Mi.cachedResult;let n=Gt.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?n=Gt.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?n=Gt.IOS:/Safari/i.test(e)?n=Gt.DESKTOP_SAFARI:/Firefox/i.test(e)?n=Gt.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(n=Gt.IE),Mi.cachedResult=n,Mi.cachedResult}function Vp(n,e){const l=Mi(),o=y_[l];let r=n,c=e,m=r*c;const h=r>c?c/r:r/c;for(;m>o*o;){const v=(o+r)/2,p=(o+c)/2;v<p?(c=p,r=p*h):(c=v*h,r=v),m=r*c}return{width:r,height:c}}function ja(n,e){let l,o;try{if(l=new OffscreenCanvas(n,e),o=l.getContext("2d"),o===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{l=document.createElement("canvas"),o=l.getContext("2d")}return l.width=n,l.height=e,[l,o]}function Gp(n,e){const{width:l,height:o}=Vp(n.width,n.height),[r,c]=ja(l,o);return e&&/jpe?g/.test(e)&&(c.fillStyle="white",c.fillRect(0,0,r.width,r.height)),c.drawImage(n,0,0,r.width,r.height),r}function za(){return za.cachedResult!==void 0||(za.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),za.cachedResult}function Ka(n,e={}){return new Promise(function(l,o){let r,c;var m=function(){try{return c=Gp(r,e.fileType||n.type),l([r,c])}catch(v){return o(v)}},h=function(v){try{var p=function(g){try{throw g}catch(T){return o(T)}};try{let g;return Ip(n).then(function(T){try{return g=T,Lp(g).then(function(C){try{return r=C,function(){try{return m()}catch(S){return o(S)}}()}catch(S){return p(S)}},p)}catch(C){return p(C)}},p)}catch(g){p(g)}}catch(g){return o(g)}};try{if(za()||[Gt.DESKTOP_SAFARI,Gt.MOBILE_SAFARI].includes(Mi()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(n).then(function(v){try{return r=v,m()}catch{return h()}},h)}catch{h()}})}function Qa(n,e,l,o,r=1){return new Promise(function(c,m){let h;if(e==="image/png"){let T,C,S;return T=n.getContext("2d"),{data:C}=T.getImageData(0,0,n.width,n.height),S=sn.encode([C.buffer],n.width,n.height,4096*r),h=new Blob([S],{type:e}),h.name=l,h.lastModified=o,v.call(this)}{let T=function(){return v.call(this)};var p=T;if(e==="image/bmp")return new Promise(C=>Dp.toBlob(n,C)).then((function(C){try{return h=C,h.name=l,h.lastModified=o,T.call(this)}catch(S){return m(S)}}).bind(this),m);{let C=function(){return T.call(this)};var g=C;if(typeof OffscreenCanvas=="function"&&n instanceof OffscreenCanvas)return n.convertToBlob({type:e,quality:r}).then((function(S){try{return h=S,h.name=l,h.lastModified=o,C.call(this)}catch(b){return m(b)}}).bind(this),m);{let S;return S=n.toDataURL(e,r),Vu(S,l,o).then((function(b){try{return h=b,C.call(this)}catch(D){return m(D)}}).bind(this),m)}}}function v(){return c(h)}})}function gn(n){n.width=0,n.height=0}function gl(){return new Promise(function(n,e){let l,o,r,c;return gl.cachedResult!==void 0?n(gl.cachedResult):Vu("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(m){try{return l=m,Ka(l).then(function(h){try{return o=h[1],Qa(o,l.type,l.name,l.lastModified).then(function(v){try{return r=v,gn(o),Ka(r).then(function(p){try{return c=p[0],gl.cachedResult=c.width===1&&c.height===2,n(gl.cachedResult)}catch(g){return e(g)}},e)}catch(p){return e(p)}},e)}catch(v){return e(v)}},e)}catch(h){return e(h)}},e)})}function qp(n){return new Promise((e,l)=>{const o=new kp;o.onload=r=>{const c=new DataView(r.target.result);if(c.getUint16(0,!1)!=65496)return e(-2);const m=c.byteLength;let h=2;for(;h<m;){if(c.getUint16(h+2,!1)<=8)return e(-1);const v=c.getUint16(h,!1);if(h+=2,v==65505){if(c.getUint32(h+=2,!1)!=1165519206)return e(-1);const p=c.getUint16(h+=6,!1)==18761;h+=c.getUint32(h+4,p);const g=c.getUint16(h,p);h+=2;for(let T=0;T<g;T++)if(c.getUint16(h+12*T,p)==274)return e(c.getUint16(h+12*T+8,p))}else{if((65280&v)!=65280)break;h+=c.getUint16(h,!1)}}return e(-1)},o.onerror=r=>l(r),o.readAsArrayBuffer(n)})}function Bp(n,e){const{width:l}=n,{height:o}=n,{maxWidthOrHeight:r}=e;let c,m=n;return isFinite(r)&&(l>r||o>r)&&([m,c]=ja(l,o),l>o?(m.width=r,m.height=o/l*r):(m.width=l/o*r,m.height=r),c.drawImage(n,0,0,m.width,m.height),gn(n)),m}function Pp(n,e){const{width:l}=n,{height:o}=n,[r,c]=ja(l,o);switch(e>4&&e<9?(r.width=o,r.height=l):(r.width=l,r.height=o),e){case 2:c.transform(-1,0,0,1,l,0);break;case 3:c.transform(-1,0,0,-1,l,o);break;case 4:c.transform(1,0,0,-1,0,o);break;case 5:c.transform(0,1,1,0,0,0);break;case 6:c.transform(0,1,-1,0,o,0);break;case 7:c.transform(0,-1,-1,0,o,l);break;case 8:c.transform(0,-1,1,0,0,l)}return c.drawImage(n,0,0,l,o),gn(n),r}function Zh(n,e,l=0){return new Promise(function(o,r){let c,m,h,v,p,g,T,C,S,b,D,L,U,J,O,P,H,k,W,N;function R(G=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;c+=G,e.onProgress(Math.min(c,100))}function V(G){if(e.signal&&e.signal.aborted)throw e.signal.reason;c=Math.min(Math.max(G,c),100),e.onProgress(c)}return c=l,m=e.maxIteration||10,h=1024*e.maxSizeMB*1024,R(),Ka(n,e).then((function(G){try{return[,v]=G,R(),p=Bp(v,e),R(),new Promise(function(q,X){var z;if(!(z=e.exifOrientation))return qp(n).then((function(E){try{return z=E,K.call(this)}catch(_){return X(_)}}).bind(this),X);function K(){return q(z)}return K.call(this)}).then((function(q){try{return g=q,R(),gl().then((function(X){try{return T=X?p:Pp(p,g),R(),C=e.initialQuality||1,S=e.fileType||n.type,Qa(T,S,n.name,n.lastModified,C).then((function(z){try{{let ee=function(){if(m--&&(O>h||O>U)){let w,$;return w=N?.95*W.width:W.width,$=N?.95*W.height:W.height,[H,k]=ja(w,$),k.drawImage(W,0,0,w,$),C*=S==="image/png"?.85:.95,Qa(H,S,n.name,n.lastModified,C).then(function(ne){try{return P=ne,gn(W),W=H,O=P.size,V(Math.min(99,Math.floor((J-O)/(J-h)*100))),ee}catch(oe){return r(oe)}},r)}return[1]},Q=function(){return gn(W),gn(H),gn(p),gn(T),gn(v),V(100),o(P)};var E=ee,_=Q;if(b=z,R(),D=b.size>h,L=b.size>n.size,!D&&!L)return V(100),o(b);var K;return U=n.size,J=b.size,O=J,W=T,N=!e.alwaysKeepResolution&&D,(K=(function(w){for(;w;){if(w.then)return void w.then(K,r);try{if(w.pop){if(w.length)return w.pop()?Q.call(this):w;w=ee}else w=w.call(this)}catch($){return r($)}}}).bind(this))(ee)}}catch(ee){return r(ee)}}).bind(this),r)}catch(z){return r(z)}}).bind(this),r)}catch(X){return r(X)}}).bind(this),r)}catch(q){return r(q)}}).bind(this),r)})}const T_=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let gu;function C_(n,e){return new Promise((l,o)=>{gu||(gu=function(m){const h=[];return h.push(m),URL.createObjectURL(new Blob(h))}(T_));const r=new Worker(gu);r.addEventListener("message",function(m){if(e.signal&&e.signal.aborted)r.terminate();else if(m.data.progress===void 0){if(m.data.error)return o(new Error(m.data.error)),void r.terminate();l(m.data.file),r.terminate()}else e.onProgress(m.data.progress)}),r.addEventListener("error",o),e.signal&&e.signal.addEventListener("abort",()=>{o(e.signal.reason),r.terminate()}),r.postMessage({file:n,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function ht(n,e){return new Promise(function(l,o){let r,c,m,h,v,p;if(r={...e},m=0,{onProgress:h}=r,r.maxSizeMB=r.maxSizeMB||Number.POSITIVE_INFINITY,v=typeof r.useWebWorker!="boolean"||r.useWebWorker,delete r.useWebWorker,r.onProgress=S=>{m=S,typeof h=="function"&&h(m)},!(n instanceof Blob||n instanceof v_))return o(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(n.type))return o(new Error("The file given is not an image"));if(p=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!v||typeof Worker!="function"||p)return Zh(n,r).then((function(S){try{return c=S,C.call(this)}catch(b){return o(b)}}).bind(this),o);var g=(function(){try{return C.call(this)}catch(S){return o(S)}}).bind(this),T=function(S){try{return Zh(n,r).then(function(b){try{return c=b,g()}catch(D){return o(D)}},o)}catch(b){return o(b)}};try{return r.libURL=r.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",C_(n,r).then(function(S){try{return c=S,g()}catch{return T()}},T)}catch{T()}function C(){try{c.name=n.name,c.lastModified=n.lastModified}catch{}try{r.preserveExif&&n.type==="image/jpeg"&&(!r.fileType||r.fileType&&r.fileType===n.type)&&(c=Np(n,c))}catch{}return l(c)}})}ht.getDataUrlFromFile=Ip,ht.getFilefromDataUrl=Vu,ht.loadImage=Lp,ht.drawImageInCanvas=Gp,ht.drawFileInCanvas=Ka,ht.canvasToFile=Qa,ht.getExifOrientation=qp,ht.handleMaxWidthOrHeight=Bp,ht.followExifOrientation=Pp,ht.cleanupCanvasMemory=gn,ht.isAutoOrientationInBrowser=gl,ht.approximateBelowMaximumCanvasSizeOfBrowser=Vp,ht.copyExifWithoutOrientation=Np,ht.getBrowserName=Mi,ht.version="2.0.2";const x_=()=>{const[n,e]=Ne.useState(!1),[l,o]=Ne.useState([]),[r,c]=Ne.useState(!1),[m,h]=Ne.useState(!1),[v,p]=Ne.useState(null),[g,T]=Ne.useState(!1),[C,S]=Ne.useState("high_quality"),[b,D]=Ne.useState(2),[L,U]=Ne.useState(null),[J,O]=Ne.useState(!1),[P,H]=Ne.useState({message:"",visible:!1}),k=Ne.useRef(!1),[W,N]=Ne.useState([]),[R,V]=Ne.useState(!1);Ne.useEffect(()=>{n&&(async()=>{try{await km({},!0);const ae=await My();N(ae.sort((ce,fe)=>fe.timestamp-ce.timestamp))}catch(ae){console.error("Gagal memuat riwayat dari DB:",ae)}})()},[n]),Ne.useEffect(()=>{(async()=>{if(k.current&&!r&&l.some(ae=>ae.content||ae.error)){const ae=l.filter(we=>we.content).length,ce=l.filter(we=>we.error).length;let fe="";ce===0&&ae>0?fe=`Berhasil membuat metadata untuk semua ${ae} gambar.`:ae>0&&ce>0?fe=`Selesai: ${ae} berhasil, ${ce} gagal.`:ae===0&&ce>0?fe=`Gagal membuat metadata untuk semua ${ce} gambar.`:fe="Semua proses telah selesai.";const de=async we=>{const ke={maxWidthOrHeight:96,maxSizeMB:.1,useWebWorker:!0,fileType:"image/jpeg"};try{const Oe=await ht(we,ke);return await ht.getDataUrlFromFile(Oe)}catch(Oe){return console.error("Gagal membuat thumbnail:",Oe),""}},ve=l.map(async we=>{if(we.content){const ke=await de(we.file);return{fileName:we.file.name,thumbnailUrl:ke,title:we.content.title,keywords:we.content.keywords}}return null}),Ae=(await Promise.all(ve)).filter(we=>we!==null),xe={timestamp:Date.now(),totalFiles:l.length,successCount:ae,errorCount:ce,imageData:Ae};if(xe.totalFiles>0)try{const we=await km(xe);N(ke=>[we,...ke].sort((Oe,_e)=>_e.timestamp-Oe.timestamp))}catch(we){console.error("Gagal menyimpan riwayat ke DB:",we)}H({message:fe,visible:!0});const nt=setTimeout(()=>{H(we=>({...we,visible:!1}))},6e3);return()=>clearTimeout(nt)}})(),k.current=r},[r,l]);const G=()=>{H({message:"",visible:!1})};Ne.useEffect(()=>{const F=localStorage.getItem("gemini_api_key");F&&U(F)},[]);const q=()=>O(!0),X=()=>O(!1),z=()=>V(!0),K=()=>V(!1),E=F=>{U(F),localStorage.setItem("gemini_api_key",F),X(),p(null)},_=Ne.useCallback(async()=>{try{await by(),N([]),K(),X(),H({message:"Semua riwayat telah berhasil dihapus.",visible:!0});const F=setTimeout(()=>{H(ae=>({...ae,visible:!1}))},4e3)}catch(F){console.error("Gagal membersihkan riwayat:",F);const ae=F instanceof Error?F.message:String(F);H({message:`Gagal menghapus riwayat: ${ae}`,visible:!0}),setTimeout(()=>{H(ce=>({...ce,visible:!1}))},6e3)}},[]),[ee,Q]=Ne.useState(()=>typeof window<"u"&&(localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches)?(document.documentElement.classList.add("dark"),"dark"):"light");Ne.useEffect(()=>{const F=window.document.documentElement;ee==="dark"?F.classList.add("dark"):F.classList.remove("dark"),localStorage.setItem("theme",ee)},[ee]);const w=()=>{Q(F=>F==="light"?"dark":"light")},$=()=>{e(!1),l.forEach(F=>URL.revokeObjectURL(F.imageUrl)),o([]),p(null),c(!1),h(!1)},ne=Ne.useCallback(async F=>{if(F.length===0)return;h(!0),p(null),l.forEach(ce=>URL.revokeObjectURL(ce.imageUrl)),o([]);const ae={maxSizeMB:1,maxWidthOrHeight:1024,useWebWorker:!0,fileType:"image/jpeg"};try{const ce=Array.from(F).map(ve=>ht(ve,ae)),de=(await Promise.all(ce)).map((ve,Ae)=>{const xe=F[Ae],nt=new File([ve],xe.name,{type:ve.type});return{id:crypto.randomUUID(),file:nt,imageUrl:URL.createObjectURL(nt),content:null,error:null,isLoading:!1}});o(de)}catch(ce){console.error("Gagal mengompres gambar:",ce),p("Gagal mengompres satu atau lebih gambar. Pastikan format file didukung (JPEG, PNG).")}finally{h(!1)}},[l]);Ne.useEffect(()=>{if(!n){T(!1);return}let F=0;const ae=de=>{var ve;de.preventDefault(),de.stopPropagation(),F++,(ve=de.dataTransfer)!=null&&ve.items&&de.dataTransfer.items.length>0&&T(!0)},ce=de=>{de.preventDefault(),de.stopPropagation(),F--,F===0&&T(!1)},fe=de=>{var ve;de.preventDefault(),de.stopPropagation(),T(!1),F=0,(ve=de.dataTransfer)!=null&&ve.files&&ne(de.dataTransfer.files)};return window.addEventListener("dragenter",ae),window.addEventListener("dragleave",ce),window.addEventListener("drop",fe),window.addEventListener("dragover",de=>{de.preventDefault(),de.stopPropagation()}),()=>{window.removeEventListener("dragenter",ae),window.removeEventListener("dragleave",ce),window.removeEventListener("drop",fe),window.removeEventListener("dragover",de=>{de.preventDefault(),de.stopPropagation()})}},[ne,n]);const oe=Ne.useCallback(async()=>{if(!L){p("Kunci API Gemini belum diatur. Silakan atur di Pengaturan."),q();return}if(l.length===0){p("Silakan unggah setidaknya satu gambar.");return}c(!0),p(null);const F=ae=>new Promise(ce=>setTimeout(ce,ae));for(const ae of l){o(ce=>ce.map(fe=>fe.id===ae.id?{...fe,isLoading:!0}:fe));try{const ce=await zA(ae.file,L,C);o(fe=>fe.map(de=>de.id===ae.id?{...de,content:ce,isLoading:!1,error:null}:de))}catch(ce){const fe=ce instanceof Error?ce.message:"Terjadi kesalahan tidak dikenal";console.error(`Gagal untuk ${ae.file.name}:`,ce),o(de=>de.map(ve=>ve.id===ae.id?{...ve,error:fe,isLoading:!1}:ve))}l.indexOf(ae)<l.length-1&&await F(b*1e3)}c(!1)},[l,L,C,b]),le=()=>{if(!l.some(xe=>xe.content)){alert("Tidak ada data yang dihasilkan untuk diekspor.");return}const F=l.filter(xe=>xe.content),ae=["filename","title","keywords"],ce=xe=>{const nt=Array.isArray(xe)?xe.join(", "):xe;return/[",\n\r]/.test(nt)?`"${nt.replace(/"/g,'""')}"`:nt},fe=F.map(xe=>[ce(xe.file.name),ce(xe.content.title),ce(xe.content.keywords)].join(",")),de=[ae.join(","),...fe].join(`
`),ve=new Blob([de],{type:"text/csv;charset=utf-8;"}),Ae=document.createElement("a");Ae.href=URL.createObjectURL(ve),Ae.download=`ai_microstock_export_${new Date().toISOString()}.csv`,document.body.appendChild(Ae),Ae.click(),document.body.removeChild(Ae),URL.revokeObjectURL(Ae.href)};return n?A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 transition-colors duration-300",children:[A.jsx(Sy,{theme:ee,toggleTheme:w,onOpenSettingsModal:q,onOpenHistoryModal:z,onGoHome:$}),g&&A.jsx(n_,{}),A.jsx("main",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-28 pb-16",children:A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[A.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[A.jsx(dy,{onImageUpload:ne}),A.jsx(e_,{modelMode:C,setModelMode:S})]}),A.jsxs("div",{className:"lg:col-span-8",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:["Hasil Generasi (",l.length,")"]}),A.jsxs("div",{className:"flex items-center gap-x-2",children:[l.length>0&&l.some(F=>F.content)&&A.jsxs("button",{onClick:le,className:"flex items-center justify-center px-4 py-2 text-sm font-semibold text-blue-600 dark:text-blue-400 bg-blue-100/60 dark:bg-blue-500/20 rounded-md hover:bg-blue-100 dark:hover:bg-blue-500/30 transition-all duration-200",children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Ekspor CSV"]}),A.jsx("button",{onClick:oe,disabled:r||m||l.length===0,className:"min-w-[120px] bg-blue-600 text-white font-bold py-2.5 px-6 rounded-lg hover:bg-blue-500 disabled:bg-slate-400 dark:disabled:bg-slate-600 disabled:cursor-not-allowed transition-all duration-300 flex items-center justify-center text-base shadow-lg shadow-blue-500/30 disabled:shadow-none",children:r?A.jsx(Wh,{}):m?"Memproses...":"Mulai Buat"})]})]}),v&&A.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg relative mb-4",role:"alert",children:v}),A.jsx("div",{className:"space-y-4",children:l.length>0?l.map(F=>A.jsx(yy,{item:F},F.id)):A.jsxs("div",{className:"text-center py-16 border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-xl",children:[A.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14M6 18h12a2 2 0 002-2V8a2 2 0 00-2-2H6a2 2 0 00-2 2v8a2 2 0 002 2z"})}),A.jsx("h3",{className:"mt-2 text-lg font-medium text-slate-800 dark:text-slate-200",children:"Menunggu Gambar"}),A.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Unggah gambar untuk memulai proses pembuatan."})]})})]})]})})]}),A.jsx(Uy,{isOpen:J,onClose:X,onSaveApiKey:E,currentApiKey:L,delay:b,setDelay:D,onClearHistory:_}),A.jsx(d_,{isOpen:R,onClose:K,history:W,onClearHistory:_}),P.visible&&A.jsx(o_,{message:P.message,onClose:G})]}):A.jsx(WA,{onLaunchApp:()=>e(!0),theme:ee,toggleTheme:w})},Hp=document.getElementById("root");if(!Hp)throw new Error("Could not find root element to mount to");const S_=fy.createRoot(Hp);S_.render(A.jsx(ny.StrictMode,{children:A.jsx(x_,{})}));
